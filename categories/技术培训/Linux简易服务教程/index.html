<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
<title>Kategorie: Linux简易服务教程 - Amy and Booboo</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">




<meta name="description" content="君不见黄河之水天上来，奔流到海不复回。">





    <meta name="description" content="君不见黄河之水天上来，奔流到海不复回。">
<meta property="og:type" content="website">
<meta property="og:title" content="Amy and Booboo">
<meta property="og:url" content="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/Linux%E7%AE%80%E6%98%93%E6%9C%8D%E5%8A%A1%E6%95%99%E7%A8%8B/index.html">
<meta property="og:site_name" content="Amy and Booboo">
<meta property="og:description" content="君不见黄河之水天上来，奔流到海不复回。">
<meta property="article:author" content="BoobooWei">
<meta name="twitter:card" content="summary">





<link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">


<link rel="stylesheet" href="/css/style.css">


<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
    
    
    
    
    
    
    
    
    

    


<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Amy and Booboo" type="application/atom+xml">
</head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                    
                    <img src="/images/influx.svg" alt="" height="28">
                    
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item "
               href="/archives">Archives</a>
            
            <a class="navbar-item "
               href="/categories">Categories</a>
            
            <a class="navbar-item "
               href="/tools">Tools</a>
            
            <a class="navbar-item "
               href="/about">About</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="Suche" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            
            <a class="navbar-item" title="GitHub" href="https://github.com/ppoffice/hexo-theme-minos" target="_blank" rel="noopener">
                
                <i class="fab fa-github"></i>
                
            </a>
               
            
        </div>
    </div>
</nav>

    <section class="section section-heading">
    <div class="container">
        <div class="content">
            <h5><i class="far fa-folder"></i>Linux简易服务教程</h5>
        </div>
    </div>
</section>
<section class="section">
    <div class="container">
    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2016/12/23/booboo_easy_service/00_linux_classroom_env/" itemprop="url">LINUX 基础服务课程环境使用说明</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2016-12-22T21:06:27.000Z" itemprop="datePublished">12月 23 2016</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/">技术培训</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/Linux%E7%AE%80%E6%98%93%E6%9C%8D%E5%8A%A1%E6%95%99%E7%A8%8B/">Linux简易服务教程</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            22 分钟 lesen (Über 3275 Wörter)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p>UP100 &#x8BFE;&#x7A0B;&#x57FA;&#x4E8E;RHEL6.5&#x3001;RHEL7.0&#x3001;ubuntu1604&#x3001;WindowsXP&#x548C;Windows2012R2&#x7CFB;&#x7EDF;</p>
<p>&#x9700;&#x8981;&#x5F00;&#x542F;&#x865A;&#x62DF;&#x673A;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x53CC;&#x51FB;&#x56FE;&#x6807;&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x542F;&#x52A8;&#x65F6;&#x5C06;&#x4ECE;&#x8BB2;&#x5E08;&#x673A;&#x4E0B;&#x8F7D;&#x6620;&#x50CF;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x6BD4;&#x8F83;&#x6162;&#x3002;</p>
<p>&#x63A7;&#x5236;&#x865A;&#x62DF;&#x673A;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;kiosk&#x7528;&#x6237;&#xFF0C;&#x6267;&#x884C;rht-vmctl&#x547D;&#x4EE4;&#xFF0C;&#x8BF7;&#x81EA;&#x884C;&#x67E5;&#x770B;&#x547D;&#x4EE4;&#x4F7F;&#x7528;&#x3002;</p>
<h3 id="&#x6388;&#x8BFE;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#x5982;&#x4E0B;"><a href="#&#x6388;&#x8BFE;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#x5982;&#x4E0B;" class="headerlink" title="&#x6388;&#x8BFE;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#x5982;&#x4E0B;"></a>&#x6388;&#x8BFE;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#x5982;&#x4E0B;</h3><p><strong>f0~fN</strong>&#x4E3A;&#x6559;&#x5BA4;&#x7269;&#x7406;&#x673A;&#xFF0C;&#x5176;&#x57DF;&#x540D;&#x4E3A;<code>foundationN.ilt.example.com</code> ,&#x53EF;&#x7B80;&#x5199;&#x4E3A;<code>fN</code>&#x3002;&#x5176;IP&#x4E3A;<code>172.25.N.250</code>&#xFF0C;<code>f0</code>&#x7279;&#x6B8A;&#x4E3A;<code>172.25.254.250</code>&#x3002;</p>
<p><code>classroom</code>&#x865A;&#x62DF;&#x673A;&#x4E3A;&#x6240;&#x6709;&#x7269;&#x7406;&#x673A;&#x548C;&#x865A;&#x62DF;&#x673A;&#x7684;&#x9ED8;&#x8BA4;&#x7F51;&#x5173;&#xFF0C;&#x914D;&#x7F6E;&#x4E86;&#x591A;&#x4E2A;&#x7F51;&#x5361;&#x8BBE;&#x7F6E;&#x4E86;&#x6240;&#x6709;<code>172.25.N.254</code>&#x7684;&#x5730;&#x5740;&#xFF0C;&#x4FDD;&#x8BC1;&#x865A;&#x62DF;&#x673A;&#x3001;&#x7269;&#x7406;&#x673A;&#x548C;&#x5404;&#x4E2A;&#x5B66;&#x751F;&#x673A;&#x4E4B;&#x95F4;&#x7684;&#x8DEF;&#x7531;&#x3002;&#x914D;&#x7F6E;&#x4E86;<code>DHCP</code>&#x3001;<code>DNS</code>&#x548C;<code>HTTP</code>&#x670D;&#x52A1;&#xFF0C;&#x5176;&#x57DF;&#x540D;&#x4E3A;<code>classroom.example.com</code>&#x53EF;&#x7B80;&#x5199;&#x4E3A;<code>classroom</code>&#x3002;</p>
<p>rhel6&#x865A;&#x62DF;&#x673A;&#x5747;&#x5B89;&#x88C5;RHEL6.5&#x7CFB;&#x7EDF;&#xFF0C;rhel7&#x865A;&#x62DF;&#x673A;&#x5747;&#x5B89;&#x88C5;RHEL7.0&#x7CFB;&#x7EDF;&#xFF0C;ubuntu1604&#x865A;&#x62DF;&#x673A;&#x5747;&#x5B89;&#x88C5;Ubuntu1604&#x7CFB;&#x7EDF;&#xFF0C;&#x5747;&#x5B89;&#x88C5;&#x56FE;&#x5F62;&#x5316;&#x754C;&#x9762;&#x5E76;&#x914D;&#x7F6E;runlevel 5&#x542F;&#x52A8;&#xFF0C;root&#x5BC6;&#x7801;&#x4E3A;uplooking &#xFF0C;&#x914D;&#x7F6E;&#x4E86;&#x57FA;&#x7840;&#x7684;YUM&#x6E90;&#x6307;&#x5411;classroom&#xFF0C; rhel6&#x3001;rhel7&#x3001;ubuntu1604&#x3001;winxp&#x548C;win2012r2&#x865A;&#x62DF;&#x673A;&#x5747;&#x914D;&#x7F6E;&#x4E86;1&#x5757;&#x865A;&#x62DF;&#x673A;&#x7F51;&#x5361;&#xFF0C;eth0&#x63A5;&#x5165;&#x7269;&#x7406;&#x673A;br0&#x7F51;&#x6865;&#xFF0C;&#x52A8;&#x6001;&#x83B7;&#x5F97;ip&#x5730;&#x5740;:</p>
<table>
<thead>
<tr>
<th align="left">hostname</th>
<th align="left">ipaddr</th>
</tr>
</thead>
<tbody><tr>
<td align="left">rhel7</td>
<td align="left">172.25.N.10</td>
</tr>
<tr>
<td align="left">rhel6</td>
<td align="left">172.25.N.11</td>
</tr>
<tr>
<td align="left">winxp</td>
<td align="left">172.25.N.12</td>
</tr>
<tr>
<td align="left">ubuntu</td>
<td align="left">172.25.N.14</td>
</tr>
<tr>
<td align="left">win2012r2</td>
<td align="left">172.25.N.15</td>
</tr>
</tbody></table>
<p>rhel6&#x3001;rhel7&#x3001;ubuntu1604&#x865A;&#x62DF;&#x673A;&#x5747;&#x914D;&#x7F6E;&#x4E24;&#x5757;&#x865A;&#x62DF;&#x786C;&#x76D8;vda&#x548C;vdb&#xFF0C;&#x4EE5;&#x65B9;&#x4FBF;&#x6388;&#x8BFE;&#x6F14;&#x793A;&#x3002;&#x9664;winxp&#x548C;win2012r2&#x4E4B;&#x5916;&#x5176;&#x5B83;&#x865A;&#x62DF;&#x673A;&#x5747;&#x914D;&#x7F6E;2GB&#x8FD0;&#x884C;&#x5185;&#x5B58;&#xFF0C;winxp&#x914D;&#x7F6E;1GB&#x8FD0;&#x884C;&#x5185;&#x5B58;&#xFF0C;win2012r2&#x914D;&#x7F6E;4GB&#x8FD0;&#x884C;&#x5185;&#x5B58;&#x3002;</p>
<p>winxp&#x865A;&#x62DF;&#x673A;&#x4E3B;&#x673A;&#x4E0A;&#x5B89;&#x88C5;&#x4E86;&#x5982;&#x4E0B;&#x8F6F;&#x4EF6;&#xFF1A;</p>
<ul>
<li>Cisco Packet Tracer</li>
<li>Putty</li>
<li>Winscp</li>
<li>Xshell</li>
<li>Wireshark</li>
<li>Navicat for Mysql</li>
<li>Microsoft Visio 2010</li>
<li>7-zip</li>
</ul>
<p>&#x5DF2;&#x5728;classroom&#x4E0A;&#x5B8C;&#x6210;DNS&#x914D;&#x7F6E;&#xFF0C;&#x6B63;&#x5411;&#x548C;&#x65B9;&#x5411;&#x57DF;&#x540D;&#x53CA;&#x90AE;&#x4EF6;&#x4EE3;&#x7406;&#x57DF;&#x540D;&#x548C;&#x865A;&#x62DF;&#x673A;&#x57DF;&#x540D;&#x8BBE;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A;</p>
<p>rhel7&#x4E3B;&#x673A;&#xFF1A;172.25.N.10</p>
<ul>
<li>rhel7-fN.example.com</li>
<li>dN.example.com</li>
<li>imapN.example.com</li>
<li>smtpN.example.com (MX)</li>
</ul>
<p>rhel6&#x4E3B;&#x673A;&#xFF1A; 172.25.N.11</p>
<ul>
<li>rhel6-fN.example.com</li>
<li>sN.example.com</li>
<li>wwwN.example.com</li>
<li>webapp-fN.example.com</li>
</ul>
<p>winxp&#x4E3B;&#x673A;&#xFF1A; 172.25.N.12</p>
<ul>
<li>winxp-fN.example.com</li>
<li>install &#x4E3B;&#x673A;&#xFF1A;172.25.N.13</li>
<li>install-fN.example.com</li>
<li>ubuntu&#x4E3B;&#x673A;&#xFF1A;172.25.N.14</li>
<li>ubuntu-fN.example.com</li>
</ul>
<p>win2012r2&#x4E3B;&#x673A;&#xFF1A;172.25.N.15</p>
<ul>
<li>win2012r2-fN.example.com</li>
</ul>
<h3 id="&#x6CE8;&#x610F;&#x4E8B;&#x9879;"><a href="#&#x6CE8;&#x610F;&#x4E8B;&#x9879;" class="headerlink" title="&#x6CE8;&#x610F;&#x4E8B;&#x9879;"></a>&#x6CE8;&#x610F;&#x4E8B;&#x9879;</h3><p>rhel6.5 SElinux&#x6709;bug&#xFF0C;&#x5149;&#x76D8;&#x4E2D;&#x9ED8;&#x8BA4;&#x6CA1;&#x6709;selinux&#x76F8;&#x5173;manpage&#xFF0C;&#x770B;manpage&#x9700;&#x8981;&#x5B89;&#x88C5;selinux-policy-doc&#x5305;&#xFF0C;&#x4F46;&#x8FD9;&#x4E2A;&#x5305;&#x9700;&#x8981;&#x4ECE;RHN&#x4E0B;&#x8F7D;&#x3002;</p>
<h3 id="&#x7F51;&#x7EDC;&#x62D3;&#x6251;&#x56FE;"><a href="#&#x7F51;&#x7EDC;&#x62D3;&#x6251;&#x56FE;" class="headerlink" title="&#x7F51;&#x7EDC;&#x62D3;&#x6251;&#x56FE;"></a>&#x7F51;&#x7EDC;&#x62D3;&#x6251;&#x56FE;</h3><p><img src="/2016/12/23/booboo_easy_service/00_linux_classroom_env/01-up100.png" alt="up100"></p>
<hr>
<h2 id="&#x57FA;&#x7840;&#x670D;&#x52A1;&#x7B80;&#x4ECB;"><a href="#&#x57FA;&#x7840;&#x670D;&#x52A1;&#x7B80;&#x4ECB;" class="headerlink" title="&#x57FA;&#x7840;&#x670D;&#x52A1;&#x7B80;&#x4ECB;"></a>&#x57FA;&#x7840;&#x670D;&#x52A1;&#x7B80;&#x4ECB;</h2><p>&#x672C;&#x7AE0;&#x5C06;&#x8BB2;&#x89E3;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;</p>
<ul>
<li>RHEL6 &#x4E2D;Linux&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x7684;&#x57FA;&#x7840;&#x77E5;&#x8BC6;&#x3001;System V&#x4E0E;Xinetd&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x4EE5;&#x53CA;&#x901A;&#x8FC7; servcie &#x547D;&#x4EE4;&#x6765;&#x542F;&#x52A8;&#x67D0;&#x4E00;&#x670D;&#x52A1;&#xFF0C;&#x901A;&#x8FC7; chkconfig &#x547D;&#x4EE4;&#x6765;&#x8BBE;&#x7F6E;&#x670D;&#x52A1;&#x662F;&#x5426;&#x5F00;&#x673A;&#x542F;&#x52A8;</li>
<li>RHEL7 &#x4E2D; &#x5DF2;&#x7ECF;&#x66FF;&#x6362;&#x6389; System V init&#xFF0C;&#x5E76;&#x6B63;&#x5F0F;&#x91C7;&#x7528;&#x5168;&#x65B0;&#x7684;&#x521D;&#x59CB;&#x5316;&#x8FDB;&#x7A0B; Systemd&#xFF0C;&#x4EE5;&#x53CA;&#x901A;&#x8FC7;systemctl &#x547D;&#x4EE4;&#x6765;&#x542F;&#x52A8;&#x67D0;&#x4E00;&#x670D;&#x52A1;&#x548C;&#x8BBE;&#x7F6E;&#x8BE5;&#x670D;&#x52A1;&#x662F;&#x5426;&#x5F00;&#x673A;&#x542F;&#x52A8;</li>
</ul>
<blockquote>
<p>&#x91CD;&#x70B9;&#x7B80;&#x4ECB;rhel6&#xFF0C;rhel7&#x53EA;&#x505A;&#x547D;&#x4EE4;&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x5177;&#x4F53;&#x5185;&#x5BB9;&#x8BF7;&#x53C2;&#x8003;&#x300A;systemd&#x8BF4;&#x660E;&#x300B;</p>
</blockquote>
<h3 id="&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x7684;&#x57FA;&#x672C;&#x6982;&#x5FF5;"><a href="#&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x7684;&#x57FA;&#x672C;&#x6982;&#x5FF5;" class="headerlink" title="&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x7684;&#x57FA;&#x672C;&#x6982;&#x5FF5;"></a>&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x7684;&#x57FA;&#x672C;&#x6982;&#x5FF5;</h3><p>&#x670D;&#x52A1;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x8FD0;&#x884C;&#x5728;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x540E;&#x53F0;&#x7684;&#x4E00;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x4E3A;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x6216;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x67D0;&#x9879;&#x7279;&#x5B9A;&#x7684;&#x670D;&#x52A1;&#x3002;</p>
<p>&#x5728;&#x6211;&#x4EEC;&#x7684;windows&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5176;&#x5728;&#x540E;&#x53F0;&#x4E5F;&#x8FD0;&#x884C;&#x4E86;&#x8BB8;&#x8BB8;&#x591A;&#x591A;&#x7684;&#x670D;&#x52A1;&#x3002;&#x4F8B;&#x5982;&#x6211;&#x4EEC;&#x88C5;&#x7684;&#x6740;&#x6BD2;&#x8F6F;&#x4EF6;&#xFF0C;&#x5176;&#x5728;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#x4E86;&#x8BB8;&#x591A;&#x6211;&#x4EEC;&#x770B;&#x4E0D;&#x89C1;&#x7684;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;&#x670D;&#x52A1;&#x6765;&#x4E3A;&#x7528;&#x6237;&#x6216;&#x8005;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x6765;&#x63D0;&#x9AD8;&#x7279;&#x5B9A;&#x7684;&#x529F;&#x80FD;&#x3002;</p>
<p>&#x670D;&#x52A1;&#x901A;&#x5E38;&#x662F;&#x4E0D;&#x4E2D;&#x65AD;&#x8FD0;&#x884C;&#x7684;&#xFF0C;&#x968F;&#x65F6;&#x51C6;&#x5907;&#x63A5;&#x53D7;&#x8BF7;&#x6C42;&#xFF0C;&#x4ECE;&#x800C;&#x63D0;&#x4F9B;&#x67D0;&#x9879;&#x670D;&#x52A1;&#x3002;&#x4F8B;&#x5982;&#x6211;&#x4EEC;&#x65E5;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#x7F51;&#x9875;&#x670D;&#x52A1;&#xFF0C;&#x5176;&#x5C31;&#x662F;&#x7531;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x5728;&#x6240;&#x8BBF;&#x95EE;&#x7F51;&#x7AD9;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;httpd&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x8F93;&#x5165;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x7F51;&#x7AD9;&#x7684;&#x57DF;&#x540D;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;httpd&#x670D;&#x52A1;&#x5C31;&#x4F1A;&#x968F;&#x65F6;&#x7684;&#x63A5;&#x6536;&#x6211;&#x4EEC;&#x53D1;&#x9001;&#x8FC7;&#x6765;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5E76;&#x54CD;&#x5E94;&#x56DE;&#x7ED9;&#x6211;&#x4EEC;&#x7684;&#x7528;&#x6237;&#x3002;</p>
<p>&#x6211;&#x4EEC;Linux&#x7CFB;&#x7EDF;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x670D;&#x52A1;&#x90FD;&#x662F;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#xFF0C;&#x4F8B;&#x5982;&#x90AE;&#x4EF6;&#x670D;&#x52A1;&#x3001;FTP&#x670D;&#x52A1;&#x3001;httpd&#x670D;&#x52A1;&#x7B49;&#x7B49;&#xFF0C;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#x53EF;&#x4EE5;&#x4F7F;&#x4E3A;&#x5176;&#x4ED6;&#x7528;&#x6237;&#x3001;&#x5176;&#x4ED6;&#x8BA1;&#x7B97;&#x673A;&#x63D0;&#x4F9B;&#x7279;&#x5B9A;&#x7684;&#x670D;&#x52A1;&#x3002;</p>
<h3 id="services-&#x548C;-daemons"><a href="#services-&#x548C;-daemons" class="headerlink" title="services &#x548C; daemons"></a>services &#x548C; daemons</h3><table>
<thead>
<tr>
<th align="left">&#x670D;&#x52A1;&#x540D;</th>
<th align="left">&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x540D;</th>
</tr>
</thead>
<tbody><tr>
<td align="left">rsyslog</td>
<td align="left">rsyslogd</td>
</tr>
<tr>
<td align="left">atd</td>
<td align="left">atd</td>
</tr>
<tr>
<td align="left">crond</td>
<td align="left">crond</td>
</tr>
</tbody></table>
<p><strong>&#x670D;&#x52A1;&#x7684;&#x5206;&#x7C7B;</strong> &#x670D;&#x52A1;&#x540D;&#x901A;&#x5E38;&#x6709;&#x4E24;&#x4E2A;&#xFF0C;&#x4E00;&#x4E2A;&#x8FD9;&#x4E2A;&#x57FA;&#x4E8E;&#x7A0B;&#x5E8F;&#x7684;&#x670D;&#x52A1;&#x540D;&#x79F0;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x5B83;&#x53EB;&#x505A;service&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;ftp&#x670D;&#x52A1;&#xFF0C;samba&#x670D;&#x52A1;&#x7B49;&#x7B49;&#x3002;<br>&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x662F;&#x57FA;&#x4E8E;&#x8FDB;&#x7A0B;&#x7684;&#x670D;&#x52A1;&#x540D;&#x79F0;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x628A;&#x5B83;&#x53EB;&#x505A;daemon&#xFF0C;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x4F7F;&#x7528;ps&#x547D;&#x4EE4;&#x65F6;&#x5019;&#x770B;&#x5230;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x6BD4;&#x5982;httpd&#xFF0C;&#x6BD4;&#x5982;named&#x4E4B;&#x7C7B;&#x7684;&#x7B49;&#x7B49;&#xFF0C;&#x4E00;&#x822C;&#x670D;&#x52A1;&#x7684;&#x8FDB;&#x7A0B;&#x540D;&#x90FD;&#x662F;&#x7A0B;&#x5E8F;&#x540D;&#x79F0;&#x540E;&#x52A0;&#x4E0A;&#x4E00;&#x4E2A;d&#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x6709;&#x4E0D;&#x5C11;&#x7684;&#x7279;&#x4F8B;&#x3002;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x90FD;&#x4F1A;&#x4E00;&#x4E00;&#x53BB;&#x8BF4;&#x8FD9;&#x4E9B;&#x670D;&#x52A1;&#x3002;</p>
<h3 id="&#x57FA;&#x4E8E;-daemon-&#x5206;&#x7C7B;"><a href="#&#x57FA;&#x4E8E;-daemon-&#x5206;&#x7C7B;" class="headerlink" title="&#x57FA;&#x4E8E; daemon &#x5206;&#x7C7B;"></a>&#x57FA;&#x4E8E; daemon &#x5206;&#x7C7B;</h3><p>&#x90A3;&#x4E48;&#x6839;&#x636E;daemon&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;&#x670D;&#x52A1;&#x5206;&#x6210;&#x4E24;&#x7C7B;&#xFF0C;&#x4E00;&#x7C7B;&#x662F;&#x72EC;&#x7ACB;&#x542F;&#x52A8;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x53EB;&#x505A;stand alone daemon&#xFF0C;&#x6211;&#x4EEC;&#x4E4B;&#x540E;&#x5B66;&#x7684;&#x670D;&#x52A1;&#x57FA;&#x672C;&#x4E0A;&#x90FD;&#x662F;&#x72EC;&#x7ACB;&#x542F;&#x52A8;&#x7684;&#x670D;&#x52A1;&#x3002;&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x53EB;&#x505A;super daemon&#x3002;&#x6211;&#x4EEC;&#x5206;&#x5F00;&#x6765;&#x6765;&#x8BF4;&#x4E00;&#x4E0B;&#x8FD9;&#x4E24;&#x79CD;&#x670D;&#x52A1;&#x7684;&#x7279;&#x5F81;&#x3002;</p>
<ul>
<li>1&gt; stand alone daemon &#x72EC;&#x7ACB;&#x542F;&#x52A8;&#x670D;&#x52A1;</li>
<li>2&gt; super daemon &#x8D85;&#x7EA7;&#x670D;&#x52A1; xinted</li>
</ul>
<h4 id="System-V"><a href="#System-V" class="headerlink" title="System V"></a>System V</h4><p>&#x603B;&#x7684;&#x6765;&#x8BF4;&#xFF0C;Linux&#x7CFB;&#x7EDF;&#x901A;&#x5E38;&#x4F5C;&#x4E3A;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x6765;&#x7528;&#x7684;&#xFF0C;&#x6240;&#x4EE5;Linux&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x4E86;&#x8BB8;&#x8BB8;&#x591A;&#x7684;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x6709;&#x4E9B;&#x670D;&#x52A1;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x6765;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#xFF0C;&#x8FD9;&#x4E9B;&#x670D;&#x52A1;&#x7684;&#x76EE;&#x7684;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x7ED9;&#x6211;&#x4EEC;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x3001;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x67D0;&#x9879;&#x7279;&#x5B9A;&#x7684;&#x529F;&#x80FD;&#x3002;&#x90A3;&#x4E48;&#x5BF9;&#x4E8E;&#x5404;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x670D;&#x52A1;&#xFF0C;Linux&#x7CFB;&#x7EDF;&#x662F;&#x600E;&#x4E48;&#x6837;&#x6765;&#x7EDF;&#x4E00;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#x7684;&#x5462;&#xFF1F;</p>
<p>&#x5728;Linux&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;Linux&#x5BF9;&#x4E8E;&#x670D;&#x52A1;&#x7684;&#x7BA1;&#x7406;&#x4F53;&#x7CFB;&#x662F;&#x6CBF;&#x7528;&#x4E86;System V&#x7684;&#x670D;&#x52A1;&#x7BA1;&#x7406;&#x4F53;&#x7CFB;&#xFF0C;System V&#x539F;&#x6765;&#x662F;&#x65E9;&#x671F;AT&amp;T&#x7684;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;Linux&#x7CFB;&#x7EDF;&#xFF0C;System V&#x63D0;&#x4F9B;&#x4E86;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x8FD8;&#x8BB0;&#x5F97;&#x4E4B;&#x524D;&#x4E00;&#x76F4;&#x63D0;&#x5230;&#x8FC7;&#x7684;Linux&#x7684;&#x542F;&#x52A8;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x5417;&#xFF1F;&#x6CA1;&#x9519;&#xFF0C;System V&#x4E00;&#x5171;&#x63D0;&#x4F9B;&#x4E86;7&#x79CD;&#x8FD0;&#x884C;&#x7EA7;&#x522B;</p>
<p>0   &#x5173;&#x673A;</p>
<p>1   &#x5355;&#x7528;&#x6237;&#x6A21;&#x5F0F;</p>
<p>2   &#x4E0D;&#x5E26;&#x7F51;&#x7EDC;&#x7684;&#x591A;&#x7528;&#x6237;&#x6A21;&#x5F0F;</p>
<p>3   &#x5E26;&#x7F51;&#x7EDC;&#x7684;&#x591A;&#x7528;&#x6237;&#x6A21;&#x5F0F;&#xFF0C;&#x7EAF;&#x6587;&#x672C;&#x754C;&#x9762;</p>
<p>4   &#x672A;&#x4F7F;&#x7528;</p>
<p>5   &#x5E26;&#x7F51;&#x7EDC;&#x7684;&#x591A;&#x7528;&#x6237;&#x6A21;&#x5F0F;&#xFF0C;&#x56FE;&#x5F62;&#x754C;&#x9762;</p>
<p>6   &#x91CD;&#x542F;</p>
<p>&#x5BF9;&#x4E8E;&#x6211;&#x4EEC;&#x6765;&#x8BF4;&#xFF0C;&#x901A;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x7EA7;&#x522B;3&#x548C;&#x7EA7;&#x522B;5&#xFF0C;&#x6BCF;&#x4E2A;&#x7EA7;&#x522B;&#x4E0B;&#x90FD;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x542F;&#x52A8;&#x3001;&#x4E0D;&#x542F;&#x52A8;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x6BD4;&#x5982;&#x5355;&#x7528;&#x6237;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x670D;&#x52A1;&#x90FD;&#x662F;&#x4E0D;&#x542F;&#x52A8;&#xFF0C;&#x8FD9;&#x4E9B;&#x90FD;&#x662F;&#x901A;&#x8FC7;System V&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x7BA1;&#x7406;&#x4F53;&#x7CFB;&#x6765;&#x51B3;&#x5B9A;&#x7684;</p>
<p>System V&#x5B9A;&#x4E49;&#x4E86;init&#x4E3A;&#x7CFB;&#x7EDF;&#x542F;&#x52A8;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x8FDB;&#x7A0B;PID=1&#xFF0C;&#x8FD9;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x76EE;&#x7684;&#x5C31;&#x662F;&#x53BB;&#x67E5;&#x770B; /etc/inittab &#x4E2D;&#x7684;&#x7CFB;&#x7EDF;&#x542F;&#x52A8;&#x7EA7;&#x522B;&#x4ECE;&#x800C;&#x6765;&#x542F;&#x52A8;&#x5BF9;&#x5E94;&#x7684;&#x670D;&#x52A1;</p>
<p>&#x5BF9;&#x4E8E;&#x4E0D;&#x540C;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x56E0;&#x4E3A;&#x5176;&#x63D0;&#x4F9B;&#x8BE5;&#x670D;&#x52A1;&#x7684;&#x5382;&#x5BB6;&#x4E0D;&#x540C;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E9B;&#x7684;&#x670D;&#x52A1;&#x7684;&#x542F;&#x52A8;&#x3001;&#x5173;&#x95ED;&#x673A;&#x5236;&#x901A;&#x5E38;&#x4E0D;&#x540C;&#xFF0C;&#x5728;Linux&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x7684;&#x7BA1;&#x7406;&#x8FD9;&#x4E9B;&#x670D;&#x52A1;&#xFF0C;&#x6BCF;&#x4E2A;&#x670D;&#x52A1;&#x7684;&#x542F;&#x52A8;&#x3001;&#x7ED3;&#x675F;&#x3001;&#x91CD;&#x542F;&#x7B49;&#x64CD;&#x4F5C;&#x90FD;&#x7531;&#x4E00;&#x4E2A;System V&#x811A;&#x672C;&#x6765;&#x8FDB;&#x884C;&#x63A7;&#x5236;&#xFF0C;&#x62E5;&#x6709;&#x56FA;&#x5B9A;&#x7684;&#x683C;&#x5F0F;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;Linux&#x7CFB;&#x7EDF;&#x4E0A;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x8FD9;&#x4E9B;&#x670D;&#x52A1;&#x7684;System V&#x811A;&#x672C;&#x6587;&#x4EF6;&#x90FD;&#x662F;&#x5B58;&#x653E;&#x5728; /etc/rc.d/init.d &#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;</p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ~]# cd /etc/rc.d/init.d/</span><br><span class="line">[root@rhel6 ~]# ls</span><br><span class="line">abrt-ccpp         firstboot     messagebus      quota_nld    snmptrapd</span><br><span class="line">abrtd             functions     mysqld          rdisc        spice-vdagentd</span><br><span class="line">abrt-oops         haldaemon     netconsole      restorecond  sshd</span><br><span class="line">acpid             halt          netfs           rngd         sssd</span><br><span class="line">atd               htcacheclean  network         rpcbind      sysstat</span><br><span class="line">auditd            httpd         NetworkManager  rpcgssd      udev-post</span><br><span class="line">autofs            ip6tables     nfs             rpcidmapd    vboxadd</span><br><span class="line">blk-availability  iptables      nfslock         rpcsvcgssd   vboxadd-service</span><br><span class="line">bluetooth         irqbalance    ntpd            rsyslog      vboxadd-x11</span><br><span class="line">certmonger        kdump         ntpdate         sandbox      vncserver</span><br><span class="line">cpuspeed          killall       oddjobd         saslauthd    wdaemon</span><br><span class="line">crond             lvm2-lvmetad  portreserve     single       winbind</span><br><span class="line">cups              lvm2-monitor  postfix         smartd       wpa_supplicant</span><br><span class="line">dnsmasq           mdmonitor     psacct          snmpd        ypbind</span><br></pre></td></tr></table></figure></p>
<p>&#x6211;&#x4EEC;&#x770B;&#x5230;&#x5728;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x5B58;&#x5728;&#x4E86;&#x8BB8;&#x591A;&#x7EAF;&#x6587;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x90FD;&#x662F;&#x7CFB;&#x7EDF;&#x6BCF;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7684;System V&#x7684;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x5BF9;&#x4E8E;&#x8BE5;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x6211;&#x4EEC;&#x8981;&#x542F;&#x52A8;&#x4EC0;&#x4E48;&#x670D;&#x52A1;&#xFF0C;&#x90FD;&#x662F;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;&#x811A;&#x672C;&#x6587;&#x4EF6;&#x6765;&#x542F;&#x52A8;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7F16;&#x5199;System V&#x811A;&#x672C;&#x6587;&#x4EF6;&#x6765;&#x624B;&#x5DE5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x7684;&#x7531;System V&#x6765;&#x63A7;&#x5236;&#x7684;&#x670D;&#x52A1;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;Linux&#x7684;&#x6240;&#x6709;&#x7684;&#x8FD9;&#x4E9B;&#x670D;&#x52A1;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x8FC7; service &#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x6765;&#x8FDB;&#x884C;&#x7EDF;&#x4E00;&#x7684;&#x7BA1;&#x7406;</p>
<p>&#x547D;&#x4EE4; service &#x53EF;&#x4EE5;&#x8C03;&#x7528;&#x6307;&#x5B9A;&#x670D;&#x52A1;&#x7684;System V&#x811A;&#x672C;&#xFF0C;&#x5E76;&#x6267;&#x884C;&#x6307;&#x5B9A;&#x7684;&#x52A8;&#x4F5C;</p>
<p><code>service &#x670D;&#x52A1;&#x540D; [start | stop | restart | status]</code></p>
<p>&#x5BF9;&#x4E8E;Linux&#x7CFB;&#x7EDF;&#x7684;&#x8FD9;&#x4E9B;&#x670D;&#x52A1;&#xFF0C;&#x6211;&#x4EEC;&#x90FD;&#x662F;&#x901A;&#x8FC7; service &#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x53BB;&#x8C03;&#x7528;&#x8BE5;&#x670D;&#x52A1;&#x5BF9;&#x5E94;&#x7684;System V&#x811A;&#x672C;&#xFF0C;&#x5E76;&#x6267;&#x884C;&#x5176;&#x6307;&#x5B9A;&#x7684;&#x52A8;&#x4F5C;</p>
<p>&#x521A;&#x624D;&#x6211;&#x4EEC;&#x4E5F;&#x8BF4;&#x5230;&#x4E86;&#xFF0C;System V&#x5B9A;&#x4E49;&#x4E86;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x6BCF;&#x4E2A;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x5BF9;&#x5E94;&#x6709;&#x542F;&#x52A8;&#x3001;&#x4E0D;&#x542F;&#x52A8;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x5728; <code>/etc/rc.d</code> &#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x9664;&#x4E86;&#x6211;&#x4EEC;&#x521A;&#x624D;&#x7684; init.d &#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x53D1;&#x73B0;&#x8FD8;&#x6709;&#x5176;&#x5B83;&#x7684;&#x4E00;&#x4E9B;&#x76EE;&#x5F55;&#xFF0C;&#x8BF8;&#x5982; rc0.d&#x3001;rc1.d&#x7B49;&#x8FD9;&#x4E9B;&#x76EE;&#x5F55;&#x5C31;&#x5206;&#x522B;&#x5BF9;&#x5E94;&#x4E86;&#x7CFB;&#x7EDF;&#x7684;7&#x4E2D;&#x542F;&#x52A8;&#x7EA7;&#x522B;&#xFF0C;&#x6BCF;&#x4E2A;&#x76EE;&#x5F55;&#x91CC;&#x9762;&#x90FD;&#x5B58;&#x653E;&#x4E86;&#x8BB8;&#x591A;&#x7684;<br>&#x6587;&#x4EF6;&#xFF0C;&#x6BCF;&#x4E2A;&#x6587;&#x4EF6;&#x5BF9;&#x5E94;&#x7740;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x5E76;&#x6807;&#x5FD7;&#x6709;&#x662F;&#x5426;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x4EE5;&#x53CA;&#x542F;&#x52A8;&#x987A;&#x5E8F;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#xFF0C;&#x5728;&#x8FD9;&#x4E9B;&#x76EE;&#x5F55;&#x91CC;&#x9762;&#xFF0C;&#x5B58;&#x653E;&#x7684;&#x90FD;&#x662F;&#x94FE;&#x63A5;&#x6587;&#x4EF6;&#xFF0C;&#x4E0D;&#x8FC7;&#x8FD9;&#x6BCF;&#x4E00;&#x4E2A;&#x94FE;&#x63A5;&#x6587;&#x4EF6;&#x7684;&#x540D;&#x5B57;&#x90FD;&#x6709;&#x7740;&#x4E25;&#x683C;&#x7684;&#x89C4;&#x5B9A;&#x3002;&#x6BCF;&#x4E00;&#x4E2A;&#x94FE;&#x63A5;&#x6587;&#x4EF6;&#x90FD;&#x7531;3&#x90E8;&#x5206;&#x7EC4;&#x6210;</p>
<p><code>K15httpd -&gt; ../init.d/httpd&#x3000;&#x3000;&#x3000;&#x3000;S55sshd -&gt; ../init.d/sshd</code></p>
<ul>
<li>&#x2460;&#x7B2C;&#x4E00;&#x4E2A;&#x90E8;&#x5206;&#x662F;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x6BCD;K&#x6216;&#x8005;S&#xFF0C;&#x8868;&#x793A;&#x8BE5;&#x670D;&#x52A1;&#x662F;&#x4E0D;&#x662F;&#x662F;&#x4E0D;&#x662F;&#x5F00;&#x673A;&#x81EA;&#x52A8;&#x542F;&#x52A8;&#xFF0C;K&#x8868;&#x793A;&#x5F00;&#x673A;&#x4E0D;&#x542F;&#x52A8;&#xFF0C;S&#x8868;&#x793A;&#x5F00;&#x673A;&#x5C31;&#x542F;&#x52A8;</li>
<li>&#x2461;&#x7B2C;&#x4E8C;&#x4E2A;&#x90E8;&#x5206;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x8FD9;&#x4E2A;&#x6570;&#x5B57;&#x4EE3;&#x8868;&#x7684;&#x662F;&#x8BE5;&#x670D;&#x52A1;&#x7684;&#x542F;&#x52A8;&#x987A;&#x5E8F;&#xFF0C;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x7684;&#x987A;&#x5E8F;&#x975E;&#x5E38;&#x7684;&#x91CD;&#x8981;&#xFF0C;&#x4F8B;&#x5982;&#x6211;&#x4EEC;&#x7684;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#x9700;&#x8981;&#x5728;&#x90AE;&#x4EF6;&#x670D;&#x52A1;&#x4E4B;&#x524D;&#x542F;&#x52A8;</li>
<li>&#x2462;&#x7B2C;&#x4E09;&#x4E2A;&#x90E8;&#x5206;&#x5C31;&#x662F;&#x5BF9;&#x5E94;&#x670D;&#x52A1;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x8BE5;&#x94FE;&#x63A5;&#x6587;&#x4EF6;&#x5176;&#x5B9E;&#x90FD;&#x662F;&#x6307;&#x5411;&#x7684;&#x662F; init.d &#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;&#x7684;System V&#x811A;&#x672C;&#x6587;&#x4EF6;</li>
</ul>
<p>&#x6211;&#x4EEC;&#x5982;&#x679C;&#x5E0C;&#x671B;&#x67D0;&#x670D;&#x52A1;&#x5F00;&#x673A;&#x5C31;&#x542F;&#x52A8;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4FEE;&#x6539; rc5.d &#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x94FE;&#x63A5;&#x6587;&#x4EF6;&#xFF0C;&#x4E0D;&#x8FC7;&#x8FD9;&#x6837;&#x505A;&#x5F88;&#x9EBB;&#x70E6;&#xFF0C;Linux&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A; <code>chkconfig</code> &#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x6765;&#x8BBE;&#x7F6E;&#x670D;&#x52A1;&#x662F;&#x5426;&#x5F00;&#x673A;&#x542F;&#x52A8;</p>
<p>&#x6211;&#x4EEC;&#x901A;&#x8FC7; <code>chkconfig --list</code> &#x547D;&#x4EE4;&#x6765;&#x67E5;&#x770B;&#x6240;&#x6709;&#x670D;&#x52A1;&#x7684;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x60C5;&#x51B5;</p>
<p>&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x8BBE;&#x7F6E; network &#x670D;&#x52A1;&#x5F00;&#x542F;&#x81EA;&#x52A8;&#x542F;&#x52A8;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>chkconfig httpd on</code> &#x547D;&#x4EE4;&#x5373;&#x53EF;</p>
<p>&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x8BBE;&#x7F6E; network &#x670D;&#x52A1;&#x5F00;&#x542F;&#x4E0D;&#x542F;&#x52A8;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>chkconfig httpd off</code> &#x547D;&#x4EE4;&#x5373;&#x53EF;</p>
<h4 id="xinetd"><a href="#xinetd" class="headerlink" title="xinetd"></a>xinetd</h4><p>&#x5176;&#x5B9E;&#x5BF9;&#x4E8E;&#x4E0A;&#x9762;&#x901A;&#x8FC7; System V&#x6765;&#x7BA1;&#x7406;&#x7684;&#x4E00;&#x4E9B;&#x670D;&#x52A1;&#x90FD;&#x5C5E;&#x4E8E;Linux&#x7CFB;&#x7EDF;&#x7684;&#x5E38;&#x9A7B;&#x8FD0;&#x884C;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x5176;&#x5B9E;&#x5728;Linux&#x7CFB;&#x7EDF;&#x4E2D;&#x8FD8;&#x6709;&#x8BB8;&#x591A;&#x4E0D;&#x5E38;&#x9A7B;&#x7684;&#x4E00;&#x4E9B;&#x670D;&#x52A1;&#xFF0C;&#x4F8B;&#x5982; telnet&#x3001;rsync&#x670D;&#x52A1;&#xFF0C;&#x8FD9;&#x4E9B;&#x670D;&#x52A1;&#x5219;&#x662F;&#x901A;&#x8FC7; xinetd &#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x6765;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#x7684;&#x3002;</p>
<p>xinetd &#x63A7;&#x5236;&#x7684;&#x5C31;&#x662F;&#x90A3;&#x4E9B;&#x4E0D;&#x5E38;&#x9A7B;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x529F;&#x80FD;&#x8F83;&#x4E3A;&#x7B80;&#x5355;&#x7684;&#x670D;&#x52A1;</p>
<p>xinetd&#x5176;&#x5B9E;&#x81EA;&#x5DF1;&#x672C;&#x8EAB;&#x5C31;&#x662F;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#x7684;&#x5E38;&#x9A7B;&#x7684;&#x670D;&#x52A1;&#x8FD0;&#x884C;&#x5728;&#x540E;&#x53F0;&#xFF0C;&#x800C;xinetd&#x6240;&#x63A7;&#x5236;&#x7684;&#x670D;&#x52A1;&#x5728;&#x6CA1;&#x6709;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x7684;&#x65F6;&#x5019;&#x662F;&#x4E0D;&#x8FD0;&#x884C;&#x7684;&#xFF0C;&#x6240;&#x6709;xinetd&#x63A7;&#x5236;&#x7684;&#x670D;&#x52A1;&#x7684;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x90FD;&#x4F1A;&#x63D0;&#x4EA4;&#x7ED9;xinetd&#x6765;&#x8FDB;&#x884C;&#x4EE3;&#x7406;</p>
<p>xinetd&#x5728;&#x6536;&#x5230;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x540E;&#xFF0C;&#x4F1A;&#x6839;&#x636E;&#x8BF7;&#x6C42;&#x7684;&#x534F;&#x8BAE;&#x53CA;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x76F8;&#x5E94;&#x7684;&#x670D;&#x52A1;&#x8FDB;&#x7A0B;&#xFF0C;&#x8FDB;&#x7A0B;&#x5904;&#x7406;&#x5B8C;&#x540E;&#x8BF7;&#x6C42;&#x5C31;&#x4F1A;&#x7ED3;&#x675F;</p>
<p>xinetd&#x672C;&#x8EAB;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#xFF0C;&#x901A;&#x8FC7; System V&#x6765;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#xFF0C;&#x5728;CentOS6/RHEL6&#x4E2D;&#xFF0C;xinetd&#x670D;&#x52A1;&#x9ED8;&#x8BA4;&#x662F;&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x82E5;&#x8981;&#x4F7F;&#x7528;&#x8BE5;&#x670D;&#x52A1;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x5B83;<code>yum install xinetd</code></p>
<p>&#x5728;&#x6211;&#x4EEC;&#x5B89;&#x88C5;&#x597D;&#x6211;&#x4EEC;&#x7684;<code>xinetd</code>&#x670D;&#x52A1;&#x4EE5;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x8FD9;&#x65F6;&#x518D;&#x901A;&#x8FC7; <code>chkconfig --list</code> &#x547D;&#x4EE4;&#x6765;&#x67E5;&#x770B;&#x6240;&#x6709;&#x7684;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x8BBE;&#x7F6E;</p>
<p>&#x6211;&#x4EEC;&#x770B;&#x5230;&#xFF0C;&#x5728;&#x5B89;&#x88C5;&#x4E86;xinetd&#x670D;&#x52A1;&#x4EE5;&#x540E;&#xFF0C;&#x5176;&#x4E0B;&#x9762;&#x51FA;&#x73B0;&#x4E86;&#x4E00;&#x4E9B;&#x5176;&#x4ED6;&#x7684;&#x670D;&#x52A1;&#x9009;&#x9879;&#xFF0C;&#x4F8B;&#x5982;<code>rsync</code>&#xFF0C;<code>chargen-dgram</code>&#x7B49;&#x8FD9;&#x4E9B;&#x670D;&#x52A1;&#xFF0C;&#x8FD9;&#x4E9B;&#x670D;&#x52A1;&#x90FD;&#x662F;&#x7CFB;&#x7EDF;&#x7684;&#x4E00;&#x4E9B;&#x4E0D;&#x5E38;&#x9A7B;&#x670D;&#x52A1;&#xFF0C;&#x90FD;&#x662F;&#x901A;&#x8FC7;xinetd&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x6765;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#x7684;</p>
<p><code>xinetd</code>&#x670D;&#x52A1;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x662F; <code>/etc/xinetd.conf</code></p>
<h3 id="&#x7AEF;&#x53E3;&#x53F7;"><a href="#&#x7AEF;&#x53E3;&#x53F7;" class="headerlink" title="&#x7AEF;&#x53E3;&#x53F7;"></a>&#x7AEF;&#x53E3;&#x53F7;</h3><ul>
<li>&#x67E5;&#x770B; <code>netstat -luntp</code></li>
<li>&#x8F6F;&#x4EF6;&#x540D;    <code>net-tools</code></li>
</ul>
<h3 id="&#x57FA;&#x7840;&#x670D;&#x52A1;&#x603B;&#x7ED3;"><a href="#&#x57FA;&#x7840;&#x670D;&#x52A1;&#x603B;&#x7ED3;" class="headerlink" title="&#x57FA;&#x7840;&#x670D;&#x52A1;&#x603B;&#x7ED3;"></a>&#x57FA;&#x7840;&#x670D;&#x52A1;&#x603B;&#x7ED3;</h3><p><strong>RHEL 6</strong></p>
<p>&#x670D;&#x52A1;&#x7684;&#x542F;&#x52A8; &#x505C;&#x6B62; &#x91CD;&#x542F; &#x72B6;&#x6001;    <code>service &#x670D;&#x52A1;&#x540D; [start | stop | restart | status]</code></p>
<p>&#x670D;&#x52A1;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x72B6;&#x6001;        <code>chkconfig --list</code></p>
<p>&#x8BBE;&#x7F6E;&#x670D;&#x52A1;&#x5F00;&#x673A;&#x542F;&#x52A8;        <code>chkconfig &#x670D;&#x52A1;&#x540D; on</code></p>
<p>&#x8BBE;&#x7F6E;&#x670D;&#x52A1;&#x5F00;&#x673A;&#x4E0D;&#x542F;&#x52A8;        <code>chkconfig &#x670D;&#x52A1;&#x540D; off</code></p>
<p><strong>RHEL 7</strong></p>
<p>&#x670D;&#x52A1;&#x7684;&#x542F;&#x52A8; &#x505C;&#x6B62; &#x91CD;&#x542F; &#x72B6;&#x6001;    <code>systemctl [start | stop | restart | status] &#x670D;&#x52A1;&#x540D;</code></p>
<p>&#x8BBE;&#x7F6E;&#x670D;&#x52A1;&#x5F00;&#x673A;&#x542F;&#x52A8;        <code>systemctl enable &#x670D;&#x52A1;&#x540D;</code></p>
<p>&#x8BBE;&#x7F6E;&#x670D;&#x52A1;&#x5F00;&#x673A;&#x4E0D;&#x542F;&#x52A8;        <code>systemctl disable &#x670D;&#x52A1;&#x540D;</code></p>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2016/12/23/booboo_easy_service/02_ftp/" itemprop="url">FTP文件共享服务</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2016-12-22T21:06:27.000Z" itemprop="datePublished">12月 23 2016</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/">技术培训</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/Linux%E7%AE%80%E6%98%93%E6%9C%8D%E5%8A%A1%E6%95%99%E7%A8%8B/">Linux简易服务教程</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            1 小时 lesen (Über 11604 Wörter)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <blockquote>
<p>&#x8BFE;&#x7A0B;&#x8981;&#x6C42;</p>
</blockquote>
<ol>
<li>&#x8BBE;&#x7F6E;vsftpd&#x670D;&#x52A1;&#x533F;&#x540D;&#x7528;&#x6237;&#x80FD;&#x591F;&#x5BF9;/var/ftp/pub/&#x76EE;&#x5F55;&#x6709;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x7684;&#x6743;&#x9650;&#x3002;</li>
<li>&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x5BB6;&#x76EE;&#x5F55;&#xFF0C;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x5220;&#x9664;</li>
<li>&#x9664;&#x4E86;&#x7CFB;&#x7EDF;&#x7528;&#x6237;student&#x6709;chroot&#x7684;&#x6743;&#x9650;&#xFF0C;&#x5176;&#x4ED6;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x6CA1;&#x6709;chroot&#x7684;&#x6743;&#x9650;</li>
</ol>
<h3 id="FTP&#x670D;&#x52A1;"><a href="#FTP&#x670D;&#x52A1;" class="headerlink" title="FTP&#x670D;&#x52A1;"></a>FTP&#x670D;&#x52A1;</h3><p>FTP &#x662F;File Transfer Protocol&#xFF08;&#x6587;&#x4EF6;&#x4F20;&#x8F93;&#x534F;&#x8BAE;&#xFF09;&#x7684;&#x82F1;&#x6587;&#x7B80;&#x79F0;&#xFF0C;&#x800C;&#x4E2D;&#x6587;&#x7B80;&#x79F0;&#x4E3A;&#x201C;&#x6587;&#x4F20;&#x534F;&#x8BAE;&#x201D;&#x3002;&#x7528;&#x4E8E;<br>Internet&#x4E0A;&#x7684;&#x63A7;&#x5236;&#x6587;&#x4EF6;&#x7684;&#x53CC;&#x5411;&#x4F20;&#x8F93;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x5B83;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF08;Application&#xFF09;&#x3002;&#x57FA;&#x4E8E;&#x4E0D;&#x540C;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x6709;<br>&#x4E0D;&#x540C;&#x7684;FTP&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x800C;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x90FD;&#x9075;&#x5B88;&#x540C;&#x4E00;&#x79CD;&#x534F;&#x8BAE;&#x4EE5;&#x4F20;&#x8F93;&#x6587;&#x4EF6;&#x3002;&#x5728;FTP&#x7684;&#x4F7F;&#x7528;&#x5F53;&#x4E2D;&#xFF0C;&#x7528;&#x6237;&#x7ECF;&#x5E38;&#x9047;&#x5230;&#x4E24;<br>&#x4E2A;&#x6982;&#x5FF5;&#xFF1A;&#x201D;&#x4E0B;&#x8F7D;&#x201D;&#xFF08;Download&#xFF09;&#x548C;&#x201D;&#x4E0A;&#x4F20;&#x201D;&#xFF08;Upload&#xFF09;&#x3002;&#x201D;&#x4E0B;&#x8F7D;&#x201D;&#x6587;&#x4EF6;&#x5C31;&#x662F;&#x4ECE;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x81F3;&#x81EA;&#x5DF1;&#x7684;&#x8BA1;&#x7B97;&#x673A;<br>&#x4E0A;&#xFF1B;&#x201D;&#x4E0A;&#x4F20;&#x201D;&#x6587;&#x4EF6;&#x5C31;&#x662F;&#x5C06;&#x6587;&#x4EF6;&#x4ECE;&#x81EA;&#x5DF1;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x4E2D;&#x62F7;&#x8D1D;&#x81F3;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x4E0A;&#x3002;&#x7528;Internet&#x8BED;&#x8A00;&#x6765;&#x8BF4;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x901A;&#x8FC7;&#x5BA2;&#x6237;&#x673A;&#x7A0B;<br>&#x5E8F;&#x5411;&#xFF08;&#x4ECE;&#xFF09;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x4E0A;&#x4F20;&#xFF08;&#x4E0B;&#x8F7D;&#xFF09;&#x6587;&#x4EF6;&#x3002;</p>
<h3 id="FTP&#x539F;&#x7406;"><a href="#FTP&#x539F;&#x7406;" class="headerlink" title="FTP&#x539F;&#x7406;"></a>FTP&#x539F;&#x7406;</h3><p>FTP&#x53EA;&#x901A;&#x8FC7;TCP&#x8FDE;&#x63A5;,&#x6CA1;&#x6709;&#x7528;&#x4E8E;FTP&#x7684;UDP&#x7EC4;&#x4EF6;&#x3002;</p>
<p>FTP&#x4E0D;&#x540C;&#x4E8E;&#x5176;&#x4ED6;&#x670D;&#x52A1;&#x7684;&#x662F;&#x5B83;&#x4F7F;&#x7528;&#x4E86;&#x4E24;&#x4E2A;&#x7AEF;&#x53E3;, &#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#x548C;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7AEF;&#x53E3;(&#x6216;&#x79F0;&#x4E3A;&#x63A7;&#x5236;&#x7AEF;&#x53E3;)&#x3002;</p>
<p>&#x901A;&#x5E38;21&#x7AEF;&#x53E3;&#x662F;&#x547D;&#x4EE4;&#x7AEF;&#x53E3;&#xFF0C;20&#x7AEF;&#x53E3;&#x662F;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#x3002;&#x5F53;&#x6DF7;&#x5165;&#x4E3B;&#x52A8;/&#x88AB;&#x52A8;&#x6A21;&#x5F0F;&#x7684;&#x6982;&#x5FF5;&#x65F6;&#xFF0C;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#x5C31;&#x6709;&#x53EF;&#x80FD;&#x4E0D;&#x662F;20&#x4E86;&#x3002;</p>
<p><strong>&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;</strong> FTP&#x652F;&#x6301;&#x4E24;&#x79CD;&#x6A21;&#x5F0F;&#xFF1A;</p>
<ul>
<li>Standard (PORT&#x65B9;&#x5F0F;&#xFF0C;&#x4E3B;&#x52A8;&#x65B9;&#x5F0F;)</li>
<li>Passive (PASV&#xFF0C;&#x88AB;&#x52A8;&#x65B9;&#x5F0F;)&#x3002;</li>
</ul>
<p><strong>Port&#x6A21;&#x5F0F;</strong></p>
<p>&#x4E3B;&#x52A8;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;FTP&#x5BA2;&#x6237;&#x7AEF;&#x4ECE;&#x4EFB;&#x610F;&#x7684;&#x975E;&#x7279;&#x6B8A;&#x7684;&#x7AEF;&#x53E3;&#xFF08;N &gt; 1023&#xFF09;&#x8FDE;&#x5165;&#x5230;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x547D;&#x4EE4;&#x7AEF;&#x53E3;&#x2013;21&#x7AEF;&#x53E3;&#x3002;&#x7136;&#x540E;&#x5BA2;&#x6237;&#x7AEF;&#x5728;N+1&#xFF08;N+1 &gt;= 1024&#xFF09;&#x7AEF;&#x53E3;&#x76D1;&#x542C;&#xFF0C;&#x5E76;&#x4E14;&#x901A;&#x8FC7;N+1&#xFF08;N+1 &gt;= 1024&#xFF09;&#x7AEF;&#x53E3;&#x53D1;&#x9001;&#x547D;&#x4EE4;&#x7ED9;FTP&#x670D;&#x52A1;&#x5668;&#x3002;&#x670D;&#x52A1;&#x5668;&#x4F1A;&#x53CD;&#x8FC7;&#x6765;&#x8FDE;&#x63A5;&#x7528;&#x6237;&#x672C;&#x5730;&#x6307;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#xFF0C;&#x6BD4;&#x5982;20&#x7AEF;&#x53E3;&#x3002;</p>
<p>&#x4EE5;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x9632;&#x706B;&#x5899;&#x4E3A;&#x7ACB;&#x8DB3;&#x70B9;&#xFF0C;&#x8981;&#x652F;&#x6301;&#x4E3B;&#x52A8;&#x6A21;&#x5F0F;FTP&#x9700;&#x8981;&#x6253;&#x5F00;&#x5982;&#x4E0B;&#x4EA4;&#x4E92;&#x4E2D;&#x4F7F;&#x7528;&#x5230;&#x7684;&#x7AEF;&#x53E3;&#xFF1A;</p>
<ul>
<li>FTP&#x670D;&#x52A1;&#x5668;&#x547D;&#x4EE4;&#xFF08;21&#xFF09;&#x7AEF;&#x53E3;&#x63A5;&#x53D7;&#x5BA2;&#x6237;&#x7AEF;&#x4EFB;&#x610F;&#x7AEF;&#x53E3;&#xFF08;&#x5BA2;&#x6237;&#x7AEF;&#x521D;&#x59CB;&#x8FDE;&#x63A5;&#xFF09;</li>
<li>FTP&#x670D;&#x52A1;&#x5668;&#x547D;&#x4EE4;&#xFF08;21&#xFF09;&#x7AEF;&#x53E3;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7AEF;&#x53E3;&#xFF08;&gt;1023&#xFF09;&#xFF08;&#x670D;&#x52A1;&#x5668;&#x54CD;&#x5E94;&#x5BA2;&#x6237;&#x7AEF;&#x547D;&#x4EE4;&#xFF09;</li>
<li>FTP&#x670D;&#x52A1;&#x5668;&#x6570;&#x636E;&#xFF08;20&#xFF09;&#x7AEF;&#x53E3;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7AEF;&#x53E3;&#xFF08;&gt;1023&#xFF09;&#xFF08;&#x670D;&#x52A1;&#x5668;&#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#xFF09;</li>
<li>FTP&#x670D;&#x52A1;&#x5668;&#x6570;&#x636E;&#xFF08;20&#xFF09;&#x7AEF;&#x53E3;&#x63A5;&#x53D7;&#x5BA2;&#x6237;&#x7AEF;&#x7AEF;&#x53E3;&#xFF08;&gt;1023&#xFF09;&#xFF08;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;ACK&#x5305;&#x5230;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#xFF09;</li>
</ul>
<p>&#x7528;&#x56FE;&#x8868;&#x793A;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="/2016/12/23/booboo_easy_service/02_ftp/15.jpg" alt="15"></p>
<p>&#x5728;&#x7B2C;1&#x6B65;&#x4E2D;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x547D;&#x4EE4;&#x7AEF;&#x53E3;&#x4E0E;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x547D;&#x4EE4;&#x7AEF;&#x53E3;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#xFF0C;&#x5E76;&#x53D1;&#x9001;&#x547D;&#x4EE4;&#x201C;PORT 1027&#x201D;&#x3002;&#x7136;&#x540E;&#x5728;&#x7B2C;2&#x6B65;&#x4E2D;&#xFF0C;FTP&#x670D;&#x52A1;&#x5668;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x547D;&#x4EE4;&#x7AEF;&#x53E3;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x201D;ACK&#x201D;&#x3002;&#x5728;&#x7B2C;3&#x6B65;&#x4E2D;&#xFF0C;FTP&#x670D;&#x52A1;&#x5668;&#x53D1;&#x8D77;&#x4E00;&#x4E2A;&#x4ECE;&#x5B83;&#x81EA;&#x5DF1;&#x7684;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#xFF08;20&#xFF09;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x5148;&#x524D;&#x6307;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#xFF08;1027&#xFF09;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x6700;&#x540E;&#x5BA2;&#x6237;&#x7AEF;&#x5728;&#x7B2C;4&#x6B65;&#x4E2D;&#x7ED9;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x201D;ACK&#x201D;&#x3002;</p>
<p>&#x4E3B;&#x52A8;&#x65B9;&#x5F0F;FTP&#x7684;&#x4E3B;&#x8981;&#x95EE;&#x9898;&#x5B9E;&#x9645;&#x4E0A;&#x5728;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#x3002;FTP&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x5E76;&#x6CA1;&#x6709;&#x5B9E;&#x9645;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x5230;&#x670D;&#x52A1;&#x5668;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x5B83;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x544A;&#x8BC9;&#x670D;&#x52A1;&#x5668;&#x81EA;&#x5DF1;&#x76D1;&#x542C;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x518D;&#x56DE;&#x6765;&#x8FDE;&#x63A5;&#x5BA2;&#x6237;&#x7AEF;&#x8FD9;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x7AEF;&#x53E3;&#x3002;&#x5BF9;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x9632;&#x706B;&#x5899;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x662F;&#x4ECE;&#x5916;&#x90E8;&#x7CFB;&#x7EDF;&#x5EFA;&#x7ACB;&#x5230;&#x5185;&#x90E8;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x8FD9;&#x662F;&#x901A;&#x5E38;&#x4F1A;&#x88AB;&#x963B;&#x585E;&#x7684;&#x3002;</p>
<p><strong>Passive&#x6A21;&#x5F0F;</strong></p>
<p>&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x8D77;&#x5230;&#x5BA2;&#x6237;&#x7684;&#x8FDE;&#x63A5;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4EBA;&#x4EEC;&#x5F00;&#x53D1;&#x4E86;&#x4E00;&#x79CD;&#x4E0D;&#x540C;&#x7684;FTP&#x8FDE;&#x63A5;&#x65B9;&#x5F0F;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x6240;&#x8C13;&#x7684;&#x88AB;&#x52A8;&#x65B9;&#x5F0F;&#xFF0C;&#x6216;&#x8005;&#x53EB;&#x505A;PASV&#xFF0C;&#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x901A;&#x77E5;&#x670D;&#x52A1;&#x5668;&#x5B83;&#x5904;&#x4E8E;&#x88AB;&#x52A8;&#x6A21;&#x5F0F;&#x65F6;&#x624D;&#x542F;&#x7528;&#x3002;</p>
<p>&#x5728;&#x88AB;&#x52A8;&#x65B9;&#x5F0F;FTP&#x4E2D;&#xFF0C;&#x547D;&#x4EE4;&#x8FDE;&#x63A5;&#x548C;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x90FD;&#x7531;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#x7684;&#x5165;&#x65B9;&#x5411;&#x8FDE;&#x63A5;&#x88AB;&#x9632;&#x706B;&#x5899;&#x8FC7;&#x6EE4;&#x6389;&#x7684;&#x95EE;&#x9898;&#x3002;&#x5F53;&#x5F00;&#x542F;&#x4E00;&#x4E2A;FTP&#x8FDE;&#x63A5;&#x65F6;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x6253;&#x5F00;&#x4E24;&#x4E2A;&#x4EFB;&#x610F;&#x7684;&#x975E;&#x7279;&#x6743;&#x672C;&#x5730;&#x7AEF;&#x53E3;&#xFF08;N &gt;; 1024&#x548C;N+1&#xFF09;&#x3002;&#x7B2C;&#x4E00;&#x4E2A;&#x7AEF;&#x53E3;&#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x5668;&#x7684;21&#x7AEF;&#x53E3;&#xFF0C;&#x4F46;&#x4E0E;&#x4E3B;&#x52A8;&#x65B9;&#x5F0F;&#x7684;FTP&#x4E0D;&#x540C;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x4F1A;&#x63D0;&#x4EA4;PORT&#x547D;&#x4EE4;&#x5E76;&#x5141;&#x8BB8;&#x670D;&#x52A1;&#x5668;&#x6765;&#x56DE;&#x8FDE;&#x5B83;&#x7684;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#xFF0C;&#x800C;&#x662F;&#x63D0;&#x4EA4;PASV&#x547D;&#x4EE4;&#x3002;&#x8FD9;&#x6837;&#x505A;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x670D;&#x52A1;&#x5668;&#x4F1A;&#x5F00;&#x542F;&#x4E00;&#x4E2A;&#x4EFB;&#x610F;&#x7684;&#x975E;&#x7279;&#x6743;&#x7AEF;&#x53E3;&#xFF08;P &gt;; 1024&#xFF09;&#xFF0C;&#x5E76;&#x53D1;&#x9001;PORT P&#x547D;&#x4EE4;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x3002;&#x7136;&#x540E;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x8D77;&#x4ECE;&#x672C;&#x5730;&#x7AEF;&#x53E3;N+1&#x5230;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7AEF;&#x53E3;P&#x7684;&#x8FDE;&#x63A5;&#x7528;&#x6765;&#x4F20;&#x9001;&#x6570;&#x636E;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x9632;&#x706B;&#x5899;&#x6765;&#x8BF4;&#xFF0C;&#x5FC5;&#x987B;&#x5141;&#x8BB8;&#x4E0B;&#x9762;&#x7684;&#x901A;&#x8BAF;&#x624D;&#x80FD;&#x652F;&#x6301;&#x88AB;&#x52A8;&#x65B9;&#x5F0F;&#x7684;FTP:</p>
<ul>
<li>FTP&#x670D;&#x52A1;&#x5668;&#x547D;&#x4EE4;&#xFF08;21&#xFF09;&#x7AEF;&#x53E3;&#x63A5;&#x53D7;&#x5BA2;&#x6237;&#x7AEF;&#x4EFB;&#x610F;&#x7AEF;&#x53E3;&#xFF08;&#x5BA2;&#x6237;&#x7AEF;&#x521D;&#x59CB;&#x8FDE;&#x63A5;&#xFF09;</li>
<li>FTP&#x670D;&#x52A1;&#x5668;&#x547D;&#x4EE4;&#xFF08;21&#xFF09;&#x7AEF;&#x53E3;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7AEF;&#x53E3;&#xFF08;&gt;1023&#xFF09;&#xFF08;&#x670D;&#x52A1;&#x5668;&#x54CD;&#x5E94;&#x5BA2;&#x6237;&#x7AEF;&#x547D;&#x4EE4;&#xFF09;</li>
<li>FTP&#x670D;&#x52A1;&#x5668;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#xFF08;&gt;1023&#xFF09;&#x63A5;&#x53D7;&#x5BA2;&#x6237;&#x7AEF;&#x7AEF;&#x53E3;&#xFF08;&gt;1023&#xFF09;&#xFF08;&#x5BA2;&#x6237;&#x7AEF;&#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x5230;&#x670D;&#x52A1;&#x5668;&#x6307;&#x5B9A;&#x7684;&#x4EFB;&#x610F;&#x7AEF;&#x53E3;&#xFF09;</li>
<li>FTP&#x670D;&#x52A1;&#x5668;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#xFF08;&gt;1023&#xFF09;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7AEF;&#x53E3;&#xFF08;&gt;1023&#xFF09;&#xFF08;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;ACK&#x54CD;&#x5E94;&#x548C;&#x6570;&#x636E;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#xFF09;</li>
</ul>
<p>&#x7528;&#x56FE;&#x8868;&#x793A;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="/2016/12/23/booboo_easy_service/02_ftp/16.jpg" alt="16"></p>
<p>&#x5728;&#x7B2C;1&#x6B65;&#x4E2D;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x547D;&#x4EE4;&#x7AEF;&#x53E3;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x7684;&#x547D;&#x4EE4;&#x7AEF;&#x53E3;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#xFF0C;&#x5E76;&#x53D1;&#x9001;&#x547D;&#x4EE4;&#x201C;PASV&#x201D;&#x3002;&#x7136;&#x540E;&#x5728;&#x7B2C;2&#x6B65;&#x4E2D;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x547D;&#x4EE4;&#x201D;PORT 2024&#x201D;&#xFF0C;&#x544A;&#x8BC9;&#x5BA2;&#x6237;&#x7AEF;&#xFF08;&#x670D;&#x52A1;&#x5668;&#xFF09;&#x7528;&#x54EA;&#x4E2A;&#x7AEF;&#x53E3;&#x4FA6;&#x542C;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x3002;&#x5728;&#x7B2C;3&#x6B65;&#x4E2D;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x521D;&#x59CB;&#x5316;&#x4E00;&#x4E2A;&#x4ECE;&#x81EA;&#x5DF1;&#x7684;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#x5230;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x6307;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#x7684;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x3002;&#x6700;&#x540E;&#x670D;&#x52A1;&#x5668;&#x5728;&#x7B2C;4 &#x6B65;&#x4E2D;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x201D;ACK&#x201D;&#x54CD;&#x5E94;&#x3002;</p>
<p>&#x88AB;&#x52A8;&#x65B9;&#x5F0F;&#x7684;FTP&#x89E3;&#x51B3;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BB8;&#x591A;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x540C;&#x65F6;&#x7ED9;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5E26;&#x6765;&#x4E86;&#x66F4;&#x591A;&#x7684;&#x95EE;&#x9898;&#x3002;&#x6700;&#x5927;&#x7684;&#x95EE;&#x9898;&#x662F;&#x9700;&#x8981;&#x5141;&#x8BB8;&#x4ECE;&#x4EFB;&#x610F;&#x8FDC;&#x7A0B;&#x7EC8;&#x7AEF;&#x5230;&#x670D;&#x52A1;&#x5668;&#x9AD8;&#x4F4D;&#x7AEF;&#x53E3;&#x7684;&#x8FDE;&#x63A5;&#x3002;&#x5E78;&#x8FD0;&#x7684;&#x662F;&#xFF0C;&#x8BB8;&#x591A;FTP&#x5B88;&#x62A4;&#x7A0B;&#x5E8F;&#xFF0C;&#x5305;&#x62EC;&#x6D41;&#x884C;&#x7684;WU-FTPD&#x5141;&#x8BB8;&#x7BA1;&#x7406;&#x5458;&#x6307;&#x5B9A;FTP&#x670D;&#x52A1;&#x5668;&#x4F7F;&#x7528;&#x7684;&#x7AEF;&#x53E3;&#x8303;&#x56F4;&#x3002;&#x8BE6;&#x7EC6;&#x5185;&#x5BB9;&#x53C2;&#x770B;&#x9644;&#x5F55;1&#x3002;</p>
<p>&#x7B2C;&#x4E8C;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x6709;&#x7684;&#x652F;&#x6301;&#x88AB;&#x52A8;&#x6A21;&#x5F0F;&#xFF0C;&#x6709;&#x7684;&#x4E0D;&#x652F;&#x6301;&#x88AB;&#x52A8;&#x6A21;&#x5F0F;&#xFF0C;&#x5FC5;&#x987B;&#x8003;&#x8651;&#x5982;&#x4F55;&#x80FD;&#x652F;&#x6301;&#x8FD9;&#x4E9B;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x4EE5;&#x53CA;&#x4E3A;&#x4ED6;&#x4EEC;&#x63D0;&#x4F9B;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x3002;&#x4F8B;&#x5982;&#xFF0C;Solaris&#x63D0;&#x4F9B;&#x7684;FTP&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;&#x5C31;&#x4E0D;&#x652F;&#x6301;&#x88AB;&#x52A8;&#x6A21;&#x5F0F;&#xFF0C;&#x9700;&#x8981;&#x7B2C;&#x4E09;&#x65B9;&#x7684;FTP&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x6BD4;&#x5982;ncftp&#x3002;</p>
<p>&#x968F;&#x7740;WWW&#x7684;&#x5E7F;&#x6CDB;&#x6D41;&#x884C;&#xFF0C;&#x8BB8;&#x591A;&#x4EBA;&#x4E60;&#x60EF;&#x7528;web&#x6D4F;&#x89C8;&#x5668;&#x4F5C;&#x4E3A;FTP&#x5BA2;&#x6237;&#x7AEF;&#x3002;&#x5927;&#x591A;&#x6570;&#x6D4F;&#x89C8;&#x5668;&#x53EA;&#x5728;&#x8BBF;&#x95EE;ftp://&#x8FD9;&#x6837;&#x7684;URL&#x65F6;&#x624D;&#x652F;&#x6301;&#x88AB;&#x52A8;&#x6A21;&#x5F0F;&#x3002;&#x8FD9;&#x5230;&#x5E95;&#x662F;&#x597D;&#x8FD8;&#x662F;&#x574F;&#x53D6;&#x51B3;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x548C;&#x9632;&#x706B;&#x5899;&#x7684;&#x914D;&#x7F6E;&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x7684;&#x56FE;&#x8868;&#x4F1A;&#x5E2E;&#x52A9;&#x7BA1;&#x7406;&#x5458;&#x4EEC;&#x8BB0;&#x4F4F;&#x6BCF;&#x79CD;FTP&#x65B9;&#x5F0F;&#x662F;&#x600E;&#x6837;&#x5DE5;&#x4F5C;&#x7684;&#xFF1A;</p>
<p><strong>&#x4E3B;&#x52A8;FTP&#xFF1A;</strong></p>
<ol>
<li>&#x547D;&#x4EE4;&#x8FDE;&#x63A5;&#xFF1A;&#x5BA2;&#x6237;&#x7AEF; &gt;1023&#x7AEF;&#x53E3; -&gt; &#x670D;&#x52A1;&#x5668; 21&#x7AEF;&#x53E3;</li>
<li>&#x6570;&#x636E;&#x8FDE;&#x63A5;&#xFF1A;&#x5BA2;&#x6237;&#x7AEF; &gt;1023&#x7AEF;&#x53E3; &lt;- &#x670D;&#x52A1;&#x5668; 20&#x7AEF;&#x53E3;</li>
</ol>
<p><strong>&#x88AB;&#x52A8;FTP&#xFF1A;</strong></p>
<ol>
<li>&#x547D;&#x4EE4;&#x8FDE;&#x63A5;&#xFF1A;&#x5BA2;&#x6237;&#x7AEF; &gt;1023&#x7AEF;&#x53E3; -&gt; &#x670D;&#x52A1;&#x5668; 21&#x7AEF;&#x53E3;</li>
<li>&#x6570;&#x636E;&#x8FDE;&#x63A5;&#xFF1A;&#x5BA2;&#x6237;&#x7AEF; &gt;1023&#x7AEF;&#x53E3; -&gt; &#x670D;&#x52A1;&#x5668; &gt;1023&#x7AEF;&#x53E3;</li>
</ol>
<p>&#x4E0B;&#x9762;&#x662F;&#x4E3B;&#x52A8;&#x4E0E;&#x88AB;&#x52A8;FTP&#x4F18;&#x7F3A;&#x70B9;&#x7684;&#x7B80;&#x8981;&#x603B;&#x7ED3;&#xFF1A;</p>
<p>&#x4E3B;&#x52A8;FTP&#x5BF9;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x7BA1;&#x7406;&#x6709;&#x5229;&#xFF0C;&#x4F46;&#x5BF9;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x7BA1;&#x7406;&#x4E0D;&#x5229;&#x3002;&#x56E0;&#x4E3A;FTP&#x670D;&#x52A1;&#x5668;&#x4F01;&#x56FE;&#x4E0E;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x9AD8;&#x4F4D;&#x968F;&#x673A;&#x7AEF;&#x53E3;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;&#x7AEF;&#x53E3;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x88AB;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x9632;&#x706B;&#x5899;&#x963B;&#x585E;&#x6389;&#x3002;&#x88AB;&#x52A8;FTP&#x5BF9;FTP&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x7BA1;&#x7406;&#x6709;&#x5229;&#xFF0C;&#x4F46;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x7BA1;&#x7406;&#x4E0D;&#x5229;&#x3002;&#x56E0;&#x4E3A;&#x5BA2;&#x6237;&#x7AEF;&#x8981;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5EFA;&#x7ACB;&#x4E24;&#x4E2A;&#x8FDE;&#x63A5;&#xFF0C;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x8FDE;&#x5230;&#x4E00;&#x4E2A;&#x9AD8;&#x4F4D;&#x968F;&#x673A;&#x7AEF;&#x53E3;&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;&#x7AEF;&#x53E3;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x88AB;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x9632;&#x706B;&#x5899;&#x963B;&#x585E;&#x6389;&#x3002;</p>
<p>&#x5E78;&#x8FD0;&#x7684;&#x662F;&#xFF0C;&#x6709;&#x6298;&#x8877;&#x7684;&#x529E;&#x6CD5;&#x3002;&#x65E2;&#x7136;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x7BA1;&#x7406;&#x5458;&#x9700;&#x8981;&#x4ED6;&#x4EEC;&#x7684;&#x670D;&#x52A1;&#x5668;&#x6709;&#x6700;&#x591A;&#x7684;&#x5BA2;&#x6237;&#x8FDE;&#x63A5;&#xFF0C;&#x90A3;&#x4E48;&#x5FC5;&#x987B;&#x5F97;&#x652F;&#x6301;&#x88AB;&#x52A8;FTP&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E3A;FTP&#x670D;&#x52A1;&#x5668;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x6709;&#x9650;&#x7684;&#x7AEF;&#x53E3;&#x8303;&#x56F4;&#x6765;&#x51CF;&#x5C0F;&#x670D;&#x52A1;&#x5668;&#x9AD8;&#x4F4D;&#x7AEF;&#x53E3;&#x7684;&#x66B4;&#x9732;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x4E0D;&#x5728;&#x8FD9;&#x4E2A;&#x8303;&#x56F4;&#x7684;&#x4EFB;&#x4F55;&#x7AEF;&#x53E3;&#x4F1A;&#x88AB;&#x670D;&#x52A1;&#x5668;&#x7684;&#x9632;&#x706B;&#x5899;&#x963B;&#x585E;&#x3002;&#x867D;&#x7136;&#x8FD9;&#x6CA1;&#x6709;&#x6D88;&#x9664;&#x6240;&#x6709;&#x9488;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x7684;&#x5371;&#x9669;&#xFF0C;&#x4F46;&#x5B83;&#x5927;&#x5927;&#x51CF;&#x5C11;&#x4E86;&#x5371;&#x9669;&#x3002;</p>
<h3 id="VSFTPD-&#x8F6F;&#x4EF6;"><a href="#VSFTPD-&#x8F6F;&#x4EF6;" class="headerlink" title="VSFTPD &#x8F6F;&#x4EF6;"></a>VSFTPD &#x8F6F;&#x4EF6;</h3><p>&#x5982;&#x679C;&#x4F60;&#x60F3;&#x5728;&#x4F60;&#x7684;Linux/Unix&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x642D;&#x5EFA;&#x4E00;&#x4E2A;&#x5B89;&#x5168;&#x3001;&#x9AD8;&#x6027;&#x80FD;&#x3001;&#x7A33;&#x5B9A;&#x6027;&#x597D;&#x7684;FTP&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x90A3;&#x4E48;vsftpd&#x53EF;&#x80FD;&#x662F;&#x4F60;&#x7684;&#x9996;&#x9009;&#x5E94;&#x7528;&#x3002;vsftpd&#x610F;&#x601D;&#x4E3A;&#x201C;very secure FTP daemon(&#x975E;&#x5E38;&#x5B89;&#x5168;&#x7684;FTP&#x8FDB;&#x7A0B;)&#x201D;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;GPL&#x53D1;&#x5E03;&#x7684;&#x7C7B;UNIX&#x7C7B;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x670D;&#x52A1;&#x5668;&#x7684;&#x540D;&#x5B57;&#xFF08;&#x662F;&#x4E00;&#x79CD;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x5728;&#x8BF8;&#x5982;Linux&#x3001;BSD&#x3001;Solaris&#x3001;HP-UX&#x4EE5;&#x53CA;Irix&#x7B49;&#x7CFB;&#x7EDF;&#x4E0A;&#x9762;&#x3002;vsftpd&#x652F;&#x6301;&#x5F88;&#x591A;&#x5176;&#x4ED6;&#x4F20;&#x7EDF;&#x7684;FTP&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x826F;&#x597D;&#x7279;&#x6027;&#x3002;</p>
<p>&#x6700;&#x65B0;&#x7684;vsftpd&#x7248;&#x672C;&#x53EF;&#x5728;&#x5176;&#x5B98;&#x7F51;&#x83B7;&#x53D6;&#xFF1A;<a href="www.vsftpd.org">www.vsftpd.org</a></p>
<p>vsftpd &#x662F;&#x201C;very secure FTP daemon&#x201D;&#x7684;&#x7F29;&#x5199;&#xFF0C;&#x5B89;&#x5168;&#x6027;&#x662F;&#x5B83;&#x7684;&#x4E00;&#x4E2A;&#x6700;&#x5927;&#x7684;&#x7279;&#x70B9;&#x3002;vsftpd &#x662F;&#x4E00;&#x4E2A; UNIX &#x7C7B;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x670D;&#x52A1;&#x5668;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x5728;&#x8BF8;&#x5982; Linux&#x3001;BSD&#x3001;Solaris&#x3001; HP-UNIX&#x7B49;&#x7CFB;&#x7EDF;&#x4E0A;&#x9762;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x5168;&#x514D;&#x8D39;&#x7684;&#x3001;&#x5F00;&#x53D1;&#x6E90;&#x4EE3;&#x7801;&#x7684;ftp&#x670D;&#x52A1;&#x5668;&#x8F6F;&#x4EF6;&#xFF0C;&#x652F;&#x6301;&#x5F88;&#x591A;&#x5176;&#x4ED6;&#x7684; FTP &#x670D;&#x52A1;&#x5668;&#x6240;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x7279;&#x5F81;&#x3002;&#x6BD4;&#x5982;&#xFF1A;&#x975E;&#x5E38;&#x9AD8;&#x7684;&#x5B89;&#x5168;&#x6027;&#x9700;&#x6C42;&#x3001;&#x5E26;&#x5BBD;&#x9650;&#x5236;&#x3001;&#x826F;&#x597D;&#x7684;&#x53EF;&#x4F38;&#x7F29;&#x6027;&#x3001;&#x53EF;&#x521B;&#x5EFA;&#x865A;&#x62DF;&#x7528;&#x6237;&#x3001;&#x652F;&#x6301;IPv6&#x3001;&#x901F;&#x7387;&#x9AD8;&#x7B49;&#x3002;</p>
<p>&#x770B;&#x770B;&#x90FD;&#x6709;&#x54EA;&#x4E9B;&#x7F51;&#x7AD9;&#x5728;&#x4F7F;&#x7528;vsftpd&#x5427;&#xFF1A;</p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">ftp.RedHat.com</span><br><span class="line">ftp.SUSE.com</span><br><span class="line">ftp.debian.org</span><br><span class="line">ftp.openbsd.org</span><br><span class="line">ftp.freebsd.org</span><br><span class="line">ftp.gnu.org</span><br><span class="line">ftp.gnome.org</span><br><span class="line">ftp.kde.org</span><br><span class="line">ftp.kernel.org</span><br><span class="line">rpmfind.net</span><br><span class="line">ftp.linux.org.uk</span><br><span class="line">ftp.gimp.org</span><br><span class="line">ftp-stud.fht-esslingen.de</span><br><span class="line">gd.tuwien.ac.at</span><br><span class="line">ftp.sunet.se</span><br><span class="line">ftp.ximian.com</span><br><span class="line">ftp.engardelinux.org</span><br><span class="line">ftp.sunsite.org.uk</span><br><span class="line">ftp.isc.org</span><br></pre></td></tr></table></figure></p>
<h4 id="&#x4EC0;&#x4E48;&#x662F;vsftpd"><a href="#&#x4EC0;&#x4E48;&#x662F;vsftpd" class="headerlink" title="&#x4EC0;&#x4E48;&#x662F;vsftpd"></a>&#x4EC0;&#x4E48;&#x662F;vsftpd</h4><p>Vsftpd&#x662F;&#x4E00;&#x79CD;&#x5728;GPL&#x8BB8;&#x53EF;&#x4E0B;&#x5F00;&#x653E;&#x6E90;&#x4EE3;&#x7801;&#x7684;FTP&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x7528;&#x4E8E;&#x591A;&#x79CD;UNIX&#x7CFB;&#x7EDF;&#x548C;Linux&#x7CFB;&#x7EDF;&#x3002;Vsftpd&#x4E5F;&#x79F0;&#x4E3A;Very Secure FTP Daemon&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x79CD;&#x5B89;&#x5168;&#x3001;&#x5FEB;&#x901F;&#x3001;&#x7A33;&#x5B9A;&#x7684;FTP&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x80FD;&#x591F;&#x9AD8;&#x6548;&#x5730;&#x5904;&#x7406;&#x5927;&#x91CF;&#x7684;&#x5E76;&#x53D1;&#x8FDE;&#x63A5;&#x3002;</p>
<p>Vsftpd&#x7684;&#x4E3B;&#x8981;&#x7279;&#x70B9;&#x5305;&#x62EC;&#xFF1A;</p>
<ul>
<li>&#x63D0;&#x4F9B;&#x5B89;&#x5168;&#x7684;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#xFF0C;&#x6839;&#x636E;&#x4EFB;&#x52A1;&#x7684;&#x6700;&#x4F4E;&#x7279;&#x6743;&#x9700;&#x6C42;&#x5355;&#x72EC;&#x6267;&#x884C;&#x6BCF;&#x4E2A;&#x4EFB;&#x52A1;&#x3002;</li>
<li>&#x652F;&#x6301;&#x865A;&#x62DF;IP&#x914D;&#x7F6E;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;IP&#x5730;&#x5740;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5728;&#x57DF;&#x4E2D;&#x7528;&#x8BE5;&#x5730;&#x5740;&#x5EFA;&#x7ACB;&#x591A;&#x4E2A;FTP&#x670D;&#x52A1;&#x5668;&#x3002;</li>
<li>&#x5141;&#x8BB8;&#x914D;&#x7F6E;&#x5E76;&#x4F7F;&#x7528;&#x865A;&#x62DF;&#x7528;&#x6237;&#xFF0C;&#x4ECE;&#x800C;&#x4E0E;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x8D26;&#x6237;&#x5206;&#x79BB;&#x3002;</li>
<li>&#x652F;&#x6301;TCP&#x5C01;&#x88C5;&#x3002;</li>
<li>&#x5141;&#x8BB8;&#x914D;&#x7F6E;&#x533F;&#x540D;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x9700;&#x8981;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4E0A;&#x4F20;&#x548C;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x3002;</li>
<li>&#x6027;&#x80FD;&#x7A33;&#x5B9A;&#xFF0C;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x5927;&#x91CF;&#x7684;&#x5E76;&#x53D1;&#x8FDE;&#x63A5;&#x3002;</li>
<li>&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x4E3A;&#x72EC;&#x7ACB;&#x7684;&#x670D;&#x52A1;&#x5668;&#x3002;</li>
<li>Vsftpd&#x670D;&#x52A1;&#x5668;&#x652F;&#x6301;&#x5E26;&#x5BBD;&#x63A7;&#x5236;&#x3002;</li>
</ul>
<blockquote>
<p>&#x7528;&#x6237;&#x7C7B;&#x578B;</p>
</blockquote>
<p><strong>r &#x771F;&#x5B9E;&#x7528;&#x6237;</strong></p>
<p>&#x8FD9;&#x7C7B;&#x7528;&#x6237;&#x662F;&#x6307;&#x5728;FTP&#x670D;&#x52A1;&#x4E0A;&#x62E5;&#x6709;&#x5E10;&#x53F7;&#xFF0C;&#x5373;/etc/passwd&#x91CC;&#x7684;&#x7528;&#x6237;&#x3002;&#x5F53;&#x8FD9;&#x7C7B;&#x7528;&#x6237;&#x767B;&#x5F55;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5176;&#x9ED8;&#x8BA4;&#x7684;&#x4E3B;&#x76EE;&#x5F55;&#x5C31;&#x662F;&#x5176;&#x5E10;&#x53F7;&#x547D;&#x540D;&#x7684;&#x76EE;&#x5F55;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5176;&#x8FD8;&#x53EF;&#x4EE5;&#x53D8;&#x66F4;&#x5230;&#x5176;&#x4ED6;&#x76EE;&#x5F55;&#x4E2D;&#x53BB;&#x3002;&#x5982;&#x7CFB;&#x7EDF;&#x7684;&#x4E3B;&#x76EE;&#x5F55;&#x7B49;&#x7B49;&#x3002;</p>
<p><strong>g &#x6765;&#x5BBE;&#x7528;&#x6237;</strong></p>
<p>&#x5728;vsFTP&#x8F6F;&#x4EF6;&#x91CC;&#x6CA1;&#x6709;&#x8FD9;&#x7C7B;&#x7528;&#x6237;&#xFF0C;&#x4F46;&#x662F;&#x5728;FTP&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x6709;&#xFF0C;&#x6211;&#x4EEC;&#x5F80;&#x5F80;&#x4F1A;&#x7ED9;&#x4E0D;&#x540C;&#x7684;&#x90E8;&#x95E8;&#x6216;&#x8005;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x7528;&#x6237;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x5E10;&#x6237;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x8FD9;&#x4E2A;&#x8D26;&#x6237;&#x6709;&#x4E2A;&#x7279;&#x70B9;&#xFF0C;&#x5C31;&#x662F;&#x5176;&#x53EA;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x81EA;&#x5DF1;&#x7684;&#x4E3B;&#x76EE;&#x5F55;&#x3002;&#x670D;&#x52A1;&#x5668;&#x901A;&#x8FC7;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x4FDD;&#x969C;FTP&#x670D;&#x52A1;&#x4E0A;&#x5176;&#x4ED6;&#x6587;&#x4EF6;&#x7684;&#x5B89;&#x5168;&#x6027;&#x3002;&#x8FD9;&#x7C7B;&#x5E10;&#x6237;&#xFF0C;&#x5728;Vsftpd&#x8F6F;&#x4EF6;&#x4E2D;&#x5C31;&#x53EB;&#x505A;Guest&#x7528;&#x6237;&#x3002;&#x62E5;&#x6709;&#x8FD9;&#x7C7B;&#x7528;&#x6237;&#x7684;&#x5E10;&#x6237;&#xFF0C;&#x53EA;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x5176;&#x4E3B;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x800C;&#x4E0D;&#x5F97;&#x8BBF;&#x95EE;&#x4E3B;&#x76EE;&#x5F55;&#x4EE5;&#x5916;&#x7684;&#x6587;&#x4EF6;&#x3002;</p>
<p><strong>a &#x533F;&#x540D;&#x7528;&#x6237;</strong></p>
<p>Anonymous&#xFF08;&#x533F;&#x540D;&#xFF09;&#x7528;&#x6237;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x6240;&#x8BF4;&#x7684;&#x533F;&#x540D;&#x8BBF;&#x95EE;&#x3002;&#x8FD9;&#x7C7B;&#x7528;&#x6237;&#x662F;&#x6307;&#x5728;FTP&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x5E10;&#x6237;&#xFF0C;&#x4F46;&#x662F;&#x5176;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x533F;&#x540D;&#x8BBF;&#x95EE;&#x67D0;&#x4E9B;&#x516C;&#x5F00;&#x7684;&#x8D44;&#x6E90;&#x3002;<br>&#x5728;&#x7EC4;&#x5EFA;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x9700;&#x8981;&#x6839;&#x636E;&#x7528;&#x6237;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x5BF9;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;Vsftpd&#x670D;&#x52A1;&#x5668;&#x4F1A;&#x628A;&#x5EFA;&#x7ACB;&#x7684;&#x6240;&#x6709;&#x5E10;&#x6237;&#x90FD;&#x5F52;&#x5C5E;&#x4E3A;Real&#x7528;&#x6237;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x8FD9;&#x5F80;&#x5F80;&#x4E0D;&#x7B26;&#x5408;&#x4F01;&#x4E1A;&#x5B89;&#x5168;&#x7684;&#x9700;&#x8981;&#x3002;&#x56E0;&#x4E3A;&#x8FD9;&#x7C7B;&#x7528;&#x6237;&#x4E0D;&#x4EC5;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x81EA;&#x5DF1;&#x7684;&#x4E3B;&#x76EE;&#x5F55;&#xFF0C;&#x800C;&#x4E14;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x5176;&#x4ED6;&#x7528;&#x6237;&#x7684;&#x76EE;&#x5F55;&#x3002;&#x8FD9;&#x5C31;&#x7ED9;&#x5176;&#x4ED6;&#x7528;&#x6237;&#x6240;&#x5728;&#x7684;&#x7A7A;&#x95F4;&#x5E26;&#x6765;&#x4E00;&#x5B9A;&#x7684;&#x5B89;&#x5168;&#x9690;&#x60A3;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x4F01;&#x4E1A;&#x8981;&#x6839;&#x636E;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#xFF0C;&#x4FEE;&#x6539;&#x7528;&#x6237;&#x6240;&#x5728;&#x7684;&#x7C7B;&#x522B;&#x3002;</p>
<hr>
<h4 id="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1-&#x8BBE;&#x7F6E;vsftpd&#x670D;&#x52A1;&#x533F;&#x540D;&#x7528;&#x6237;&#x80FD;&#x591F;&#x5BF9;-var-ftp-pub-&#x76EE;&#x5F55;&#x6709;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x7684;&#x6743;&#x9650;"><a href="#&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1-&#x8BBE;&#x7F6E;vsftpd&#x670D;&#x52A1;&#x533F;&#x540D;&#x7528;&#x6237;&#x80FD;&#x591F;&#x5BF9;-var-ftp-pub-&#x76EE;&#x5F55;&#x6709;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x7684;&#x6743;&#x9650;" class="headerlink" title="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1: &#x8BBE;&#x7F6E;vsftpd&#x670D;&#x52A1;&#x533F;&#x540D;&#x7528;&#x6237;&#x80FD;&#x591F;&#x5BF9;/var/ftp/pub/&#x76EE;&#x5F55;&#x6709;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x7684;&#x6743;&#x9650;"></a>&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1: &#x8BBE;&#x7F6E;vsftpd&#x670D;&#x52A1;&#x533F;&#x540D;&#x7528;&#x6237;&#x80FD;&#x591F;&#x5BF9;/var/ftp/pub/&#x76EE;&#x5F55;&#x6709;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x7684;&#x6743;&#x9650;</h4><h5 id="&#x5B9E;&#x9A8C;&#x51C6;&#x5907;&#x9636;&#x6BB5;"><a href="#&#x5B9E;&#x9A8C;&#x51C6;&#x5907;&#x9636;&#x6BB5;" class="headerlink" title="&#x5B9E;&#x9A8C;&#x51C6;&#x5907;&#x9636;&#x6BB5;"></a>&#x5B9E;&#x9A8C;&#x51C6;&#x5907;&#x9636;&#x6BB5;</h5><ol>
<li>&#x7F51;&#x7EDC;&#x62D3;&#x6251;&#x56FE;</li>
<li>&#x89C4;&#x5212;&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;</li>
<li>&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</li>
<li>&#x542F;&#x52A8;&#x670D;&#x52A1;</li>
<li>&#x6CE8;&#x610F;&#x9632;&#x706B;&#x5899;&#x5173;&#x95ED;</li>
<li>&#x5BA2;&#x6237;&#x7AEF;&#x6D4B;&#x8BD5;&#x670D;&#x52A1;        </li>
</ol>
<blockquote>
<p>&#x7F51;&#x7EDC;&#x62D3;&#x6251;&#x56FE;</p>
</blockquote>
<p><img src="/2016/12/23/booboo_easy_service/02_ftp/17.png" alt="17"></p>
<blockquote>
<p>&#x89C4;&#x5212;&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;</p>
</blockquote>
<p><img src="/2016/12/23/booboo_easy_service/02_ftp/18.png" alt="18"></p>
<h5 id="&#x5177;&#x4F53;&#x6B65;&#x9AA4;"><a href="#&#x5177;&#x4F53;&#x6B65;&#x9AA4;" class="headerlink" title="&#x5177;&#x4F53;&#x6B65;&#x9AA4;"></a>&#x5177;&#x4F53;&#x6B65;&#x9AA4;</h5><p>Linux&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x7684;&#x53D1;&#x884C;&#x7248;&#x672C;&#x90FD;&#x5185;&#x7F6E;&#x4E86;Vsftpd&#x670D;&#x52A1;&#x3002;</p>
<p><strong>&#x670D;&#x52A1;&#x5668;&#x7AEF;rhel6</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ~]# yum install -y vsftpd</span><br><span class="line">Loaded plugins: product-id, refresh-packagekit, security, subscription-manager</span><br><span class="line">This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.</span><br><span class="line">Setting up Install Process</span><br><span class="line">Resolving Dependencies</span><br><span class="line"><span class="hljs-meta">--&gt;</span><span class="hljs-bash"> Running transaction check</span></span><br><span class="line"><span class="hljs-meta">---&gt;</span><span class="hljs-bash"> Package vsftpd.x86_64 0:2.2.2-11.el6_4.1 will be installed</span></span><br><span class="line"><span class="hljs-meta">--&gt;</span><span class="hljs-bash"> Finished Dependency Resolution</span></span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">=============================================================================================</span><br><span class="line"> Package            Arch               Version                      Repository          Size</span><br><span class="line">=============================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> vsftpd             x86_64             2.2.2-11.el6_4.1             server             151 k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">=============================================================================================</span><br><span class="line">Install       1 Package(s)</span><br><span class="line"></span><br><span class="line">Total download size: 151 k</span><br><span class="line">Installed size: 331 k</span><br><span class="line">Downloading Packages:</span><br><span class="line">vsftpd-2.2.2-11.el6_4.1.x86_64.rpm                                    | 151 kB     00:00     </span><br><span class="line">Running rpm_check_debug</span><br><span class="line">Running Transaction Test</span><br><span class="line">Transaction Test Succeeded</span><br><span class="line">Running Transaction</span><br><span class="line">  Installing : vsftpd-2.2.2-11.el6_4.1.x86_64                                            1/1</span><br><span class="line">  Verifying  : vsftpd-2.2.2-11.el6_4.1.x86_64                                            1/1</span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  vsftpd.x86_64 0:2.2.2-11.el6_4.1                                                           </span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line"></span><br><span class="line">[root@rhel6 ~]# service iptables stop</span><br><span class="line">iptables: Setting chains to policy ACCEPT: filter          [  OK  ]</span><br><span class="line">iptables: Flushing firewall rules:                         [  OK  ]</span><br><span class="line">iptables: Unloading modules:                               [  OK  ]</span><br><span class="line"></span><br><span class="line">[root@rhel6 ~]# getenforce</span><br><span class="line">Enforcing</span><br><span class="line"></span><br><span class="line">[root@rhel6 ~]# rpm -q vsftpd</span><br><span class="line">vsftpd-2.2.2-11.el6_4.1.x86_64</span><br><span class="line">[root@rhel6 ~]# rpm -ql vsftpd</span><br><span class="line">/etc/logrotate.d/vsftpd</span><br><span class="line">/etc/pam.d/vsftpd</span><br><span class="line">/etc/rc.d/init.d/vsftpd</span><br><span class="line">/etc/vsftpd</span><br><span class="line">/etc/vsftpd/ftpusers</span><br><span class="line">/etc/vsftpd/user_list</span><br><span class="line">/etc/vsftpd/vsftpd.conf</span><br><span class="line">/etc/vsftpd/vsftpd_conf_migrate.sh</span><br><span class="line">/usr/sbin/vsftpd</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/AUDIT</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/BENCHMARKS</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/BUGS</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/COPYING</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/Changelog</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/INTERNET_SITE</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/INTERNET_SITE/README</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/INTERNET_SITE/README.configuration</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/INTERNET_SITE/vsftpd.conf</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/INTERNET_SITE/vsftpd.xinetd</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/INTERNET_SITE_NOINETD</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/INTERNET_SITE_NOINETD/README</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/INTERNET_SITE_NOINETD/README.configuration</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/INTERNET_SITE_NOINETD/vsftpd.conf</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/PER_IP_CONFIG</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/PER_IP_CONFIG/README</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/PER_IP_CONFIG/README.configuration</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/PER_IP_CONFIG/hosts.allow</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/README</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/VIRTUAL_HOSTS</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/VIRTUAL_HOSTS/README</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/VIRTUAL_USERS</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/VIRTUAL_USERS/README</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/VIRTUAL_USERS/README.configuration</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/VIRTUAL_USERS/logins.txt</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/VIRTUAL_USERS/vsftpd.conf</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/VIRTUAL_USERS/vsftpd.pam</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/VIRTUAL_USERS_2</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/EXAMPLE/VIRTUAL_USERS_2/README</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/FAQ</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/INSTALL</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/LICENSE</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/README</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/README.security</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/REWARD</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/SECURITY</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/SECURITY/DESIGN</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/SECURITY/IMPLEMENTATION</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/SECURITY/OVERVIEW</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/SECURITY/TRUST</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/SIZE</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/SPEED</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/TODO</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/TUNING</span><br><span class="line">/usr/share/doc/vsftpd-2.2.2/vsftpd.xinetd</span><br><span class="line">/usr/share/man/man5/vsftpd.conf.5.gz</span><br><span class="line">/usr/share/man/man8/vsftpd.8.gz</span><br><span class="line">/var/ftp</span><br><span class="line">/var/ftp/pub</span><br><span class="line"></span><br><span class="line">[root@rhel6 ~]# service vsftpd start</span><br><span class="line">Starting vsftpd for vsftpd:                                [  OK  ]</span><br><span class="line">[root@rhel6 ~]# netstat -luntp|grep vsftpd</span><br><span class="line">tcp        0      0 0.0.0.0:21                  0.0.0.0:*                   LISTEN      2940/vsftpd</span><br></pre></td></tr></table></figure></p>
<p><strong>&#x5BA2;&#x6237;&#x7AEF; rhel7</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# yum install -y lftp</span><br><span class="line">Loaded plugins: langpacks, product-id, subscription-manager</span><br><span class="line">This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.</span><br><span class="line">server                                                                | 4.1 kB  00:00:00     </span><br><span class="line">(1/2): server/group_gz                                                | 134 kB  00:00:00     </span><br><span class="line">(2/2): server/primary_db                                              | 3.4 MB  00:00:00     </span><br><span class="line">Resolving Dependencies</span><br><span class="line"><span class="hljs-meta">--&gt;</span><span class="hljs-bash"> Running transaction check</span></span><br><span class="line"><span class="hljs-meta">---&gt;</span><span class="hljs-bash"> Package lftp.x86_64 0:4.4.8-3.el7 will be installed</span></span><br><span class="line"><span class="hljs-meta">--&gt;</span><span class="hljs-bash"> Finished Dependency Resolution</span></span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">=============================================================================================</span><br><span class="line"> Package           Arch                Version                     Repository           Size</span><br><span class="line">=============================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> lftp              x86_64              4.4.8-3.el7                 server              749 k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">=============================================================================================</span><br><span class="line">Install  1 Package</span><br><span class="line"></span><br><span class="line">Total download size: 749 k</span><br><span class="line">Installed size: 2.4 M</span><br><span class="line">Downloading packages:</span><br><span class="line">lftp-4.4.8-3.el7.x86_64.rpm                                           | 749 kB  00:00:00     </span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction test</span><br><span class="line">Transaction test succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  Installing : lftp-4.4.8-3.el7.x86_64                                                   1/1</span><br><span class="line">server/productid                                                      | 1.6 kB  00:00:00     </span><br><span class="line">  Verifying  : lftp-4.4.8-3.el7.x86_64                                                   1/1</span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  lftp.x86_64 0:4.4.8-3.el7                                                                  </span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line">[root@rhel7 ~]# systemctl stop firewalld</span><br><span class="line">[root@rhel7 ~]# getenforce</span><br><span class="line">Enforcing</span><br><span class="line"></span><br><span class="line">[root@rhel7 ~]# rpm -ql lftp</span><br><span class="line">/etc/lftp.conf</span><br><span class="line">/usr/bin/lftp</span><br><span class="line">/usr/bin/lftpget</span><br><span class="line">/usr/lib64/lftp</span><br><span class="line">/usr/lib64/lftp/4.4.8</span><br><span class="line">/usr/lib64/lftp/4.4.8/cmd-mirror.so</span><br><span class="line">/usr/lib64/lftp/4.4.8/cmd-sleep.so</span><br><span class="line">/usr/lib64/lftp/4.4.8/cmd-torrent.so</span><br><span class="line">/usr/lib64/lftp/4.4.8/liblftp-network.so</span><br><span class="line">/usr/lib64/lftp/4.4.8/liblftp-pty.so</span><br><span class="line">/usr/lib64/lftp/4.4.8/proto-file.so</span><br><span class="line">/usr/lib64/lftp/4.4.8/proto-fish.so</span><br><span class="line">/usr/lib64/lftp/4.4.8/proto-ftp.so</span><br><span class="line">/usr/lib64/lftp/4.4.8/proto-http.so</span><br><span class="line">/usr/lib64/lftp/4.4.8/proto-sftp.so</span><br><span class="line">/usr/lib64/liblftp-jobs.so.0</span><br><span class="line">/usr/lib64/liblftp-jobs.so.0.0.0</span><br><span class="line">/usr/lib64/liblftp-tasks.so.0</span><br><span class="line">/usr/lib64/liblftp-tasks.so.0.0.0</span><br><span class="line">/usr/share/doc/lftp-4.4.8</span><br><span class="line">/usr/share/doc/lftp-4.4.8/BUGS</span><br><span class="line">/usr/share/doc/lftp-4.4.8/COPYING</span><br><span class="line">/usr/share/doc/lftp-4.4.8/ChangeLog</span><br><span class="line">/usr/share/doc/lftp-4.4.8/FAQ</span><br><span class="line">/usr/share/doc/lftp-4.4.8/FEATURES</span><br><span class="line">/usr/share/doc/lftp-4.4.8/NEWS</span><br><span class="line">/usr/share/doc/lftp-4.4.8/README</span><br><span class="line">/usr/share/doc/lftp-4.4.8/README.debug-levels</span><br><span class="line">/usr/share/doc/lftp-4.4.8/README.dnssec</span><br><span class="line">/usr/share/doc/lftp-4.4.8/README.modules</span><br><span class="line">/usr/share/doc/lftp-4.4.8/THANKS</span><br><span class="line">/usr/share/doc/lftp-4.4.8/TODO</span><br><span class="line">/usr/share/locale/cs/LC_MESSAGES/lftp.mo</span><br><span class="line">/usr/share/locale/de/LC_MESSAGES/lftp.mo</span><br><span class="line">/usr/share/locale/es/LC_MESSAGES/lftp.mo</span><br><span class="line">/usr/share/locale/fr/LC_MESSAGES/lftp.mo</span><br><span class="line">/usr/share/locale/it/LC_MESSAGES/lftp.mo</span><br><span class="line">/usr/share/locale/ja/LC_MESSAGES/lftp.mo</span><br><span class="line">/usr/share/locale/ko/LC_MESSAGES/lftp.mo</span><br><span class="line">/usr/share/locale/pl/LC_MESSAGES/lftp.mo</span><br><span class="line">/usr/share/locale/pt_BR/LC_MESSAGES/lftp.mo</span><br><span class="line">/usr/share/locale/ru/LC_MESSAGES/lftp.mo</span><br><span class="line">/usr/share/locale/zh_CN/LC_MESSAGES/lftp.mo</span><br><span class="line">/usr/share/locale/zh_HK/LC_MESSAGES/lftp.mo</span><br><span class="line">/usr/share/locale/zh_TW/LC_MESSAGES/lftp.mo</span><br><span class="line">/usr/share/man/man1/lftp.1.gz</span><br><span class="line">/usr/share/man/man1/lftpget.1.gz</span><br><span class="line">/usr/share/man/man5/lftp.conf.5.gz</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>1.&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x4EE5;&#x533F;&#x540D;&#x7528;&#x6237;&#x6765;&#x8BBF;&#x95EE;ftp&#x670D;&#x52A1;</p>
</blockquote>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# lftp 172.25.0.11</span><br><span class="line">lftp 172.25.0.11:~&gt; cd pub</span><br><span class="line">cd ok, cwd=/pub</span><br><span class="line">lftp 172.25.0.11:/pub&gt; ls</span><br><span class="line">lftp 172.25.0.11:/pub&gt; put rhel7</span><br><span class="line">put: Access failed: 550 Permission denied. (rhel7)</span><br></pre></td></tr></table></figure></p>
<p><strong>&#x5F53;&#x524D;&#x7684;&#x60C5;&#x51B5;</strong></p>
<p>&#x533F;&#x540D;&#x7528;&#x6237;&#x80FD;&#x591F;&#x8BBF;&#x95EE;/var/ftp/pub&#xFF0C;&#x80FD;&#x591F;&#x67E5;&#x770B;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF0C;&#x80FD;&#x591F;&#x4E0B;&#x8F7D;&#xFF1B;&#x4E0D;&#x80FD;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;,&#x4E0D;&#x80FD;&#x5220;&#x9664;&#x6587;&#x4EF6;&#x3002;</p>
<p><strong>&#x95EE;&#x9898;&#x7684;&#x89E3;&#x51B3;</strong></p>
<p>&#x62A5;&#x9519;550&#xFF0C;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;</p>
<p>&#x6211;&#x4EEC;&#x8981;&#x5206;&#x6790;&#x6743;&#x9650;&#x6709;&#x54EA;&#x4E9B;&#xFF1F;</p>
<ol>
<li>vsftpd&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</li>
<li>UGO&#x3001;&#x7279;&#x6B8A;&#x3001;&#x9690;&#x85CF;&#x3001;ACL&#x3001;</li>
<li>SELINUX</li>
</ol>
<p><strong>1.&#x4FEE;&#x6539;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/vsftpd/vsftpd.conf</span><br><span class="line">anon_upload_enable=YES</span><br></pre></td></tr></table></figure></p>
<p><strong>2./var/ftp/pub &#x76EE;&#x5F55;o-rwx</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 pub]# ll -d /var/ftp/pub</span><br><span class="line">drwxr-xrwx. 2 root root 4096 Aug  3 10:35 /var/ftp/pub</span><br></pre></td></tr></table></figure></p>
<p><strong>3.&#x6D4B;&#x8BD5;</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lftp 172.25.0.11:/pub&gt; put rhel7</span><br><span class="line">put: Access failed: 553 Could not create file. (rhel7)</span><br></pre></td></tr></table></figure></p>
<p>&#x76EE;&#x524D;&#x4FEE;&#x6539;&#x4E86;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x548C;ugo&#x6743;&#x9650;&#x8FD8;&#x662F;&#x62A5;&#x9519;553&#xFF0C;&#x4E0D;&#x80FD;create file</p>
<p>&#x6211;&#x4EEC;&#x5206;&#x6790;&#x4E00;&#x4E0B;&#xFF0C;&#x53EA;&#x6709;selinux&#x7684;&#x6743;&#x9650;&#x95EE;&#x9898;&#x4E86;</p>
<p><strong>4.SELINUX</strong></p>
<p>&#x5982;&#x4F55;&#x786E;&#x5B9A;&#x662F;&#x5426;&#x662F;selinux&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x6B65;&#x9AA4;&#xFF1A;</p>
<ul>
<li>1)&#x5148;&#x5173;&#x95ED;selinux&#xFF0C;&#x6D4B;&#x8BD5;ok&#x7684;</li>
<li>2)&#x5F00;&#x542F;selinux&#xFF0C;&#x6D4B;&#x8BD5;no&#x7684;</li>
</ul>
<p>&#x6211;&#x4EEC;&#x9700;&#x8981;&#x53BB;&#x5206;&#x6790;selinux&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x5206;&#x6790;&#x5DE5;&#x5177;&#x662F;<code>sealert</code>,&#x7531;<code>setroubleshoot</code>&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;&#x3002;</p>
<ol>
<li>&#x67E5;&#x770B;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x4E2D;&#x662F;&#x5426;&#x6709;sealert&#x5DE5;&#x5177;    <code>which sealert</code></li>
<li>&#x5B89;&#x88C5;setroubleshoot        <code>yum install -y setroubleshoot</code></li>
<li>&#x5206;&#x6790;selinux&#x8BB0;&#x5F55;        <code>sealert -a /var/log/audit/audit.log</code></li>
</ol>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">*****  Plugin allow_anon_write (53.1 confidence) suggests  *******************</span><br><span class="line"></span><br><span class="line">If you want to allow /usr/sbin/vsftpd to be able to write to shared public content</span><br><span class="line">Then you need to change the label on pub to public_content_rw_t, and potentially turn on the</span><br><span class="line">allow_httpd_sys_script_anon_write boolean.</span><br><span class="line">Do</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> semanage fcontext -a -t public_content_rw_t pub</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> restorecon -R -v pub</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> setsebool -P allow_ftpd_anon_write 1</span></span><br><span class="line"></span><br><span class="line">[root@rhel6 pub]# semanage fcontext -a -t public_content_rw_t /var/ftp/pub</span><br><span class="line">[root@rhel6 pub]# restorecon -R -v /var/ftp/pub</span><br><span class="line">[root@rhel6 pub]# ll -Zd /var/ftp/pub</span><br><span class="line">drwxr-xrwx. root root system_u:object_r:public_content_rw_t:s0 /var/ftp/pub</span><br></pre></td></tr></table></figure></p>
<p><strong>5.&#x518D;&#x6D4B;&#x8BD5;</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lftp 172.25.0.11:/pub&gt; put rhel7</span><br><span class="line">lftp 172.25.0.11:/pub&gt; ls</span><br><span class="line">-rw-------    1 14       50              0 Aug 03 05:53 rhel7</span><br><span class="line">lftp 172.25.0.11:/pub&gt; exit</span><br></pre></td></tr></table></figure></p>
<p>&#x6B64;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#x533F;&#x540D;&#x7528;&#x6237;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x6210;&#x529F;&#x5730;&#x5BF9;/var/ftp/pub&#x76EE;&#x5F55;&#x8FDB;&#x884C;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x4E86;&#xFF01;</p>
<hr>
<h4 id="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;2-&#x771F;&#x5B9E;&#x7528;&#x6237;&#xFF08;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#xFF09;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x5BB6;&#x76EE;&#x5F55;&#xFF0C;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x5220;&#x9664;"><a href="#&#x9879;&#x76EE;&#x5B9E;&#x8DF5;2-&#x771F;&#x5B9E;&#x7528;&#x6237;&#xFF08;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#xFF09;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x5BB6;&#x76EE;&#x5F55;&#xFF0C;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x5220;&#x9664;" class="headerlink" title="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;2: &#x771F;&#x5B9E;&#x7528;&#x6237;&#xFF08;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#xFF09;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x5BB6;&#x76EE;&#x5F55;&#xFF0C;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x5220;&#x9664;"></a>&#x9879;&#x76EE;&#x5B9E;&#x8DF5;2: &#x771F;&#x5B9E;&#x7528;&#x6237;&#xFF08;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#xFF09;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x5BB6;&#x76EE;&#x5F55;&#xFF0C;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x5220;&#x9664;</h4><p>&#x5728;&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x5B8C;&#x6210;&#x3002;</p>
<p><strong>&#x670D;&#x52A1;&#x7AEF; rhel6</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ftp]# id student</span><br><span class="line">uid=500(student) gid=500(student) groups=500(student)</span><br><span class="line">[root@rhel6 ftp]# passwd student</span><br><span class="line">Changing password for user student.</span><br><span class="line">New password:</span><br><span class="line">BAD PASSWORD: it is based on a dictionary word</span><br><span class="line">Retype new password:</span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br><span class="line"></span><br><span class="line">[root@rhel6 ftp]# su - student</span><br><span class="line">[student@rhel6 ~]$ pwd</span><br><span class="line">/home/student</span><br><span class="line">[student@rhel6 ~]$ touch file1</span><br><span class="line">[student@rhel6 ~]$ echo aaa &gt; file1</span><br></pre></td></tr></table></figure></p>
<p><strong>&#x5BA2;&#x6237;&#x7AEF; rhel7</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# lftp student@172.25.0.11</span><br><span class="line">Password:</span><br><span class="line">lftp student@172.25.0.11:~&gt; ls      </span><br><span class="line">ls: Login failed: 500 OOPS: cannot change directory:/home/student</span><br></pre></td></tr></table></figure></p>
<p><strong>&#x5F53;&#x524D;&#x7684;&#x60C5;&#x51B5;</strong> &#x7CFB;&#x7EDF;&#x7528;&#x6237;student&#x4E0D;&#x80FD;&#x8BBF;&#x95EE;&#x5BB6;&#x76EE;&#x5F55;&#x3002;</p>
<p><strong>&#x95EE;&#x9898;&#x7684;&#x89E3;&#x51B3;</strong></p>
<p>&#x62A5;&#x9519;500&#xFF0C;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x8FDB;&#x5165;&#x7528;&#x6237;&#x5BB6;&#x76EE;&#x5F55;</p>
<p>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#xFF0C;ugo&#x6743;&#x9650;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x53EA;&#x5269;&#x4E0B;selinux&#xFF0C;&#x9700;&#x8981;&#x5206;&#x6790;</p>
<p><strong>1.&#x5206;&#x6790;selinux</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x670D;&#x52A1;&#x5668;&#x7AEF;</span></span><br><span class="line">[root@rhel6 ftp]# sealert -a /var/log/audit/audit.log</span><br><span class="line"></span><br><span class="line">*****  Plugin catchall_boolean (47.5 confidence) suggests  *******************</span><br><span class="line"></span><br><span class="line">If you want to allow ftp to read and write files in the user home directories</span><br><span class="line">Then you must tell SELinux about this by enabling the &apos;ftp_home_dir&apos;boolean.</span><br><span class="line">Do</span><br><span class="line">setsebool -P ftp_home_dir 1</span><br></pre></td></tr></table></figure></p>
<p><strong>2.&#x4FEE;&#x6539;&#x5E03;&#x5C14;&#x503C;</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ftp]# setsebool -P ftp_home_dir 1</span><br></pre></td></tr></table></figure></p>
<p><strong>3.&#x6D4B;&#x8BD5;</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5BA2;&#x6237;&#x7AEF;</span></span><br><span class="line">lftp student@172.25.0.11:~&gt; ls</span><br><span class="line">lftp student@172.25.0.11:~&gt; pwd  </span><br><span class="line">ftp://student@172.25.0.11/%2Fhome/student</span><br><span class="line">lftp student@172.25.0.11:~&gt; ls</span><br><span class="line">-rw-rw-r--    1 500      500             4 Aug 03 07:13 file1</span><br><span class="line">lftp student@172.25.0.11:~&gt; cat file1</span><br><span class="line">aaa</span><br><span class="line">4 bytes transferred</span><br><span class="line">lftp student@172.25.0.11:~&gt; get file1</span><br><span class="line">4 bytes transferred</span><br><span class="line">lftp student@172.25.0.11:~&gt; put</span><br><span class="line">.ICEauthority  .bashrc	 .dbus/     .tcshrc	Music/	    Videos/		  rhel7</span><br><span class="line">.bash_history  .cache/	 .esd_auth  Desktop/	Pictures/   anaconda-ks.cfg	  test1</span><br><span class="line">.bash_logout   .config/  .local/    Documents/	Public/     file1</span><br><span class="line">.bash_profile  .cshrc	 .ssh/	    Downloads/	Templates/  initial-setup-ks.cfg</span><br><span class="line">lftp student@172.25.0.11:~&gt; put rhel7</span><br><span class="line">lftp student@172.25.0.11:~&gt; ls</span><br><span class="line">-rw-rw-r--    1 500      500             4 Aug 03 07:13 file1</span><br><span class="line">-rw-r--r--    1 500      500             0 Aug 03 07:13 rhel7</span><br><span class="line">lftp student@172.25.0.11:~&gt; rm file1</span><br><span class="line">rm ok, \`file1\&apos; removed</span><br><span class="line">lftp student@172.25.0.11:~&gt; ls</span><br><span class="line">-rw-r--r--    1 500      500             0 Aug 03 07:13 rhel7</span><br></pre></td></tr></table></figure></p>
<p>&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x5BB6;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x4E14;&#x80FD;&#x591F;&#x4E0B;&#x8F7D;&#x3001;&#x4E0A;&#x4F20;&#x3001;&#x5220;&#x9664;&#x4E86;&#xFF01;</p>
<hr>
<h4 id="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;3-&#x9664;&#x4E86;&#x7CFB;&#x7EDF;&#x7528;&#x6237;student&#x6709;chroot&#x7684;&#x6743;&#x9650;&#xFF0C;&#x5176;&#x4ED6;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x6CA1;&#x6709;chroot&#x7684;&#x6743;&#x9650;"><a href="#&#x9879;&#x76EE;&#x5B9E;&#x8DF5;3-&#x9664;&#x4E86;&#x7CFB;&#x7EDF;&#x7528;&#x6237;student&#x6709;chroot&#x7684;&#x6743;&#x9650;&#xFF0C;&#x5176;&#x4ED6;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x6CA1;&#x6709;chroot&#x7684;&#x6743;&#x9650;" class="headerlink" title="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;3: &#x9664;&#x4E86;&#x7CFB;&#x7EDF;&#x7528;&#x6237;student&#x6709;chroot&#x7684;&#x6743;&#x9650;&#xFF0C;&#x5176;&#x4ED6;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x6CA1;&#x6709;chroot&#x7684;&#x6743;&#x9650;"></a>&#x9879;&#x76EE;&#x5B9E;&#x8DF5;3: &#x9664;&#x4E86;&#x7CFB;&#x7EDF;&#x7528;&#x6237;student&#x6709;chroot&#x7684;&#x6743;&#x9650;&#xFF0C;&#x5176;&#x4ED6;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x6CA1;&#x6709;chroot&#x7684;&#x6743;&#x9650;</h4><ul>
<li>&#x533F;&#x540D;&#x7528;&#x6237;&#x7684;&#x6839;&#x76EE;&#x5F55;    /var/ftp/</li>
<li>&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x7684;&#x6839;&#x76EE;&#x5F55;    /home/student/</li>
</ul>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">chroot_local_user=YES</th>
<th align="left">chroot_local_user=NO</th>
</tr>
</thead>
<tbody><tr>
<td align="left">chroot_list_enable=YES</td>
<td align="left">&#x4E0D;&#x80FD;&#x6362;&#x6839;&#xFF0C;&#x6709;&#x4F8B;&#x5916;</td>
<td align="left">&#x90FD;&#x80FD;&#x6362;&#x6839;&#xFF0C;&#x6709;&#x4F8B;&#x5916;</td>
</tr>
<tr>
<td align="left">chroot_list_enable=NO</td>
<td align="left">&#x4E0D;&#x80FD;&#x6362;&#x6839;&#xFF0C;&#x6CA1;&#x4F8B;&#x5916;</td>
<td align="left">&#x90FD;&#x80FD;&#x6362;&#x6839;&#xFF0C;&#x6CA1;&#x4F8B;&#x5916;</td>
</tr>
</tbody></table>
<p>&#x5982;&#x679C;&#x6307;&#x5B9A; <code>chroot_list_enable=YES</code> &#x5219;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x4F4D;&#x7F6E; <code>chroot_list_file=/etc/vsftpd/chroot_list</code></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# lftp batman@172.25.0.11</span><br><span class="line">Password:</span><br><span class="line">lftp batman@172.25.0.11:~&gt; ls       </span><br><span class="line">lftp batman@172.25.0.11:~&gt; cd /tmp</span><br><span class="line">cd ok, cwd=/tmp</span><br><span class="line">lftp batman@172.25.0.11:/tmp&gt; pwd</span><br><span class="line">ftp://batman@172.25.0.11/%2Ftmp</span><br><span class="line">lftp batman@172.25.0.11:/tmp&gt; exit</span><br></pre></td></tr></table></figure></p>
<p><strong>&#x5F53;&#x524D;&#x7684;&#x60C5;&#x51B5;</strong> &#x6240;&#x6709;&#x7684;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x90FD;&#x80FD;&#x591F;chroot&#xFF0C;&#x800C;&#x8981;&#x6C42;&#x9664;&#x4E86;student&#x7528;&#x6237;&#x4E4B;&#x5916;&#x7684;&#x6240;&#x6709;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x90FD;&#x4E0D;&#x80FD;chroot&#x3002;</p>
<p><strong>&#x89E3;&#x51B3;&#x65B9;&#x6CD5;</strong></p>
<p>&#x53EF;&#x4EE5;&#x9009;&#x62E9;<code>&#x4E0D;&#x80FD;&#x6362;&#x6839;&#xFF0C;&#x6709;&#x4F8B;&#x5916;</code></p>
<p><strong>1.&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x670D;&#x52A1;&#x5668;&#x7AEF;</span></span><br><span class="line">[root@rhel6 ~]# vim /etc/vsftpd/vsftpd.conf</span><br><span class="line">chroot_local_user=YES</span><br><span class="line">chroot_list_enable=YES</span><br><span class="line">chroot_list_file=/etc/vsftpd/chroot_list</span><br></pre></td></tr></table></figure></p>
<p><strong>2.&#x521B;&#x5EFA;chroot_list</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ~]# vim /etc/vsftpd/chroot_list</span><br><span class="line">[root@rhel6 ~]# cat /etc/vsftpd/chroot_list</span><br><span class="line">student</span><br></pre></td></tr></table></figure></p>
<p><strong>3.&#x91CD;&#x542F;&#x670D;&#x52A1;</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ~]# service vsftpd restart</span><br><span class="line">Shutting down vsftpd:                                      [  OK  ]</span><br><span class="line">Starting vsftpd for vsftpd:                                [  OK  ]</span><br></pre></td></tr></table></figure></p>
<p><strong>2.&#x6D4B;&#x8BD5;</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5BA2;&#x6237;&#x7AEF;    </span></span><br><span class="line">[root@rhel7 ~]# lftp batman@172.25.0.11</span><br><span class="line">Password:</span><br><span class="line">lftp batman@172.25.0.11:~&gt; cd /etc/</span><br><span class="line">cd: Access failed: 550 Failed to change directory. (/etc)</span><br><span class="line">lftp batman@172.25.0.11:/&gt; exit</span><br><span class="line">[root@rhel7 ~]# lftp student@172.25.0.11</span><br><span class="line">Password:</span><br><span class="line">lftp student@172.25.0.11:~&gt; cd /etc</span><br><span class="line">cd ok, cwd=/etc                  </span><br><span class="line">lftp student@172.25.0.11:/etc&gt; exit</span><br></pre></td></tr></table></figure></p>
<p><strong>&#x5F53;&#x524D;&#x7684;&#x60C5;&#x51B5;</strong></p>
<p>&#x7CFB;&#x7EDF;&#x7528;&#x6237;student&#x53EF;&#x4EE5;&#x5207;&#x6362;&#x6839;&#x76EE;&#x5F55;&#xFF0C;&#x800C;batman&#x4E0D;&#x5728;chroot_list&#x6587;&#x4EF6;&#x4E2D;&#x6240;&#x4EE5;&#x4E0D;&#x80FD;&#x5207;&#x6362;&#x6839;&#x76EE;&#x5F55;&#x3002;</p>
<h5 id="&#x62D3;&#x5C55;&#x5185;&#x5BB9;"><a href="#&#x62D3;&#x5C55;&#x5185;&#x5BB9;" class="headerlink" title="&#x62D3;&#x5C55;&#x5185;&#x5BB9;"></a>&#x62D3;&#x5C55;&#x5185;&#x5BB9;</h5><p><strong>&#x4E3A;&#x4EC0;&#x4E48;root&#x7528;&#x6237;&#x4E0D;&#x80FD;&#x901A;&#x8FC7;ftp&#x534F;&#x8BAE;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#xFF1F;</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# lftp root@172.25.0.11</span><br><span class="line">Password:</span><br><span class="line">lftp root@172.25.0.11:~&gt; ls         </span><br><span class="line">ls: Login failed: 530 Permission denied.</span><br></pre></td></tr></table></figure></p>
<p>&#x56E0;&#x4E3A;&#x6709;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x5217;&#x8868;<code>/etc/vsftpd/user_list</code></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ~]# grep userlist_enable /etc/vsftpd/vsftpd.conf</span><br><span class="line">userlist_enable=YES</span><br><span class="line"></span><br><span class="line">[root@rhel6 ftp]# cat /etc/vsftpd/user_list</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> vsftpd userlist</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> If userlist_deny=NO, only allow users <span class="hljs-keyword">in</span> this file</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> If userlist_deny=YES (default), never allow users <span class="hljs-keyword">in</span> this file, and</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> <span class="hljs-keyword">do</span> not even prompt <span class="hljs-keyword">for</span> a password.</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> Note that the default vsftpd pam config also checks /etc/vsftpd/ftpusers</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> <span class="hljs-keyword">for</span> users that are denied.</span></span><br><span class="line">root</span><br><span class="line">bin</span><br><span class="line">daemon</span><br><span class="line">adm</span><br><span class="line">lp</span><br><span class="line">sync</span><br><span class="line">shutdown</span><br><span class="line">halt</span><br><span class="line">mail</span><br><span class="line">news</span><br><span class="line">uucp</span><br><span class="line">operator</span><br><span class="line">games</span><br><span class="line">nobody</span><br></pre></td></tr></table></figure></p>
<hr>
<h4 id="&#x4E86;&#x89E3;vsftpd&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><a href="#&#x4E86;&#x89E3;vsftpd&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;" class="headerlink" title="&#x4E86;&#x89E3;vsftpd&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"></a>&#x4E86;&#x89E3;vsftpd&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h4><table>
<thead>
<tr>
<th align="left">&#x914D;&#x7F6E;&#x6587;&#x4EF6;</th>
<th align="left">&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody><tr>
<td align="left">/etc/vsftpd/vsftpd.conf</td>
<td align="left">&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</td>
</tr>
<tr>
<td align="left">/usr/sbin/vsftpd</td>
<td align="left">Vsftpd&#x7684;&#x4E3B;&#x7A0B;&#x5E8F;</td>
</tr>
<tr>
<td align="left">/etc/rc.d/init.d/vsftpd</td>
<td align="left">&#x542F;&#x52A8;&#x811A;&#x672C;</td>
</tr>
<tr>
<td align="left">/etc/pam.d/vsftpd</td>
<td align="left">PAM&#x8BA4;&#x8BC1;&#x6587;&#x4EF6;&#xFF08;&#x6B64;&#x6587;&#x4EF6;&#x4E2D;file=/etc/vsftpd/ftpusers&#x5B57;&#x6BB5;&#xFF0C;&#x6307;&#x660E;&#x963B;&#x6B62;&#x8BBF;&#x95EE;&#x7684;&#x7528;&#x6237;&#x6765;&#x81EA;/etc/vsftpd/ftpusers&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x7528;&#x6237;&#xFF09;</td>
</tr>
<tr>
<td align="left">/etc/vsftpd/ftpusers</td>
<td align="left">&#x7981;&#x6B62;&#x4F7F;&#x7528;vsftpd&#x7684;&#x7528;&#x6237;&#x5217;&#x8868;&#x6587;&#x4EF6;&#x3002;&#x8BB0;&#x5F55;&#x4E0D;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x7528;&#x6237;&#x540D;&#x5355;&#xFF0C;&#x7BA1;&#x7406;&#x5458;&#x53EF;&#x4EE5;&#x628A;&#x4E00;&#x4E9B;&#x5BF9;&#x7CFB;&#x7EDF;&#x5B89;&#x5168;&#x6709;&#x5A01;&#x80C1;&#x7684;&#x7528;&#x6237;&#x8D26;&#x53F7;&#x8BB0;&#x5F55;&#x5728;&#x6B64;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x4EE5;&#x514D;&#x7528;&#x6237;&#x4ECE;FTP&#x767B;&#x5F55;&#x540E;&#x83B7;&#x5F97;&#x5927;&#x4E8E;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x64CD;&#x4F5C;&#x7684;&#x6743;&#x5229;&#xFF0C;&#x800C;&#x5BF9;&#x7CFB;&#x7EDF;&#x9020;&#x6210;&#x635F;&#x574F;&#x3002;</td>
</tr>
<tr>
<td align="left">/etc/vsftpd/user_list</td>
<td align="left">&#x7981;&#x6B62;&#x6216;&#x5141;&#x8BB8;&#x4F7F;&#x7528;vsftpd&#x7684;&#x7528;&#x6237;&#x5217;&#x8868;&#x6587;&#x4EF6;&#x3002;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x7528;&#x6237;&#x7F3A;&#x7701;&#x60C5;&#x51B5;&#xFF08;&#x5373;&#x5728;/etc/vsftpd/vsftpd.conf&#x4E2D;&#x8BBE;&#x7F6E;userlist_deny=YES&#xFF09;&#x4E0B;&#x4E5F;&#x4E0D;&#x80FD;&#x8BBF;&#x95EE;FTP&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5728;&#x8BBE;&#x7F6E;&#x4E86;userlist_deny=NO&#x65F6;,&#x4EC5;&#x5141;&#x8BB8;user_list&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x7528;&#x6237;&#x8BBF;&#x95EE;FTP&#x670D;&#x52A1;&#x5668;&#x3002;</td>
</tr>
<tr>
<td align="left">/var/ftp</td>
<td align="left">&#x533F;&#x540D;&#x7528;&#x6237;&#x4E3B;&#x76EE;&#x5F55;&#xFF1B;&#x672C;&#x5730;&#x7528;&#x6237;&#x4E3B;&#x76EE;&#x5F55;&#x4E3A;&#xFF1A;/home/&#x7528;&#x6237;&#x4E3B;&#x76EE;&#x5F55;&#xFF0C;&#x5373;&#x767B;&#x5F55;&#x540E;&#x8FDB;&#x5165;&#x81EA;&#x5DF1;&#x5BB6;&#x76EE;&#x5F55;</td>
</tr>
<tr>
<td align="left">/var/ftp/pub</td>
<td align="left">&#x533F;&#x540D;&#x7528;&#x6237;&#x7684;&#x4E0B;&#x8F7D;&#x76EE;&#x5F55;&#xFF0C;&#x6B64;&#x76EE;&#x5F55;&#x9700;&#x8D4B;&#x6743;&#x6839;chmod 1777 pub&#xFF08;1&#x4E3A;&#x7279;&#x6B8A;&#x6743;&#x9650;&#xFF0C;&#x4F7F;&#x4E0A;&#x8F7D;&#x540E;&#x65E0;&#x6CD5;&#x5220;&#x9664;&#xFF09;</td>
</tr>
<tr>
<td align="left">/etc/logrotate.d/vsftpd.log</td>
<td align="left">Vsftpd&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</td>
</tr>
</tbody></table>
<h5 id="vsftpd&#x7684;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-etc-vsftpd-vsftpd-conf&#x8BF4;&#x660E;"><a href="#vsftpd&#x7684;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-etc-vsftpd-vsftpd-conf&#x8BF4;&#x660E;" class="headerlink" title="vsftpd&#x7684;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/vsftpd/vsftpd.conf&#x8BF4;&#x660E;"></a>vsftpd&#x7684;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/vsftpd/vsftpd.conf&#x8BF4;&#x660E;</h5><p>&#x548C;Linux&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x5927;&#x591A;&#x6570;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E00;&#x6837;&#xFF0C;vsftpd&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x4EE5;#&#x5F00;&#x59CB;&#x6CE8;&#x91CA;&#x3002;</p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">&#x662F;&#x5426;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x767B;&#x5F55;FTP&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x4E3A;YES&#x5141;&#x8BB8;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x7528;&#x6237;&#x53EF;&#x4F7F;&#x7528;&#x7528;&#x6237;&#x540D;ftp&#x6216;anonymous&#x8FDB;&#x884C;ftp&#x767B;&#x5F55;&#xFF0C;&#x53E3;&#x4EE4;&#x4E3A;&#x7528;&#x6237;&#x7684;E-mail&#x5730;&#x5740;&#x3002;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5982;&#x4E0D;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x8BBF;&#x95EE;&#x5219;&#x8BBE;&#x7F6E;&#x4E3A;NO</span></span><br><span class="line">anonymous_enable=YES</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x662F;&#x5426;&#x5141;&#x8BB8;&#x672C;&#x5730;&#x7528;&#x6237;(&#x5373;linux&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x7528;&#x6237;&#x5E10;&#x53F7;)&#x767B;&#x5F55;FTP&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x4E3A;YES&#x5141;&#x8BB8;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x672C;&#x5730;&#x7528;&#x6237;&#x767B;&#x5F55;&#x540E;&#x4F1A;&#x8FDB;&#x5165;&#x7528;&#x6237;&#x4E3B;&#x76EE;&#x5F55;&#xFF0C;&#x800C;&#x533F;&#x540D;&#x7528;&#x6237;&#x767B;&#x5F55;&#x540E;&#x8FDB;&#x5165;&#x533F;&#x540D;&#x7528;&#x6237;&#x7684;&#x4E0B;&#x8F7D;&#x76EE;&#x5F55;/var/ftp/pub</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x82E5;&#x53EA;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#xFF0C;&#x524D;&#x9762;&#x52A0;&#x4E0A;<span class="hljs-comment">#&#x6CE8;&#x91CA;&#x6389;&#x5373;&#x53EF;&#x963B;&#x6B62;&#x672C;&#x5730;&#x7528;&#x6237;&#x8BBF;&#x95EE;FTP&#x670D;&#x52A1;&#x5668;</span></span></span><br><span class="line">local_enable=YES</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x662F;&#x5426;&#x5141;&#x8BB8;&#x672C;&#x5730;&#x7528;&#x6237;&#x5BF9;FTP&#x670D;&#x52A1;&#x5668;&#x6587;&#x4EF6;&#x5177;&#x6709;&#x5199;&#x6743;&#x9650;&#xFF0C;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x4E3A;YES&#x5141;&#x8BB8;</span></span><br><span class="line">write_enable=YES</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x63A9;&#x7801;&#xFF0C;&#x672C;&#x5730;&#x7528;&#x6237;&#x9ED8;&#x8BA4;&#x63A9;&#x7801;&#x4E3A;077</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x4F60;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x672C;&#x5730;&#x7528;&#x6237;&#x7684;&#x6587;&#x4EF6;&#x63A9;&#x7801;&#x4E3A;&#x7F3A;&#x7701;022&#xFF0C;&#x4E5F;&#x53EF;&#x6839;&#x636E;&#x4E2A;&#x4EBA;&#x559C;&#x597D;&#x5C06;&#x5176;&#x8BBE;&#x7F6E;&#x4E3A;&#x5176;&#x4ED6;&#x503C;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">local_umask=022</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x662F;&#x5426;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#xFF0C;&#x987B;&#x5C06;&#x5168;&#x5C40;&#x7684;write_enable=YES&#x3002;&#x9ED8;&#x8BA4;&#x4E3A;YES</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">anon_upload_enable=YES</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x662F;&#x5426;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x521B;&#x5EFA;&#x65B0;&#x6587;&#x4EF6;&#x5939;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">anon_mkdir_write_enable=YES</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x662F;&#x5426;&#x6FC0;&#x6D3B;&#x76EE;&#x5F55;&#x6B22;&#x8FCE;&#x4FE1;&#x606F;&#x529F;&#x80FD;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5F53;&#x7528;&#x6237;&#x7528;CMD&#x6A21;&#x5F0F;&#x9996;&#x6B21;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x67D0;&#x4E2A;&#x76EE;&#x5F55;&#x65F6;&#xFF0C;FTP&#x670D;&#x52A1;&#x5668;&#x5C06;&#x663E;&#x793A;&#x6B22;&#x8FCE;&#x4FE1;&#x606F;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6B22;&#x8FCE;&#x4FE1;&#x606F;&#x662F;&#x901A;&#x8FC7;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x7684;.message&#x6587;&#x4EF6;&#x83B7;&#x5F97;&#x7684;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x6B64;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x6B22;&#x8FCE;&#x4FE1;&#x606F;&#xFF0C;&#x7531;&#x7528;&#x6237;&#x81EA;&#x5DF1;&#x5EFA;&#x7ACB;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">dirmessage_enable=YES</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x662F;&#x5426;&#x8BA9;&#x7CFB;&#x7EDF;&#x81EA;&#x52A8;&#x7EF4;&#x62A4;&#x4E0A;&#x4F20;&#x548C;&#x4E0B;&#x8F7D;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x8BE5;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x4E3A;/var/<span class="hljs-built_in">log</span>/vsftpd.log,&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;xferlog_file&#x9009;&#x9879;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x8BBE;&#x5B9A;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x9ED8;&#x8BA4;&#x503C;&#x4E3A;NO</span></span><br><span class="line">xferlog_enable=YES</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> Make sure PORT transfer connections originate from port 20 (ftp-data).</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x662F;&#x5426;&#x8BBE;&#x5B9A;FTP&#x670D;&#x52A1;&#x5668;&#x5C06;&#x542F;&#x7528;FTP&#x6570;&#x636E;&#x7AEF;&#x53E3;&#x7684;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> ftp-data&#x6570;&#x636E;&#x4F20;&#x8F93;&#xFF0C;21&#x4E3A;&#x8FDE;&#x63A5;&#x63A7;&#x5236;&#x7AEF;&#x53E3;</span></span><br><span class="line">connect_from_port_20=YES</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x8BBE;&#x5B9A;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x6539;&#x53D8;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x5C5E;&#x4E3B;&#xFF0C;&#x4E0E;&#x4E0B;&#x9762;&#x4E00;&#x4E2A;&#x8BBE;&#x5B9A;&#x9879;&#x914D;&#x5408;&#x4F7F;&#x7528;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x6CE8;&#x610F;&#xFF0C;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;root&#x7528;&#x6237;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">chown_uploads=YES</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x8BBE;&#x7F6E;&#x60F3;&#x8981;&#x6539;&#x53D8;&#x7684;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x5C5E;&#x4E3B;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#xFF0C;&#x5219;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x540D;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x53EF;&#x4EE5;&#x628A;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#x90FD;&#x6539;&#x6210;root&#x5C5E;&#x4E3B;&#x3002;whoever&#xFF1A;&#x4EFB;&#x4F55;&#x4EBA;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">chown_username=whoever</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x8BBE;&#x5B9A;&#x7CFB;&#x7EDF;&#x7EF4;&#x62A4;&#x8BB0;&#x5F55;FTP&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x4F20;&#x548C;&#x4E0B;&#x8F7D;&#x60C5;&#x51B5;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> /var/<span class="hljs-built_in">log</span>/vsftpd.log&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x53E6;&#x8BBE;&#x5176;&#x5B83;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">xferlog_file=/var/<span class="hljs-built_in">log</span>/vsftpd.log</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x662F;&#x5426;&#x4EE5;&#x6807;&#x51C6;xferlog&#x7684;&#x683C;&#x5F0F;&#x4E66;&#x5199;&#x4F20;&#x8F93;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x9ED8;&#x8BA4;&#x4E3A;/var/<span class="hljs-built_in">log</span>/xferlog&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;xferlog_file&#x9009;&#x9879;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x8BBE;&#x5B9A;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x9ED8;&#x8BA4;&#x503C;&#x4E3A;NO</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">xferlog_std_format=YES</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x4EE5;&#x4E0B;&#x662F;&#x9644;&#x52A0;&#x914D;&#x7F6E;&#xFF0C;&#x6DFB;&#x52A0;&#x76F8;&#x5E94;&#x7684;&#x9009;&#x9879;&#x5C06;&#x542F;&#x7528;&#x76F8;&#x5E94;&#x7684;&#x8BBE;&#x7F6E;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x662F;&#x5426;&#x751F;&#x6210;&#x4E24;&#x4E2A;&#x76F8;&#x4F3C;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x9ED8;&#x8BA4;&#x5728;/var/<span class="hljs-built_in">log</span>/xferlog&#x548C;/var/<span class="hljs-built_in">log</span>/vsftpd.log&#x76EE;&#x5F55;&#x4E0B;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x524D;&#x8005;&#x662F;wu_ftpd&#x7C7B;&#x578B;&#x7684;&#x4F20;&#x8F93;&#x65E5;&#x5FD7;&#xFF0C;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x6807;&#x51C6;&#x65E5;&#x5FD7;&#x5DE5;&#x5177;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x5206;&#x6790;&#xFF1B;&#x540E;&#x8005;&#x662F;vsftpd&#x7C7B;&#x578B;&#x7684;&#x65E5;&#x5FD7;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">dual_log_enable</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x662F;&#x5426;&#x5C06;&#x539F;&#x672C;&#x8F93;&#x51FA;&#x5230;/var/<span class="hljs-built_in">log</span>/vsftpd.log&#x4E2D;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x8F93;&#x51FA;&#x5230;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">syslog_enable</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x4E2D;&#x65AD;&#x95F4;&#x9694;&#x65F6;&#x95F4;&#xFF0C;&#x6B64;&#x8BED;&#x53E5;&#x8868;&#x793A;&#x7A7A;&#x95F2;&#x7684;&#x7528;&#x6237;&#x4F1A;&#x8BDD;&#x4E2D;&#x65AD;&#x65F6;&#x95F4;&#x4E3A;600&#x79D2;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5373;&#x5F53;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x7528;&#x6237;&#x8FDE;&#x63A5;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x65F6;&#x95F4;&#x4E0D;&#x5E94;&#x8D85;&#x8FC7;600&#x79D2;&#x3002;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x5BF9;&#x8BE5;&#x503C;&#x8FDB;&#x884C;&#x4FEE;&#x6539;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">idle_session_timeout=600</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x8BE5;&#x8BED;&#x53E5;&#x8868;&#x793A;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x4E3A;120&#x79D2;&#xFF0C;&#x53EF;&#x6839;&#x636E;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x5BF9;&#x5176;&#x4E2A;&#x4FEE;&#x6539;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">data_connection_timeout=120</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x8FD0;&#x884C;vsftpd&#x9700;&#x8981;&#x7684;&#x975E;&#x7279;&#x6743;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#xFF0C;&#x7F3A;&#x7701;&#x662F;nobody</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">nopriv_user=ftpsecure</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x662F;&#x5426;&#x8BC6;&#x522B;&#x5F02;&#x6B65;ABOR&#x8BF7;&#x6C42;&#x3002;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5982;&#x679C;FTP client&#x4F1A;&#x4E0B;&#x8FBE;&#x201C;async ABOR&#x201D;&#x8FD9;&#x4E2A;&#x6307;&#x4EE4;&#x65F6;&#xFF0C;&#x8FD9;&#x4E2A;&#x8BBE;&#x5B9A;&#x624D;&#x9700;&#x8981;&#x542F;&#x7528;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x800C;&#x4E00;&#x822C;&#x6B64;&#x8BBE;&#x5B9A;&#x5E76;&#x4E0D;&#x5B89;&#x5168;&#xFF0C;&#x6240;&#x4EE5;&#x901A;&#x5E38;&#x5C06;&#x5176;&#x53D6;&#x6D88;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">async_abor_enable=YES</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x662F;&#x5426;&#x4EE5;ASCII&#x65B9;&#x5F0F;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x4F1A;&#x5FFD;&#x7565;ASCII&#x65B9;&#x5F0F;&#x7684;&#x8BF7;&#x6C42;&#x3002;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x542F;&#x7528;&#x6B64;&#x9009;&#x9879;&#x5C06;&#x5141;&#x8BB8;&#x670D;&#x52A1;&#x5668;&#x4EE5;ASCII&#x65B9;&#x5F0F;&#x4F20;&#x8F93;&#x6570;&#x636E;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x4E0D;&#x8FC7;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x7531;<span class="hljs-string">&quot;SIZE /big/file&quot;</span>&#x65B9;&#x5F0F;&#x5F15;&#x8D77;&#x7684;DoS&#x653B;&#x51FB;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">ascii_upload_enable=YES</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">ascii_download_enable=YES</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x767B;&#x5F55;FTP&#x670D;&#x52A1;&#x5668;&#x65F6;&#x663E;&#x793A;&#x7684;&#x6B22;&#x8FCE;&#x4FE1;&#x606F;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5982;&#x6709;&#x9700;&#x8981;&#xFF0C;&#x53EF;&#x5728;&#x66F4;&#x6539;&#x76EE;&#x5F55;&#x6B22;&#x8FCE;&#x4FE1;&#x606F;&#x7684;&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;&#x540D;&#x4E3A;.message&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x5199;&#x5165;&#x6B22;&#x8FCE;&#x4FE1;&#x606F;&#x4FDD;&#x5B58;&#x540E;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">ftpd_banner=Welcome to blah FTP service.</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x9ED1;&#x540D;&#x5355;&#x8BBE;&#x7F6E;&#x3002;&#x5982;&#x679C;&#x5F88;&#x8BA8;&#x538C;&#x67D0;&#x4E9B;email address&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6B64;&#x8BBE;&#x5B9A;&#x6765;&#x53D6;&#x6D88;&#x4ED6;&#x7684;&#x767B;&#x5F55;&#x6743;&#x9650;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x53EF;&#x4EE5;&#x5C06;&#x67D0;&#x4E9B;&#x7279;&#x6B8A;&#x7684;email address&#x62B5;&#x6321;&#x4F4F;&#x3002;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">deny_email_enable=YES</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5F53;&#x4E0A;&#x9762;&#x7684;deny_email_enable=YES&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x8BBE;&#x5B9A;&#x9879;&#x6765;&#x89C4;&#x5B9A;&#x54EA;&#x4E9B;&#x90AE;&#x4EF6;&#x5730;&#x5740;&#x4E0D;&#x53EF;&#x767B;&#x5F55;vsftpd&#x670D;&#x52A1;&#x5668;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x6B64;&#x6587;&#x4EF6;&#x9700;&#x7528;&#x6237;&#x81EA;&#x5DF1;&#x521B;&#x5EFA;&#xFF0C;&#x4E00;&#x884C;&#x4E00;&#x4E2A;email address&#x5373;&#x53EF;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">banned_email_file=/etc/vsftpd/banned_emails</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x7528;&#x6237;&#x767B;&#x5F55;FTP&#x670D;&#x52A1;&#x5668;&#x540E;&#x662F;&#x5426;&#x5177;&#x6709;&#x8BBF;&#x95EE;&#x81EA;&#x5DF1;&#x76EE;&#x5F55;&#x4EE5;&#x5916;&#x7684;&#x5176;&#x4ED6;&#x6587;&#x4EF6;&#x7684;&#x6743;&#x9650;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x8BBE;&#x7F6E;&#x4E3A;YES&#x65F6;&#xFF0C;&#x7528;&#x6237;&#x88AB;&#x9501;&#x5B9A;&#x5728;&#x81EA;&#x5DF1;&#x7684;home&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;vsftpd&#x5C06;&#x5728;&#x4E0B;&#x9762;chroot_list_file&#x9009;&#x9879;&#x503C;&#x7684;&#x4F4D;&#x7F6E;&#x5BFB;&#x627E;chroot_list&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5FC5;&#x987B;&#x4E0E;&#x4E0B;&#x9762;&#x7684;&#x8BBE;&#x7F6E;&#x9879;&#x914D;&#x5408;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">chroot_list_enable=YES</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x88AB;&#x5217;&#x5165;&#x6B64;&#x6587;&#x4EF6;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x5728;&#x767B;&#x5F55;&#x540E;&#x5C06;&#x4E0D;&#x80FD;&#x5207;&#x6362;&#x5230;&#x81EA;&#x5DF1;&#x76EE;&#x5F55;&#x4EE5;&#x5916;&#x7684;&#x5176;&#x4ED6;&#x76EE;&#x5F55;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x4ECE;&#x800C;&#x6709;&#x5229;&#x4E8E;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x5B89;&#x5168;&#x7BA1;&#x7406;&#x548C;&#x9690;&#x79C1;&#x4FDD;&#x62A4;&#x3002;&#x6B64;&#x6587;&#x4EF6;&#x9700;&#x81EA;&#x5DF1;&#x5EFA;&#x7ACB;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">chroot_list_file=/etc/vsftpd/chroot_list</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x662F;&#x5426;&#x5141;&#x8BB8;&#x9012;&#x5F52;&#x67E5;&#x8BE2;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A;&#x5173;&#x95ED;&#xFF0C;&#x4EE5;&#x9632;&#x6B62;&#x8FDC;&#x7A0B;&#x7528;&#x6237;&#x9020;&#x6210;&#x8FC7;&#x91CF;&#x7684;I/O</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">ls_recurse_enable=YES</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x662F;&#x5426;&#x5141;&#x8BB8;&#x76D1;&#x542C;&#x3002;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;YES&#xFF0C;&#x5219;vsftpd&#x5C06;&#x4EE5;&#x72EC;&#x7ACB;&#x6A21;&#x5F0F;&#x8FD0;&#x884C;&#xFF0C;&#x7531;vsftpd&#x81EA;&#x5DF1;&#x76D1;&#x542C;&#x548C;&#x5904;&#x7406;IPv4&#x7AEF;&#x53E3;&#x7684;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;</span></span><br><span class="line">listen=YES</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x8BBE;&#x5B9A;&#x662F;&#x5426;&#x652F;&#x6301;IPV6&#x3002;&#x5982;&#x8981;&#x540C;&#x65F6;&#x76D1;&#x542C;IPv4&#x548C;IPv6&#x7AEF;&#x53E3;&#xFF0C;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5219;&#x5FC5;&#x987B;&#x8FD0;&#x884C;&#x4E24;&#x5957;vsftpd&#xFF0C;&#x91C7;&#x7528;&#x4E24;&#x5957;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x540C;&#x65F6;&#x786E;&#x4FDD;&#x5176;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;&#x76D1;&#x542C;&#x9009;&#x9879;&#x662F;&#x88AB;&#x6CE8;&#x91CA;&#x6389;&#x7684;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">listen_ipv6=YES</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x8BBE;&#x7F6E;PAM&#x5916;&#x6302;&#x6A21;&#x5757;&#x63D0;&#x4F9B;&#x7684;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x5373;/etc/pam.d/vsftpd&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x6B64;&#x6587;&#x4EF6;&#x4E2D;file=/etc/vsftpd/ftpusers&#x5B57;&#x6BB5;&#xFF0C;&#x8BF4;&#x660E;&#x4E86;PAM&#x6A21;&#x5757;&#x80FD;&#x62B5;&#x6321;&#x7684;&#x5E10;&#x53F7;&#x5185;&#x5BB9;&#x6765;&#x81EA;&#x6587;&#x4EF6;/etc/vsftpd/ftpusers&#x4E2D;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">pam_service_name=vsftpd</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x662F;&#x5426;&#x5141;&#x8BB8;ftpusers&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x7528;&#x6237;&#x767B;&#x5F55;FTP&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;NO</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x82E5;&#x6B64;&#x9879;&#x8BBE;&#x4E3A;YES&#xFF0C;&#x5219;user_list&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x7528;&#x6237;&#x5141;&#x8BB8;&#x767B;&#x5F55;FTP&#x670D;&#x52A1;&#x5668;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x800C;&#x5982;&#x679C;&#x540C;&#x65F6;&#x8BBE;&#x7F6E;&#x4E86;userlist_deny=YES&#xFF0C;&#x5219;user_list&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x7528;&#x6237;&#x5C06;&#x4E0D;&#x5141;&#x8BB8;&#x767B;&#x5F55;FTP&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x751A;&#x81F3;&#x8FDE;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#x90FD;&#x6CA1;&#x6709;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">userlist_enable=YES/NO</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x8BBE;&#x7F6E;&#x662F;&#x5426;&#x963B;&#x626F;user_list&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x7528;&#x6237;&#x767B;&#x5F55;FTP&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;YES</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">userlist_deny=YES/NO</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x662F;&#x5426;&#x4F7F;&#x7528;tcp_wrappers&#x4F5C;&#x4E3A;&#x4E3B;&#x673A;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x65B9;&#x5F0F;&#x3002;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> tcp_wrappers&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;linux&#x7CFB;&#x7EDF;&#x4E2D;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#x7684;&#x57FA;&#x4E8E;&#x4E3B;&#x673A;&#x5730;&#x5740;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5728;/etc&#x76EE;&#x5F55;&#x4E2D;&#x7684;hosts.allow&#x548C;hosts.deny&#x4E24;&#x4E2A;&#x6587;&#x4EF6;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;tcp_wrappers&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x524D;&#x8005;&#x8BBE;&#x7F6E;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x8BB0;&#x5F55;&#xFF0C;&#x540E;&#x8005;&#x8BBE;&#x7F6E;&#x62D2;&#x7EDD;&#x8BBF;&#x95EE;&#x8BB0;&#x5F55;&#x3002;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5982;&#x60F3;&#x9650;&#x5236;&#x67D0;&#x4E9B;&#x4E3B;&#x673A;&#x5BF9;FTP&#x670D;&#x52A1;&#x5668;192.168.57.2&#x7684;&#x533F;&#x540D;&#x8BBF;&#x95EE;&#xFF0C;&#x7F16;&#x7F09;/etc/hosts.allow&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x5728;&#x4E0B;&#x9762;&#x589E;&#x52A0;&#x4E24;&#x884C;&#x547D;&#x4EE4;&#xFF1A;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> vsftpd:192.168.57.1:DENY &#x548C;vsftpd:192.168.57.9:DENY</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x8868;&#x660E;&#x9650;&#x5236;IP&#x4E3A;192.168.57.1/192.168.57.9&#x4E3B;&#x673A;&#x8BBF;&#x95EE;IP&#x4E3A;192.168.57.2&#x7684;FTP&#x670D;&#x52A1;&#x5668;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x6B64;&#x65F6;FTP&#x670D;&#x52A1;&#x5668;&#x867D;&#x53EF;&#x4EE5;PING&#x901A;&#xFF0C;&#x4F46;&#x65E0;&#x6CD5;&#x8FDE;&#x63A5;</span></span><br><span class="line">tcp_wrappers=YES</span><br></pre></td></tr></table></figure></p>
<p>&#x9664;&#x4E86;&#x4E0A;&#x8FF0;&#x90A3;&#x4E9B;&#x57FA;&#x672C;&#x8BBE;&#x5B9A;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x5728;vsftpd.conf&#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x66F4;&#x591A;&#x7684;&#x5B89;&#x5168;&#x9009;&#x9879;&#x3002;&#x5176;&#x4E2D;&#x51E0;&#x4E2A;&#x5E38;&#x7528;&#x7684;&#x5982;&#x4E0B;&#xFF1A;</p>
<p>&#x9650;&#x5236;&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x6570;&#x548C;&#x4F20;&#x8F93;&#x901F;&#x7387;</p>
<p>&#x5728;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x7BA1;&#x7406;&#x4E2D;&#xFF0C;&#x65E0;&#x8BBA;&#x5BF9;&#x672C;&#x5730;&#x7528;&#x6237;&#x8FD8;&#x662F;&#x533F;&#x540D;&#x7528;&#x6237;&#xFF0C;&#x5BF9;&#x4E8E;FTP&#x670D;&#x52A1;&#x5668;&#x8D44;&#x6E90;&#x7684;&#x4F7F;&#x7528;&#x90FD;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x63A7;&#x63A7;&#x5236;&#xFF0C;&#x907F;&#x514D;&#x7531;&#x4E8E;&#x8D1F;&#x62C5;&#x8FC7;&#x5927;&#x9020;&#x6210;FTP&#x670D;&#x52A1;&#x5668;&#x8FD0;&#x884C;&#x5F02;&#x5E38;&#xFF0C;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x914D;&#x7F6E;&#x9879;&#x5BF9;FTP&#x5BA2;&#x6237;&#x673A;&#x4F7F;&#x7528;FTP&#x670D;&#x52A1;&#x5668;&#x8D44;&#x6E90;&#x8FDB;&#x884C;&#x63A7;&#x5236;&#xFF1A;</p>
<ul>
<li><code>max_client</code>&#x8BBE;&#x7F6E;&#x9879; &#x7528;&#x4E8E;&#x8BBE;&#x7F6E;FTP&#x670D;&#x52A1;&#x5668;&#x6240;&#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x6570;&#xFF0C;&#x503C;&#x4E3A;0&#x65F6;&#x8868;&#x793A;&#x4E0D;&#x9650;&#x5236;&#x3002;&#x4F8B;&#x5982;<code>max_client=100</code>&#x8868;&#x793A;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x6240;&#x6709;&#x5BA2;&#x6237;&#x7AEF;&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x6570;&#x4E0D;&#x8D85;&#x8FC7;100&#x4E2A;&#x3002;</li>
<li><code>max_per_ip</code>&#x8BBE;&#x7F6E;&#x9879; &#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x5BF9;&#x4E8E;&#x540C;&#x4E00;IP&#x5730;&#x5740;&#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x6570;&#xFF0C;&#x503C;&#x4E3A;0&#x65F6;&#x8868;&#x793A;&#x4E0D;&#x9650;&#x5236;&#x3002;&#x4F8B;&#x5982;<code>max_per_ip=5</code>&#x8868;&#x793A;&#x540C;&#x4E00;IP&#x5730;&#x5740;&#x7684;FTP&#x5BA2;&#x6237;&#x673A;&#x4E0E;FTP&#x670D;&#x52A1;&#x5668;&#x5EFA;&#x7ACB;&#x7684;&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x6570;&#x4E0D;&#x8D85;&#x8FC7;5&#x4E2A;&#x3002;</li>
<li><code>local_max_rate</code>&#x8BBE;&#x7F6E;&#x9879; &#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x672C;&#x5730;&#x7528;&#x6237;&#x7684;&#x6700;&#x5927;&#x4F20;&#x8F93;&#x901F;&#x7387;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;B/s&#xFF0C;&#x503C;&#x4E3A;0&#x65F6;&#x8868;&#x793A;&#x4E0D;&#x9650;&#x5236;&#x3002;&#x4F8B;&#x5982;<code>local_max_rate=500000</code>&#x8868;&#x793A;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x672C;&#x5730;&#x7528;&#x6237;&#x6700;&#x5927;&#x4F20;&#x8F93;&#x901F;&#x7387;&#x8BBE;&#x7F6E;&#x4E3A;500KB/s.</li>
<li><code>anon_max_rate</code>&#x8BBE;&#x7F6E;&#x9879; &#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x533F;&#x540D;&#x7528;&#x6237;&#x7684;&#x6700;&#x5927;&#x4F20;&#x8F93;&#x901F;&#x7387;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;B/s,&#x503C;&#x4E3A;0&#x8868;&#x793A;&#x4E0D;&#x9650;&#x5236;&#x3002;&#x4F8B;&#x5982;<code>ano_max_rate=200000</code>&#xFF0C;&#x8868;&#x793A;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x533F;&#x540D;&#x7528;&#x6237;&#x6700;&#x5927;&#x4F20;&#x8F93;&#x901F;&#x7387;&#x8BBE;&#x7F6E;&#x4E3A;200KB/s.</li>
</ul>
<p>&#x6307;&#x5B9A;&#x7528;&#x6237;&#x7684;&#x6743;&#x9650;&#x8BBE;&#x7F6E;</p>
<p><code>vsftpd.user_list</code>&#x6587;&#x4EF6;&#x9700;&#x8981;&#x4E0E;<code>vsftpd.conf</code>&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x914D;&#x7F6E;&#x9879;&#x7ED3;&#x5408;&#x6765;&#x5B9E;&#x73B0;&#x5BF9;&#x4E8E;<code>vsftpd.user_list</code>&#x6587;&#x4EF6;&#x4E2D;&#x6307;&#x5B9A;&#x7528;&#x6237;&#x8D26;&#x53F7;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#xFF1A;</p>
<p>&#xFF08;1&#xFF09;&#x8BBE;&#x7F6E;&#x7981;&#x6B62;&#x767B;&#x5F55;&#x7684;&#x7528;&#x6237;&#x8D26;&#x53F7;</p>
<p>&#x5F53;<code>vsftpd.conf</code>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5305;&#x62EC;&#x4EE5;&#x4E0B;&#x8BBE;&#x7F6E;&#x65F6;&#xFF0C;<code>vsftpd.user_list</code>&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x7528;&#x6237;&#x8D26;&#x53F7;&#x88AB;&#x7981;&#x6B62;&#x8FDB;&#x884C;FTP&#x767B;&#x5F55;&#xFF1A;</p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">userlist_enable=YES</span><br><span class="line">userlist_deny=YES</span><br></pre></td></tr></table></figure></p>
<p><code>userlist_enable</code>&#x8BBE;&#x7F6E;&#x9879;&#x8BBE;&#x7F6E;&#x4F7F;&#x7528;<code>vsftpd.user_list</code>&#x6587;&#x4EF6;&#xFF0C;<code>userlist_deny</code>&#x8BBE;&#x7F6E;&#x4E3A;<code>YES</code>&#x8868;&#x793A;<code>vsftpd.user_list</code>&#x6587;&#x4EF6;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x7981;&#x6B62;&#x7684;&#x7528;&#x6237;&#x8D26;&#x53F7;&#x3002;</p>
<p>&#xFF08;2&#xFF09;&#x8BBE;&#x7F6E;&#x53EA;&#x5141;&#x8BB8;&#x767B;&#x5F55;&#x7684;&#x7528;&#x6237;&#x8D26;&#x53F7;</p>
<p>&#x5F53;vsftpd.conf&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5305;&#x62EC;&#x4EE5;&#x4E0B;&#x8BBE;&#x7F6E;&#x65F6;&#xFF0C;&#x53EA;&#x6709;<code>vsftpd.user_list</code>&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x7528;&#x6237;&#x8D26;&#x53F7;&#x80FD;&#x591F;&#x8FDB;&#x884C;FTP&#x767B;&#x5F55;&#xFF1A;</p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">userlist_enable=YES</span><br><span class="line">userlist_deny=NO</span><br></pre></td></tr></table></figure></p>
<p><code>userlist_enable</code>&#x8BBE;&#x7F6E;&#x9879;&#x8BBE;&#x7F6E;&#x4F7F;&#x7528;vsftpd.user_list&#x6587;&#x4EF6;&#xFF0C;<code>userlist _deny</code>&#x8BBE;&#x7F6E;&#x4E3A;<code>NO</code>&#x8868;&#x793A;<code>vsftpd.usre_list</code>&#x6587;&#x4EF6;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x53EA;&#x5141;&#x8BB8;&#x767B;&#x5F55;&#x7684;&#x7528;&#x6237;&#x8D26;&#x53F7;&#xFF0C;&#x6587;&#x4EF6;&#x4E2D;&#x672A;&#x5305;&#x62EC;&#x7684;&#x7528;&#x6237;&#x8D26;&#x53F7;&#x88AB;&#x7981;&#x6B62;FTP&#x767B;&#x5F55;&#x3002;</p>
<p><code>userlist_deny</code>&#x548C;<code>userlist_enable</code>&#x9009;&#x9879;&#x9650;&#x5236;&#x7528;&#x6237;&#x767B;&#x5F55;FTP&#x670D;&#x52A1;&#x5668;&#xFF08;&#x4F7F;&#x7528;<code>userlist_deny</code>&#x9009;&#x9879;&#x548C;<code>user_list</code>&#x6587;&#x4EF6;&#x4E00;&#x8D77;&#x80FD;&#x6709;&#x6548;&#x963B;&#x6B62;<code>root,apache,www</code>&#x7B49;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x767B;&#x5F55;FTP&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4ECE;&#x800C;&#x4FDD;&#x8BC1;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x5206;&#x7EA7;&#x5B89;&#x5168;&#x6027;&#xFF09;&#x3002;&#x4EE5;&#x4E0B;&#x662F;&#x4E24;&#x4E2A;&#x9009;&#x9879;&#x7684;&#x5177;&#x4F53;&#x8868;&#x73B0;&#x5F62;&#x5F0F;&#x548C;&#x4E24;&#x79CD;&#x642D;&#x914D;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x7684;&#x6548;&#x679C;&#xFF1A;</p>
<table>
<thead>
<tr>
<th align="left">&#x914D;&#x7F6E;</th>
<th align="left">&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Userlist_enable=YES</td>
<td align="left">Ftpusers&#x4E2D;&#x7528;&#x6237;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;;User_list&#x4E2D;&#x7528;&#x6237;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;</td>
</tr>
<tr>
<td align="left">Userlist_enable=NO</td>
<td align="left">Ftpusers&#x4E2D;&#x7528;&#x6237;&#x7981;&#x6B62;&#x8BBF;&#x95EE;;User_list&#x4E2D;&#x7528;&#x6237;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;</td>
</tr>
<tr>
<td align="left">Userlist_deny=YES</td>
<td align="left">Ftpusers&#x4E2D;&#x7528;&#x6237;&#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF08;&#x767B;&#x5F55;&#x65F6;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5BC6;&#x7801;&#x8F93;&#x5165;&#x63D0;&#x793A;&#xFF0C;&#x4F46;&#x4ECD;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#xFF09;;user_list &#x4E2D;&#x7528;&#x6237;&#x7981;&#x6B62;&#x8BBF;&#x95EE;</td>
</tr>
<tr>
<td align="left">Userlist_deny=NO</td>
<td align="left">ftpusers&#x4E2D;&#x7528;&#x6237;&#x7981;&#x6B62;&#x8BBF;&#x95EE;;user_list&#x4E2D;&#x7528;&#x6237;&#x5141;&#x8BB8;&#x8BBF;</td>
</tr>
<tr>
<td align="left">Userlist_enable=YES &#x5E76;&#x4E14;Userlist_deny=YES</td>
<td align="left">Ftpusers&#x4E2D;&#x7528;&#x6237;&#x7981;&#x6B62;&#x8BBF;&#x95EE;;User_list&#x4E2D;&#x7528;&#x6237;&#x7981;&#x6B62;&#x8BBF;&#x95EE;&#xFF08;&#x767B;&#x5F55;&#x65F6;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x5BC6;&#x7801;&#x63D0;&#x793A;&#xFF0C;&#x76F4;&#x63A5;&#x88AB;&#x670D;&#x52A1;&#x5668;&#x62D2;&#x7EDD;&#xFF09;</td>
</tr>
<tr>
<td align="left">Userlist_enable=YES &#x5E76;&#x4E14;Userlist_deny=NO</td>
<td align="left">Ftpusers&#x4E2D;&#x7528;&#x6237;&#x7981;&#x6B62;&#x8BBF;&#x95EE;;User_list&#x4E2D;&#x7528;&#x6237;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;</td>
</tr>
</tbody></table>
<p>&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;</p>
<p>&#x9ED8;&#x8BA4;FTP&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x53E3;&#x53F7;&#x662F;21&#xFF0C;&#x51FA;&#x4E8E;&#x5B89;&#x5168;&#x76EE;&#x7684;&#xFF0C;&#x6709;&#x65F6;&#x9700;&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;&#x53F7;&#xFF0C;&#x4FEE;&#x6539;/etc/vsftpd/vsftpd.conf&#xFF0C;&#x6DFB;&#x52A0;&#x8BED;&#x53E5;(&#x4F8B;)&#xFF1A;</p>
<p><code>listen_port=4449</code></p>
<p>&#x8BED;&#x53E5;&#x6307;&#x5B9A;&#x4E86;&#x4FEE;&#x6539;&#x540E;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#xFF0C;&#x5E94;&#x5C3D;&#x91CF;&#x5927;&#x4E8E;4000&#x3002;&#x4FEE;&#x6539;&#x540E;&#x8BBF;&#x95EE;</p>
<p><code>#ftp 192.168.57.2 4449</code></p>
<p>&#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x9700;&#x52A0;&#x4E0A;&#x6B63;&#x786E;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x4E86;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x80FD;&#x6B63;&#x5E38;&#x8FDE;&#x63A5;&#x3002;</p>
<p>&#x8BBE;&#x7F6E;&#x7528;&#x6237;&#x7EC4;</p>
<p>&#x6709;&#x5173;FTP&#x7528;&#x6237;&#x548C;&#x7528;&#x6237;&#x7EC4;&#x7684;&#x91CD;&#x8981;&#x6027;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x4E4B;&#x524D;&#x4ECB;&#x7ECD;vsftpd&#x7684;&#x65F6;&#x5019;&#x4FBF;&#x5DF2;&#x7ECF;&#x63D0;&#x5230;&#x8FC7;&#x3002;&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x662F;&#x7B80;&#x5355;&#x7684;&#x8BF4;&#x660E;&#x7528;&#x6237;&#x7EC4;&#x7684;&#x6280;&#x672F;&#x5B9E;&#x73B0;&#xFF0C;&#x81F3;&#x4E8E;&#x5177;&#x4F53;&#x5982;&#x4F55;&#x5E94;&#x7528;&#xFF0C;&#x8FD8;&#x662F;&#x5177;&#x4F53;&#x9700;&#x6C42;&#x5177;&#x4F53;&#x5BF9;&#x5F85;&#x3002;</p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /home/try  &#x9012;&#x5F52;&#x521B;&#x5EFA;&#x65B0;&#x76EE;&#x5F55;</span><br><span class="line">groupadd try        &#x65B0;&#x5EFA;&#x7EC4;</span><br><span class="line">useradd -g try -d /home/try try1 &#x65B0;&#x5EFA;&#x7528;&#x6237;try1&#x5E76;&#x6307;&#x5B9A;&#x5BB6;&#x76EE;&#x5F55;&#x548C;&#x5C5E;&#x7EC4;</span><br><span class="line">useradd -g try -d /home/try try2 &#x65B0;&#x5EFA;&#x7528;&#x6237;try2&#x5E76;&#x6307;&#x5B9A;&#x5BB6;&#x76EE;&#x5F55;&#x548C;&#x5C5E;&#x7EC4;</span><br><span class="line">useradd -g try -d /home/try try3 &#x65B0;&#x5EFA;&#x7528;&#x6237;try3&#x5E76;&#x6307;&#x5B9A;&#x5BB6;&#x76EE;&#x5F55;&#x548C;&#x5C5E;&#x7EC4;</span><br><span class="line">passwd try1  &#x4E3A;&#x65B0;&#x7528;&#x6237;&#x8BBE;&#x5BC6;&#x7801;</span><br><span class="line">passwd try2  &#x4E3A;&#x65B0;&#x7528;&#x6237;&#x8BBE;&#x5BC6;&#x7801;</span><br><span class="line">passwd try3  &#x4E3A;&#x65B0;&#x7528;&#x6237;&#x8BBE;&#x5BC6;&#x7801;</span><br><span class="line">chown try1 /home/try &#x8BBE;&#x7F6E;&#x76EE;&#x5F55;&#x5C5E;&#x4E3B;&#x4E3A;&#x7528;&#x6237;try1</span><br><span class="line">chown .try /home/try &#x8BBE;&#x7F6E;&#x76EE;&#x5F55;&#x5C5E;&#x7EC4;&#x4E3A;&#x7EC4;try</span><br><span class="line">chmod 750 /home/try  &#x8BBE;&#x7F6E;&#x76EE;&#x5F55;&#x8BBF;&#x95EE;&#x6743;&#x9650;try1&#x4E3A;&#x8BFB;&#xFF0C;&#x5199;&#xFF0C;&#x6267;&#x884C;&#xFF1B;try2&#xFF0C;try3&#x4E3A;&#x8BFB;&#xFF0C;&#x6267;&#x884C;</span><br></pre></td></tr></table></figure></p>
<p>&#x7531;&#x4E8E;&#x672C;&#x5730;&#x7528;&#x6237;&#x767B;&#x5F55;FTP&#x670D;&#x52A1;&#x5668;&#x540E;&#x8FDB;&#x5165;&#x81EA;&#x5DF1;&#x4E3B;&#x76EE;&#x5F55;&#xFF0C;&#x800C;try1,try2 try3&#x5BF9;&#x4E3B;&#x76EE;&#x5F55;/home/try&#x5206;&#x914D;&#x7684;&#x6743;&#x9650;&#x4E0D;&#x540C;&#xFF0C;&#x6240;&#x4EE5;&#x901A;&#x8FC7;FTP&#x8BBF;&#x95EE;&#x7684;&#x6743;&#x9650;&#x4E5F;&#x4E0D;&#x540C;&#xFF0C;try1&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x4E3A;&#xFF1A;&#x4E0A;&#x4F20;&#xFF0C;&#x4E0B;&#x8F7D;&#xFF0C;&#x5EFA;&#x76EE;&#x5F55;&#xFF1B;try2&#xFF0C;try3&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x4E3A;&#x4E0B;&#x8F7D;&#xFF0C;&#x6D4F;&#x89C8;&#xFF0C;&#x4E0D;&#x80FD;&#x5EFA;&#x76EE;&#x5F55;&#x548C;&#x4E0A;&#x4F20;&#x3002;&#x5B9E;&#x73B0;&#x4E86;&#x7FA4;&#x7EC4;&#x4E2D;&#x7528;&#x6237;&#x4E0D;&#x540C;&#x8BBF;&#x95EE;&#x7EA7;&#x522B;&#xFF0C;&#x52A0;&#x5F3A;&#x4E86;&#x5BF9;FTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x5206;&#x7EA7;&#x5B89;&#x5168;&#x7BA1;&#x7406;&#x3002;</p>
<p>&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#xFF08;&#x672C;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#x7531;&#x674E;&#x6D0B;&#x63D0;&#x4F9B;&#xFF09;</p>
<p>&#x914D;&#x7F6E;&#x7A7A;&#x95F2;&#x7684;&#x7528;&#x6237;&#x4F1A;&#x8BDD;&#x7684;&#x4E2D;&#x65AD;&#x65F6;&#x95F4;&#xFF1A;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#x5C06;&#x5728;&#x7528;&#x6237;&#x4F1A;&#x8BDD;&#x7A7A;&#x95F2;5&#x5206;&#x949F;&#x540E;&#x88AB;&#x4E2D;&#x65AD;&#xFF0C;&#x4EE5;&#x91CA;&#x653E;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8D44;&#x6E90;</p>
<p><code>Idle_session_timeout=300</code></p>
<p>&#x914D;&#x7F6E;&#x7A7A;&#x95F2;&#x7684;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x7684;&#x4E2D;&#x65AD;&#x65F6;&#x95F4;&#xFF1A;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#x5C06;&#x5728;&#x6570;&#x636E;&#x7A7A;&#x95F2;&#x8FDE;&#x63A5;1&#x5206;&#x949F;&#x540E;&#x88AB;&#x4E2D;&#x65AD;&#xFF0C;&#x540C;&#x6837;&#x4E5F;&#x662F;&#x4E3A;&#x4E86;&#x91CA;&#x653E;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8D44;&#x6E90;</p>
<p><code>Data_connection_timeout=60</code></p>
<p>&#x914D;&#x7F6E;&#x5BA2;&#x6237;&#x7AEF;&#x7A7A;&#x95F2;&#x65F6;&#x7684;&#x81EA;&#x52A8;&#x4E2D;&#x65AD;&#x548C;&#x6FC0;&#x6D3B;&#x8FDE;&#x63A5;&#x7684;&#x65F6;&#x95F4;&#xFF1A;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#x5C06;&#x4F7F;&#x5BA2;&#x6237;&#x7AEF;&#x7A7A;&#x95F2;1&#x5206;&#x949F;&#x540E;&#x81EA;&#x52A8;&#x4E2D;&#x65AD;&#x8FDE;&#x63A5;&#xFF0C;&#x5E76;&#x5728;30&#x79D2;&#x540E;&#x81EA;&#x52A8;&#x6FC0;&#x6D3B;&#x8FDE;&#x63A5;</p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Accept_timeout=60</span><br><span class="line">Connect_timeout=30</span><br></pre></td></tr></table></figure></p>
<h5 id="vsftpd&#x7684;&#x65E5;&#x5FD7;"><a href="#vsftpd&#x7684;&#x65E5;&#x5FD7;" class="headerlink" title="vsftpd&#x7684;&#x65E5;&#x5FD7;"></a>vsftpd&#x7684;&#x65E5;&#x5FD7;</h5><p>&#x5E38;&#x89C1;&#x7684;vsftpd&#x65E5;&#x5FD7;&#x89E3;&#x51B3;&#x65B9;&#x6848;</p>
<p>&#x5728;vsftpd.conf&#x4E2D;&#x6709;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#x5B9A;&#x4E49;&#x4E86;&#x65E5;&#x5FD7;&#x7684;&#x8BB0;&#x5F55;&#x65B9;&#x5F0F;&#xFF1A;</p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x8868;&#x660E;FTP&#x670D;&#x52A1;&#x5668;&#x8BB0;&#x5F55;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x7684;&#x60C5;&#x51B5;</span></span><br><span class="line">xferlog_enable=YES</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x8868;&#x660E;&#x5C06;&#x8BB0;&#x5F55;&#x7684;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x60C5;&#x51B5;&#x5199;&#x5728;xferlog_file&#x6240;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5373;xferlog_file&#x9009;&#x9879;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x4E2D;</span></span><br><span class="line">xferlog_std_format=YES</span><br><span class="line">xferlog_file=/var/log/xferlog</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x542F;&#x7528;&#x53CC;&#x4EFD;&#x65E5;&#x5FD7;&#x3002;&#x5728;&#x7528;xferlog&#x6587;&#x4EF6;&#x8BB0;&#x5F55;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x60C5;&#x51B5;&#x7684;&#x540C;&#x65F6;&#xFF0C;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> vsftpd_log_file&#x6240;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5373;/var/<span class="hljs-built_in">log</span>/vsftpd.log&#x4E5F;&#x5C06;&#x7528;&#x6765;&#x8BB0;&#x5F55;&#x670D;&#x52A1;&#x5668;&#x7684;&#x4F20;&#x8F93;&#x60C5;&#x51B5;</span></span><br><span class="line">dual_log_enable=YES</span><br><span class="line">vsftpd_log_file=/var/log/vsftpd.log</span><br></pre></td></tr></table></figure></p>
<p>vsftpd&#x7684;&#x4E24;&#x4E2A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x5206;&#x6790;&#x5982;&#x4E0B;&#xFF1A;</p>
<p>/var/log/xferlog</p>
<p>&#x8BB0;&#x5F55;&#x5185;&#x5BB9;&#x4E3E;&#x4F8B;</p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Thu Sep 6 09:07:48 2007 7 192.168.57.1 4323279 /home/student/phpMyadmin-2.11.0-all-languages.tar.gz b -i r student ftp 0 * c</span><br></pre></td></tr></table></figure></p>
<p>/var/log/vsftpd.log</p>
<p>&#x8BB0;&#x5F55;&#x5185;&#x5BB9;&#x4E3E;&#x4F8B;</p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Tue Sep 11 14:59:03 2007 [pid 3460]    CONNECT: Client &quot;127.0.0.1&quot;</span><br><span class="line">Tue Sep 11 14:59:24 2007 [pid 3459] [ftp] OK LOGIN;Client &quot;127.0.0.1&quot; ,anon password &#x201D;</span><br></pre></td></tr></table></figure></p>
<p>/var/log/xferlog&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x4E2D;&#x6570;&#x636E;&#x7684;&#x5206;&#x6790;&#x548C;&#x53C2;&#x6570;&#x8BF4;&#x660E;</p>
<p>|&#x8BB0;&#x5F55;&#x6570;&#x636E;|&#x53C2;&#x6570;&#x540D;&#x79F0;|&#x53C2;&#x6570;&#x8BF4;&#x660E;|<br>|Thu Sep 6 09:07:48 2007|&#x5F53;&#x524D;&#x65F6;&#x95F4;|&#x5F53;&#x524D;&#x670D;&#x52A1;&#x5668;&#x672C;&#x5730;&#x65F6;&#x95F4;&#xFF0C;&#x683C;&#x5F0F;&#x4E3A;&#xFF1A; DDD MMM dd hh:mm:ss YYY|<br>|7|&#x4F20;&#x8F93;&#x65F6;&#x95F4;|&#x4F20;&#x9001;&#x6587;&#x4EF6;&#x6240;&#x7528;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;&#x79D2;|<br>|192.168.57.1|&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x540D;&#x79F0;/IP|&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x540D;&#x79F0;/IP|<br>|4323279|&#x6587;&#x4EF6;&#x5927;&#x5C0F;|&#x4F20;&#x9001;&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;byte|<br>|/home/student/phpMyadmin-2.11.0-all-languages.tar.gz|&#x6587;&#x4EF6;&#x540D;|&#x4F20;&#x8F93;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x5305;&#x62EC;&#x8DEF;&#x5F84;|<br>|b|&#x4F20;&#x8F93;&#x7C7B;&#x578B;|&#x4F20;&#x8F93;&#x65B9;&#x5F0F;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x5305;&#x62EC;&#x4E24;&#x79CD;&#xFF1A;a&#x4EE5;ASCII&#x4F20;&#x8F93; b&#x4EE5;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x4F20;&#x8F93;|<br>|&#x2013;|&#x7279;&#x6B8A;&#x5904;&#x7406;&#x6807;&#x5FD7;|&#x7279;&#x6B8A;&#x5904;&#x7406;&#x7684;&#x6807;&#x5FD7;&#x4F4D;&#xFF0C;&#x53EF;&#x80FD;&#x7684;&#x503C;&#x5305;&#x62EC;&#xFF1A;_ &#x4E0D;&#x505A;&#x4EFB;&#x4F55;&#x7279;&#x6B8A;&#x5904;&#x7406;&#xFF1B;C &#x6587;&#x4EF6;&#x662F;&#x538B;&#x7F29;&#x683C;&#x5F0F;&#xFF1B;U &#x6587;&#x4EF6;&#x662F;&#x975E;&#x538B;&#x7F29;&#x683C;&#x5F0F;&#xFF1B;T &#x6587;&#x4EF6;&#x662F;tar&#x683C;&#x5F0F;|<br>|i|&#x4F20;&#x8F93;&#x65B9;&#x5411;|&#x6587;&#x4EF6;&#x4F20;&#x8F93;&#x65B9;&#x5411;&#xFF0C;&#x5305;&#x62EC;&#x4E24;&#x79CD;&#xFF1A;o &#x4ECE;FTP&#x670D;&#x52A1;&#x5668;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x4F20;&#x8F93;&#xFF1B;i &#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x5411;FTP&#x670D;&#x52A1;&#x5668;&#x4F20;&#x8F93;|<br>|r|&#x8BBF;&#x95EE;&#x6A21;&#x5F0F;|&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x6A21;&#x5F0F;&#xFF0C;&#x5305;&#x62EC;&#xFF1A;a &#x533F;&#x540D;&#x7528;&#x6237;&#xFF1B;g &#x6765;&#x5BBE;&#x7528;&#x6237;&#xFF1B;r &#x771F;&#x5B9E;&#x7528;&#x6237;&#xFF0C;&#x5373;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x7528;&#x6237;|<br>|student|&#x7528;&#x6237;&#x540D;|&#x7528;&#x6237;&#x540D;&#x79F0;|<br>|ftp|&#x670D;&#x52A1;&#x540D;|&#x6240;&#x4F7F;&#x7528;&#x7684;&#x670D;&#x52A1;&#x540D;&#x79F0;&#xFF0C;&#x4E00;&#x822C;&#x4E3A;FTP|<br>|0|&#x8BA4;&#x8BC1;&#x65B9;&#x5F0F;|&#x8BA4;&#x8BC1;&#x65B9;&#x5F0F;&#xFF0C;&#x5305;&#x62EC;&#xFF1A;0 &#x65E0;&#xFF1B;1 RFC931&#x8BA4;&#x8BC1;|<br>|<em>|&#x8BA4;&#x8BC1;&#x7528;&#x6237;id|&#x8BA4;&#x8BC1;&#x7528;&#x6237;&#x7684;id&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;</em>&#xFF0C;&#x5219;&#x8868;&#x793A;&#x65E0;&#x6CD5;&#x83B7;&#x5F97;&#x8BE5;id|<br>|c|&#x5B8C;&#x6210;&#x72B6;&#x6001;|&#x4F20;&#x8F93;&#x7684;&#x72B6;&#x6001;&#xFF1A;c &#x8868;&#x793A;&#x4F20;&#x8F93;&#x5DF2;&#x5B8C;&#x6210;&#xFF1B;i &#x8868;&#x793A;&#x4F20;&#x8F93;&#x793A;&#x5B8C;&#x6210;|</p>
<h5 id="&#x5E38;&#x89C1;&#x7684;FTP&#x547D;&#x4EE4;&#xFF0C;&#x4EE5;&#x53CA;FTP&#x6570;&#x5B57;&#x4EE3;&#x7801;&#x7684;&#x610F;&#x4E49;"><a href="#&#x5E38;&#x89C1;&#x7684;FTP&#x547D;&#x4EE4;&#xFF0C;&#x4EE5;&#x53CA;FTP&#x6570;&#x5B57;&#x4EE3;&#x7801;&#x7684;&#x610F;&#x4E49;" class="headerlink" title="&#x5E38;&#x89C1;&#x7684;FTP&#x547D;&#x4EE4;&#xFF0C;&#x4EE5;&#x53CA;FTP&#x6570;&#x5B57;&#x4EE3;&#x7801;&#x7684;&#x610F;&#x4E49;"></a>&#x5E38;&#x89C1;&#x7684;FTP&#x547D;&#x4EE4;&#xFF0C;&#x4EE5;&#x53CA;FTP&#x6570;&#x5B57;&#x4EE3;&#x7801;&#x7684;&#x610F;&#x4E49;</h5><p>&#x547D;&#x4EE4;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#x663E;&#x793A;&#xFF1A;</p>
<p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FTP&#x547D;&#x4EE4;</span><br><span class="line">  	&#x529F;&#x80FD;</span><br><span class="line">  	FTP&#x547D;&#x4EE4;</span><br><span class="line">  	&#x529F;&#x80FD;</span><br></pre></td></tr></table></figure></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br><span class="line">	&#x663E;&#x793A;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x76EE;&#x5F55;</span><br><span class="line">  	ls [remote-dir][local-file]</span><br><span class="line">  	&#x663E;&#x793A;&#x8FDC;&#x7A0B;&#x76EE;&#x5F55;remote-dir&#xFF0C;&#x5E76;&#x5B58;&#x5165;&#x672C;&#x5730;&#x6587;&#x4EF6;local-file</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">get remote-file [local-file]</span><br><span class="line">	&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x4E0B;&#x8F7D;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x5230;&#x5BA2;&#x6237;&#x7AEF;</span><br><span class="line">  	mget remote-files</span><br><span class="line">  	&#x4E0B;&#x8F7D;&#x591A;&#x4E2A;&#x8FDC;&#x7A0B;&#x6587;&#x4EF6;(mget&#x547D;&#x4EE4;&#x5141;&#x8BB8;&#x7528;&#x901A;&#x914D;&#x7B26;&#x4E0B;&#x8F7D;&#x591A;&#x4E2A;&#x6587;&#x4EF6;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">put local-file [remote-file]</span><br><span class="line">	&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x4E0A;&#x4F20;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x5230;&#x670D;&#x52A1;&#x5668;</span><br><span class="line">  	mput local-file</span><br><span class="line">  	&#x5C06;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x81F3;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;(mput&#x547D;&#x4EE4;&#x5141;&#x8BB8;&#x7528;&#x901A;&#x914D;&#x7B26;&#x4E0A;&#x4F20;&#x591A;&#x4E2A;&#x6587;&#x4EF6;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">open</span><br><span class="line">	&#x8FDE;&#x63A5;FTP&#x670D;&#x52A1;&#x5668;</span><br><span class="line">  	mdelete [remote-file]</span><br><span class="line">  	&#x5220;&#x9664;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x6587;&#x4EF6;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">close</span><br><span class="line">	&#x4E2D;&#x65AD;&#x4E0E;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x7684;ftp&#x4F1A;&#x8BDD;&#xFF08;&#x4E0E;open&#x5BF9;&#x5E94;&#xFF09;</span><br><span class="line">  	mkdir dir-name</span><br><span class="line">  	&#x5728;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x4E2D;&#x521B;&#x5EFA;&#x76EE;&#x5F55;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">open host[port]</span><br><span class="line">	&#x5EFA;&#x7ACB;&#x6307;&#x5B9A;&#x7684;ftp&#x670D;&#x52A1;&#x5668;&#x8FDE;&#x63A5;&#xFF0C;&#x53EF;&#x6307;&#x5B9A;&#x8FDE;&#x63A5;&#x7AEF;&#x53E3;</span><br><span class="line">  	newer file-name</span><br><span class="line">  	&#x5982;&#x679C;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x4E2D;file-name&#x7684;&#x4FEE;&#x6539;&#x65F6;&#x95F4;&#x6BD4;&#x672C;&#x5730;&#x786C;&#x76D8;&#x540C;&#x540D;&#x6587;&#x4EF6;&#x7684;&#x65F6;&#x95F4;&#x66F4;&#x8FD1;&#xFF0C;&#x5219;&#x91CD;&#x4F20;&#x8BE5;&#x6587;&#x4EF6;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cd directory</span><br><span class="line">	&#x6539;&#x53D8;&#x670D;&#x52A1;&#x5668;&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;</span><br><span class="line">  	rename [from][to]</span><br><span class="line">  	&#x66F4;&#x6539;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x7684;&#x6587;&#x4EF6;&#x540D;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">lcd directory</span><br><span class="line">	&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x4E0A;(&#x672C;&#x5730;)&#x6539;&#x53D8;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;</span><br><span class="line">  	pwd</span><br><span class="line">  	&#x663E;&#x793A;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x7684;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">bye</span><br><span class="line">	&#x9000;&#x51FA;FTP&#x547D;&#x4EE4;&#x72B6;&#x6001;</span><br><span class="line">  	quit</span><br><span class="line">  	&#x540C;bye,&#x9000;&#x51FA;ftp&#x4F1A;&#x8BDD;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ascii</span><br><span class="line">	&#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x4F20;&#x8F93;&#x65B9;&#x5F0F;&#x4E3A;ASCII&#x6A21;&#x5F0F;</span><br><span class="line">  	reget remote-file [local-file]</span><br><span class="line">  	&#x7C7B;&#x4F3C;&#x4E8E;get,&#x4F46;&#x82E5;local-file&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x4ECE;&#x4E0A;&#x6B21;&#x4F20;&#x8F93;&#x4E2D;&#x65AD;&#x5904;&#x7EED;&#x4F20;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">binary</span><br><span class="line">	&#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x4F20;&#x8F93;&#x65B9;&#x5F0F;&#x4E3A;&#x4E8C;&#x8FDB;&#x5236;&#x6A21;&#x5F0F;</span><br><span class="line">  	rhelp [cmd-name]</span><br><span class="line">  	&#x8BF7;&#x6C42;&#x83B7;&#x5F97;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x7684;&#x5E2E;&#x52A9;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![cmd [args]]</span><br><span class="line">	&#x5728;&#x672C;&#x5730;&#x4E3B;&#x673A;&#x4E2D;&#x4EA4;&#x4E92;shell&#x540E;&#x9000;&#x56DE;&#x5230;ftp&#x73AF;&#x5883;&#xFF0C;&#x5982;:!ls *.zip</span><br><span class="line">  	rstatus [file-name]</span><br><span class="line">  	&#x82E5;&#x672A;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x5219;&#x663E;&#x793A;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5426;&#x5219;&#x663E;&#x793A;&#x6587;&#x4EF6;&#x72B6;&#x6001;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">accout [password]</span><br><span class="line">	&#x63D0;&#x4F9B;&#x767B;&#x5F55;&#x8FDC;&#x7A0B;&#x7CFB;&#x7EDF;&#x6210;&#x529F;&#x540E;&#x8BBF;&#x95EE;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x6240;&#x9700;&#x7684;&#x5BC6;&#x7801;</span><br><span class="line">  	hash</span><br><span class="line">  	&#x6BCF;&#x4F20;&#x8F93;1024&#x5B57;&#x8282;&#xFF0C;&#x663E;&#x793A;&#x4E00;&#x4E2A;hash&#x7B26;&#x53F7;&#xFF08;#&#xFF09;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">append local-file [remote-file]</span><br><span class="line">	&#x5C06;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x8FFD;&#x52A0;&#x5230;&#x8FDC;&#x7A0B;&#x7CFB;&#x7EDF;&#x4E3B;&#x673A;&#xFF0C;&#x82E5;&#x672A;&#x6307;&#x5B9A;&#x8FDC;&#x7A0B;&#x7CFB;&#x7EDF;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x5219;&#x4F7F;&#x7528;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x540D;</span><br><span class="line">  	restart marker</span><br><span class="line">  	&#x4ECE;&#x6307;&#x5B9A;&#x7684;&#x6807;&#x5FD7;marker&#x5904;&#xFF0C;&#x91CD;&#x65B0;&#x5F00;&#x59CB;get&#x6216;put&#xFF0C;&#x5982;restart 130</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">bye</span><br><span class="line">	&#x9000;&#x51FA;ftp&#x4F1A;&#x8BDD;&#x8FC7;&#x7A0B;</span><br><span class="line">  	rmdir dir-name</span><br><span class="line">  	&#x5220;&#x9664;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x76EE;&#x5F55;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">case</span><br><span class="line">	&#x5728;&#x4F7F;&#x7528;mget&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x5C06;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x6587;&#x4EF6;&#x540D;&#x4E2D;&#x7684;&#x5927;&#x5199;&#x8F6C;&#x4E3A;&#x5C0F;&#x5199;&#x5B57;&#x6BCD;</span><br><span class="line">  	size file-name</span><br><span class="line">  	&#x663E;&#x793A;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF0C;&#x5982;&#xFF1A;</span><br><span class="line">size idle 7200</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cd remote-dir</span><br><span class="line">	&#x8FDB;&#x5165;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x76EE;&#x5F55;</span><br><span class="line">  	status</span><br><span class="line">  	&#x663E;&#x793A;&#x5F53;&#x524D;ftp&#x72B6;&#x6001;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cdup</span><br><span class="line">	&#x8FDB;&#x5165;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x76EE;&#x5F55;&#x7684;&#x7236;&#x76EE;&#x5F55;</span><br><span class="line">  	system</span><br><span class="line">  	&#x663E;&#x793A;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">delete remote-file</span><br><span class="line">	&#x5220;&#x9664;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x6587;&#x4EF6;</span><br><span class="line">  	user user-name [password][account]</span><br><span class="line">  	&#x5411;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x8868;&#x660E;&#x81EA;&#x5DF1;&#x7684;&#x8EAB;&#x4EFD;&#xFF0C;&#x9700;&#x8981;&#x5BC6;&#x7801;&#x65F6;&#xFF0C;&#x5FC5;&#x987B;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#xFF0C;&#x5982;:user anonymous my@email</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">dir [remote-dir][local-file]</span><br><span class="line">	&#x663E;&#x793A;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x5C06;&#x7ED3;&#x679C;&#x5B58;&#x5165;&#x672C;&#x5730;&#x6587;&#x4EF6;</span><br><span class="line">  	help [cmd]</span><br><span class="line">  	&#x663E;&#x793A;ftp&#x5185;&#x90E8;&#x547D;&#x4EE4;cmd&#x7684;&#x5E2E;&#x52A9;&#x4FE1;&#x606F;&#xFF0C;&#x5982;help get</span><br></pre></td></tr></table></figure></p>
<p><strong>FTP&#x6570;&#x5B57;&#x4EE3;&#x7801;&#x7684;&#x610F;&#x4E49;</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">110 &#x91CD;&#x65B0;&#x542F;&#x52A8;&#x6807;&#x8BB0;&#x5E94;&#x7B54;&#x3002;</span><br><span class="line">120 &#x670D;&#x52A1;&#x5728;&#x591A;&#x4E45;&#x65F6;&#x95F4;&#x5185;ready&#x3002;</span><br><span class="line">125 &#x6570;&#x636E;&#x94FE;&#x8DEF;&#x7AEF;&#x53E3;&#x5F00;&#x542F;&#xFF0C;&#x51C6;&#x5907;&#x4F20;&#x9001;&#x3002;</span><br><span class="line">150 &#x6587;&#x4EF6;&#x72B6;&#x6001;&#x6B63;&#x5E38;&#xFF0C;&#x5F00;&#x542F;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x7AEF;&#x53E3;&#x3002;</span><br><span class="line">200 &#x547D;&#x4EE4;&#x6267;&#x884C;&#x6210;&#x529F;&#x3002;</span><br><span class="line">202 &#x547D;&#x4EE4;&#x6267;&#x884C;&#x5931;&#x8D25;&#x3002;</span><br><span class="line">211 &#x7CFB;&#x7EDF;&#x72B6;&#x6001;&#x6216;&#x662F;&#x7CFB;&#x7EDF;&#x6C42;&#x52A9;&#x54CD;&#x5E94;&#x3002;</span><br><span class="line">212 &#x76EE;&#x5F55;&#x7684;&#x72B6;&#x6001;&#x3002;</span><br><span class="line">213 &#x6587;&#x4EF6;&#x7684;&#x72B6;&#x6001;&#x3002;</span><br><span class="line">214 &#x6C42;&#x52A9;&#x7684;&#x8BAF;&#x606F;&#x3002;</span><br><span class="line">215 &#x540D;&#x79F0;&#x7CFB;&#x7EDF;&#x7C7B;&#x578B;&#x3002;</span><br><span class="line">220 &#x65B0;&#x7684;&#x8054;&#x673A;&#x670D;&#x52A1;ready&#x3002;</span><br><span class="line">221 &#x670D;&#x52A1;&#x7684;&#x63A7;&#x5236;&#x8FDE;&#x63A5;&#x7AEF;&#x53E3;&#x5173;&#x95ED;&#xFF0C;&#x53EF;&#x4EE5;&#x6CE8;&#x9500;&#x3002;</span><br><span class="line">225 &#x6570;&#x636E;&#x8FDE;&#x7ED3;&#x5F00;&#x542F;&#xFF0C;&#x4F46;&#x65E0;&#x4F20;&#x8F93;&#x52A8;&#x4F5C;&#x3002;</span><br><span class="line">226 &#x5173;&#x95ED;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x7AEF;&#x53E3;&#xFF0C;&#x8BF7;&#x6C42;&#x7684;&#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x6210;&#x529F;&#x3002;</span><br><span class="line">227 &#x8FDB;&#x5165;passive mode&#x3002;</span><br><span class="line">230 &#x4F7F;&#x7528;&#x8005;&#x767B;&#x5165;&#x3002;</span><br><span class="line">250 &#x8BF7;&#x6C42;&#x7684;&#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x3002;</span><br><span class="line">257 &#x663E;&#x793A;&#x76EE;&#x524D;&#x7684;&#x8DEF;&#x5F84;&#x540D;&#x79F0;&#x3002;</span><br><span class="line">331 &#x7528;&#x6237;&#x540D;&#x79F0;&#x6B63;&#x786E;&#xFF0C;&#x9700;&#x8981;&#x5BC6;&#x7801;&#x3002;</span><br><span class="line">332 &#x767B;&#x5165;&#x65F6;&#x9700;&#x8981;&#x8D26;&#x53F7;&#x4FE1;&#x606F;&#x3002;</span><br><span class="line">350 &#x8BF7;&#x6C42;&#x7684;&#x64CD;&#x4F5C;&#x9700;&#x8981;&#x8FDB;&#x4E00;&#x90E8;&#x7684;&#x547D;&#x4EE4;&#x3002;</span><br><span class="line">421 &#x65E0;&#x6CD5;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#xFF0C;&#x5173;&#x95ED;&#x63A7;&#x5236;&#x8FDE;&#x7ED3;&#x3002;</span><br><span class="line">425 &#x65E0;&#x6CD5;&#x5F00;&#x542F;&#x6570;&#x636E;&#x94FE;&#x8DEF;&#x3002;</span><br><span class="line">426 &#x5173;&#x95ED;&#x8054;&#x673A;&#xFF0C;&#x7EC8;&#x6B62;&#x4F20;&#x8F93;&#x3002;</span><br><span class="line">450 &#x8BF7;&#x6C42;&#x7684;&#x64CD;&#x4F5C;&#x672A;&#x6267;&#x884C;&#x3002;</span><br><span class="line">451 &#x547D;&#x4EE4;&#x7EC8;&#x6B62;:&#x6709;&#x672C;&#x5730;&#x7684;&#x9519;&#x8BEF;&#x3002;</span><br><span class="line">452 &#x672A;&#x6267;&#x884C;&#x547D;&#x4EE4;:&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x4E0D;&#x8DB3;&#x3002;</span><br><span class="line">500 &#x683C;&#x5F0F;&#x9519;&#x8BEF;&#xFF0C;&#x65E0;&#x6CD5;&#x8BC6;&#x522B;&#x547D;&#x4EE4;&#x3002;</span><br><span class="line">501 &#x53C2;&#x6570;&#x8BED;&#x6CD5;&#x9519;&#x8BEF;&#x3002;</span><br><span class="line">502 &#x547D;&#x4EE4;&#x6267;&#x884C;&#x5931;&#x8D25;&#x3002;</span><br><span class="line">503 &#x547D;&#x4EE4;&#x987A;&#x5E8F;&#x9519;&#x8BEF;&#x3002;</span><br><span class="line">504 &#x547D;&#x4EE4;&#x6240;&#x63A5;&#x7684;&#x53C2;&#x6570;&#x4E0D;&#x6B63;&#x786E;&#x3002;</span><br><span class="line">530 &#x672A;&#x767B;&#x5165;&#x3002;</span><br><span class="line">532 &#x50A8;&#x5B58;&#x6587;&#x4EF6;&#x9700;&#x8981;&#x8D26;&#x6237;&#x767B;&#x5165;&#x3002;</span><br><span class="line">550 &#x672A;&#x6267;&#x884C;&#x8BF7;&#x6C42;&#x7684;&#x64CD;&#x4F5C;&#x3002;</span><br><span class="line">551 &#x8BF7;&#x6C42;&#x7684;&#x547D;&#x4EE4;&#x7EC8;&#x6B62;&#xFF0C;&#x7C7B;&#x578B;&#x672A;&#x77E5;&#x3002;</span><br><span class="line">552 &#x8BF7;&#x6C42;&#x7684;&#x6587;&#x4EF6;&#x7EC8;&#x6B62;&#xFF0C;&#x50A8;&#x5B58;&#x4F4D;&#x6EA2;&#x51FA;&#x3002;  </span><br><span class="line">553 &#x672A;&#x6267;&#x884C;&#x8BF7;&#x6C42;&#x7684;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x540D;&#x79F0;&#x4E0D;&#x6B63;&#x786E;&#x3002;</span><br></pre></td></tr></table></figure></p>
<h3 id="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;"><a href="#&#x9879;&#x76EE;&#x5B9E;&#x8DF5;" class="headerlink" title="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;"></a>&#x9879;&#x76EE;&#x5B9E;&#x8DF5;</h3><ol>
<li>&#x8BBE;&#x7F6E;vsftpd&#x670D;&#x52A1;&#x533F;&#x540D;&#x7528;&#x6237;&#x80FD;&#x591F;&#x5BF9;/var/ftp/test/&#x76EE;&#x5F55;&#x6709;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x7684;&#x6743;&#x9650;&#x3002;</li>
<li>&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x5BB6;&#x76EE;&#x5F55;&#xFF0C;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x5220;&#x9664;</li>
<li>&#x9664;&#x4E86;&#x7CFB;&#x7EDF;&#x7528;&#x6237;batman&#x6709;chroot&#x7684;&#x6743;&#x9650;&#xFF0C;&#x5176;&#x4ED6;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#x6CA1;&#x6709;chroot&#x7684;&#x6743;&#x9650;</li>
</ol>
<h3 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h3><p><img src="/2016/12/23/booboo_easy_service/02_ftp/05.png" alt="05"></p>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2016/12/23/booboo_easy_service/03_nfs/" itemprop="url">NFS文件共享服务</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2016-12-22T21:06:27.000Z" itemprop="datePublished">12月 23 2016</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/">技术培训</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/Linux%E7%AE%80%E6%98%93%E6%9C%8D%E5%8A%A1%E6%95%99%E7%A8%8B/">Linux简易服务教程</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            35 分钟 lesen (Über 5225 Wörter)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <h3 id="NFS&#x662F;&#x4EC0;&#x4E48;"><a href="#NFS&#x662F;&#x4EC0;&#x4E48;" class="headerlink" title="NFS&#x662F;&#x4EC0;&#x4E48;"></a>NFS&#x662F;&#x4EC0;&#x4E48;</h3><p>NFS&#xFF08;Network File System&#xFF09;&#x5373;&#x7F51;&#x7EDC;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;SUN&#x516C;&#x53F8;&#x5F00;&#x53D1;&#x7684;,&#x662F;FreeBSD&#x652F;&#x6301;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x4E00;&#x79CD;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x7F51;&#x7EDC;&#x4E2D;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x4E4B;&#x95F4;&#x901A;&#x8FC7;TCP/IP&#x7F51;&#x7EDC;&#x5171;&#x4EAB;&#x8D44;&#x6E90;&#x3002;&#x5728;NFS&#x7684;&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x672C;&#x5730;NFS&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x5E94;&#x7528;&#x53EF;&#x4EE5;&#x900F;&#x660E;&#x5730;&#x8BFB;&#x5199;&#x4F4D;&#x4E8E;&#x8FDC;&#x7AEF;NFS&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5C31;&#x50CF;&#x8BBF;&#x95EE;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x4E00;&#x6837;&#x3002;</p>
<h3 id="NFS&#x7684;&#x539F;&#x7406;"><a href="#NFS&#x7684;&#x539F;&#x7406;" class="headerlink" title="NFS&#x7684;&#x539F;&#x7406;"></a>NFS&#x7684;&#x539F;&#x7406;</h3><p>&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x6709;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4E24;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x5C06;&#x7F51;&#x7EDC;&#x4E2D;&#x7684;NFS&#x670D;&#x52A1;&#x5668;&#x5171;&#x4EAB;&#x7684;&#x76EE;&#x5F55;&#x6302;&#x8F7D;&#x5230;&#x672C;&#x5730;&#x7AEF;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x800C;&#x5728;&#x672C;&#x5730;&#x7AEF;&#x7684;&#x7CFB;&#x7EDF;&#x4E2D;&#x770B;&#x6765;&#xFF0C;&#x90A3;&#x4E2A;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x7684;&#x76EE;&#x5F55;&#x5C31;&#x597D;&#x50CF;&#x81EA;&#x5DF1;&#x7684;&#x4E00;&#x4E2A;&#x78C1;&#x76D8;&#x5206;&#x533A;&#x4E00;&#x6837;&#x3002;</p>
<p>&#x6BD4;&#x5982;&#x5C06;&#x914D;&#x7F6E;&#x597D;&#x7684;NFS&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;<code>/var/share/student1</code>&#x76EE;&#x5F55;&#x6302;&#x5728;&#x5230;A&#x5BA2;&#x6237;&#x7AEF;&#x7684;<code>/home/share/student1</code>&#x4E0A;&#x9762;&#xFF0C;&#x90A3;&#x5728;&#x5BA2;&#x6237;&#x7AEF;A&#x4E0A;&#x9762;&#x8FDB;&#x5165;<code>/home/share/student1</code>&#x5185;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;NFS&#x670D;&#x52A1;&#x5668;&#x7CFB;&#x7EDF;&#x4E2D;<code>/var/share/student1</code>&#x76EE;&#x5F55;&#x4E0B;&#x6240;&#x6709;&#x7684;&#x5185;&#x5BB9;&#x4E86;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x6267;&#x884C;<code>cd&#xFF0C;cp&#xFF0C;mv&#xFF0C;rm</code>&#x7B49;&#x547D;&#x4EE4;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x6743;&#x9650;&#x8981;&#x8DB3;&#x591F;&#x3002;&#x8FD9;&#x4E2A;<code>/var/share/student1</code>&#x5C31;&#x597D;&#x50CF;NFS&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E00;&#x6837;&#x3002;&#x6240;&#x4EE5;&#xFF0C;NFS&#x4E5F;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7684;&#x770B;&#x505A;&#x662F;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5668;&#xFF08;file system&#xFF09;</p>
<p>&#x53EA;&#x8981;&#x6743;&#x9650;&#x8DB3;&#x591F;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x4E5F;&#x53EF;&#x4EE5;&#x5BF9;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#x7B49;&#x7B49;&#x3002;</p>
<p><strong>NFS&#x6307;&#x7684;&#x662F;&#x4E00;&#x79CD;&#x670D;&#x52A1;</strong> &#x65E2;&#x7136;&#x662F;&#x670D;&#x52A1;&#xFF0C;&#x80AF;&#x5B9A;&#x4F1A;&#x7528;&#x5230;&#x4E00;&#x4E9B;&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#xFF0C;&#x90A3;NFS&#x7528;&#x7684;&#x662F;&#x4EC0;&#x4E48;&#x7AEF;&#x53E3;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x7684;&#xFF1F;&#x6211;&#x4E5F;&#x4E0D;&#x77E5;&#x9053;&#xFF0C;&#x8C01;&#x90FD;&#x4E0D;&#x77E5;&#x9053;&#x3002;&#x57FA;&#x672C;&#x4E0A;NFS&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x7684;&#x7AEF;&#x53E3;&#x5F00;&#x5728;2049&#x7AEF;&#x53E3;&#xFF0C;&#x4F46;&#x7531;&#x4E8E;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x975E;&#x5E38;&#x590D;&#x6742;&#xFF0C;NFS&#x652F;&#x6301;&#x7684;&#x529F;&#x80FD;&#x53C8;&#x76F8;&#x5F53;&#x7684;&#x591A;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x5C31;&#x4F1A;&#x542F;&#x7528;&#x4E00;&#x4E9B;&#x7AEF;&#x53E3;&#x6765;&#x4F20;&#x8F93;&#x6570;&#x636E;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;NFS&#x9700;&#x8981;&#x8C03;&#x7528;&#x989D;&#x5916;&#x7684;&#x7AEF;&#x53E3;&#xFF0C;&#x90A3;&#x989D;&#x5916;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x53C8;&#x662F;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;&#x989D;&#x5916;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x5E76;&#x4E0D;&#x56FA;&#x5B9A;&#x3002;&#x56E0;&#x4E3A;NFS&#x9ED8;&#x8BA4;&#x4F20;&#x8F93;&#x7684;&#x7AEF;&#x53E3;&#x662F;&#x968F;&#x673A;&#x53D6;&#x7528;&#x672A;&#x88AB;&#x4F7F;&#x7528;&#x7684;&#x5C0F;&#x4E8E;1024&#x7684;&#x7AEF;&#x53E3;&#x7528;&#x4E8E;&#x4F20;&#x8F93;&#x3002;&#x4F46;&#x5982;&#x6B64;&#x4E00;&#x6765;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x5668;&#x53C8;&#x6210;&#x4E86;&#x95EE;&#x9898;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x5E76;&#x4E0D;&#x77E5;&#x9053;&#x6211;&#x8981;&#x94FE;&#x63A5;&#x90A3;&#x4E9B;&#x7AEF;&#x53E3;&#x3002;&#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x9700;&#x8981;&#x7528;&#x5230;&#x8FDC;&#x7A0B;&#x8FC7;&#x7A0B;&#x8C03;&#x7528;RPC&#x670D;&#x52A1;&#x4E86; remote procedure call&#x3002;</p>
<p>RPC&#x5C31;&#x662F;&#x6307;&#x5B9A;NFS&#x5404;&#x529F;&#x80FD;&#x5BF9;&#x5E94;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x77E5;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x8BA9;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x8FDE;&#x63A5;&#x5230;&#x6B63;&#x786E;&#x7684;&#x7AEF;&#x53E3;&#x4E0A;&#x3002;</p>
<p><img src="/2016/12/23/booboo_easy_service/03_nfs/20.png" alt="20"></p>
<p>&#x5BF9;&#x4E8E;&#x670D;&#x52A1;&#x7AEF;&#x6765;&#x8BF4;&#xFF0C;&#x5728;NFS&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x5411;RPC&#x6CE8;&#x518C;&#x5176;&#x5404;&#x4E2A;&#x529F;&#x80FD;&#x6240;&#x9700;&#x8981;&#x7684;&#x968F;&#x673A;&#x7AEF;&#x53E3;&#x53F7;&#xFF0C;&#x8BA9;RPC&#x4E86;&#x89E3;NFS&#x5404;&#x9879;&#x529F;&#x80FD;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#xFF0C;PID&#xFF0C;NFS&#x6240;&#x76D1;&#x542C;&#x7684;IP&#x7B49;&#x7B49;&#x3002;&#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x901A;&#x8FC7;111&#x7AEF;&#x53E3;&#x53F7;&#x5411;server&#x7AEF;RPC&#x53D1;&#x51FA;NFS&#x8BBF;&#x95EE;&#x8BF7;&#x6C42;&#x65F6;&#x5019;&#xFF0C;RPC&#x5C31;&#x4F1A;&#x627E;&#x5230;&#x5BF9;&#x5E94;&#x5DF2;&#x6CE8;&#x518C;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#xFF0C;&#x5E76;&#x8FD4;&#x8FD8;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;&#x7AEF;&#x53E3;&#x53F7;&#x4E0E;NFS&#x53D1;&#x8D77;&#x94FE;&#x63A5;&#x3002;&#x6BD4;&#x5982;&#x8BF4;&#x6211;&#x662F;NFS&#xFF0C;&#x6211;&#x5728;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x4F1A;&#x544A;&#x8BC9;RPC&#xFF0C;&#x6211;&#x7684;A&#x7AEF;&#x53E3;&#x7528;&#x4E8E;&#x505A;&#x4EC0;&#x4E48;&#x4E8B;&#x60C5;&#xFF0C;&#x6211;&#x7684;B&#x7AEF;&#x53E3;&#x7528;&#x4E8E;&#x505A;&#x4EC0;&#x4E48;&#x4E8B;&#x60C5;&#xFF0C;RPC&#x5C31;&#x4F1A;&#x5C06;&#x5176;&#x7AEF;&#x53E3;&#x6CE8;&#x518C;&#x4FE1;&#x606F;&#x767B;&#x8BB0;&#xFF0C;&#x7B49;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x627E;&#x5230;RPC&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x76F4;&#x63A5;&#x627E;&#x6211;NFS&#xFF0C;RPC&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x544A;&#x77E5;&#x5BA2;&#x6237;&#x7AEF;&#x6240;&#x9700;&#x8BF7;&#x6C42;&#x5BF9;&#x5E94;&#x7684;&#x6B63;&#x786E;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x3002;</p>
<p>&#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x6267;&#x884C;&#x64CD;&#x4F5C;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x5404;&#x9879;&#x547D;&#x4EE4;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x8F6C;&#x4EA4;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x7684;RPC&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;RPC&#x8D1F;&#x8D23;&#x63A5;&#x53D7;&#x5404;&#x4E2A;&#x7A0B;&#x5E8F;&#x4E0E;&#x5BF9;&#x5E94;&#x7684;&#x7AEF;&#x53E3;&#x540E;&#x8D1F;&#x8D23;&#x5BF9;&#x4E3B;&#x673A;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#x3002;&#x6240;&#x4EE5;&#x8981;&#x4F7F;&#x7528;NFS&#x65F6;&#xFF0C;&#x65E0;&#x8BBA;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x8FD8;&#x662F;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x90FD;&#x9700;&#x8981;&#x542F;&#x52A8;RPC&#x3002;</p>
<p>&#x542F;&#x52A8;NFS&#x4E4B;&#x524D;&#xFF0C;RPC&#x5C31;&#x8981;&#x5148;&#x542F;&#x52A8;&#x4E86;&#xFF0C;&#x4E0D;&#x7136;NFS&#x65E0;&#x6CD5;&#x5411;RPC&#x6CE8;&#x518C;&#xFF0C;&#x5E76;&#x4E14;&#xFF0C;RPC&#x91CD;&#x542F;&#x4EE5;&#x540E;&#xFF0C;&#x539F;&#x6765;&#x6CE8;&#x518C;&#x7684;&#x6570;&#x636E;&#x5C31;&#x6CA1;&#x6709;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;RPC&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x540E;&#xFF0C;NFS&#x4E5F;&#x8981;&#x91CD;&#x542F;&#xFF0C;&#x91CD;&#x65B0;&#x60F3;RPC&#x6CE8;&#x518C;&#x624D;&#x884C;&#x3002;</p>
<p>&#x540C;&#x6837;&#xFF0C;A&#x5BA2;&#x6237;&#x7AEF;&#x5BF9;NFS&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x5171;&#x4EAB;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x4E86;&#x4FEE;&#x6539;&#x540E;&#xFF0C;B&#x670D;&#x52A1;&#x5668;&#x80FD;&#x770B;&#x5230;&#x6539;&#x540E;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x4E5F;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x5404;&#x4E2A;&#x4E3B;&#x673A;&#x4E4B;&#x95F4;&#x6587;&#x4EF6;&#x7684;&#x5171;&#x4EAB;&#x3002;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x91CD;&#x542F;&#x4E86;rpc&#xFF0C;nfs&#x4E5F;&#x5FC5;&#x987B;&#x8981;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E8E;&#x91CD;&#x65B0;&#x50CF;rpc&#x6CE8;&#x518C;&#x76F8;&#x5E94;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x3002;</p>
<ul>
<li>NFS&#xFF1A;&#x5904;&#x7406;&#x5BA2;&#x6237;&#x7AEF;&#x6570;&#x636E;&#x8BF7;&#x6C42;&#xFF0C;</li>
<li>RPC&#xFF1A;&#x5904;&#x7406;&#x5BA2;&#x6237;&#x7AEF;&#x94FE;&#x63A5;&#x8BF7;&#x6C42;&#x3002;</li>
</ul>
<h3 id="NFS&#x7684;&#x7528;&#x5904;"><a href="#NFS&#x7684;&#x7528;&#x5904;" class="headerlink" title="NFS&#x7684;&#x7528;&#x5904;"></a>NFS&#x7684;&#x7528;&#x5904;</h3><ul>
<li>&#x5B58;&#x50A8;&#x5171;&#x4EAB;&#x65B9;&#x6848;</li>
<li>&#x7F51;&#x7EDC;&#x5171;&#x4EAB;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</li>
</ul>
<h3 id="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1&#xFF1A;&#x914D;&#x7F6E;NFS&#x7F51;&#x7EDC;&#x5171;&#x4EAB;&#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5668;"><a href="#&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1&#xFF1A;&#x914D;&#x7F6E;NFS&#x7F51;&#x7EDC;&#x5171;&#x4EAB;&#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5668;" class="headerlink" title="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1&#xFF1A;&#x914D;&#x7F6E;NFS&#x7F51;&#x7EDC;&#x5171;&#x4EAB;&#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5668;"></a>&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1&#xFF1A;&#x914D;&#x7F6E;NFS&#x7F51;&#x7EDC;&#x5171;&#x4EAB;&#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5668;</h3><p>&#x8981;&#x6C42;rhel7 172.25.X.10 &#x4F5C;&#x4E3A;NFS&#x7F51;&#x7EDC;&#x5171;&#x4EAB;&#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5668;&#xFF1A;</p>
<ol>
<li>&#x5141;&#x8BB8;172.25.X.11&#x8FD9;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x6765;&#x6302;&#x63A5;&#x4F7F;&#x7528;/tmp&#x76EE;&#x5F55;&#xFF0C;&#x6709;&#x8BFB;&#x5199;&#x6743;&#x9650;&#x3002;</li>
<li>&#x5C06;&#x8BFB;&#x5199;&#x6743;&#x9650;&#x6539;&#x6210;&#x53EA;&#x8BFB;&#x6743;&#x9650;&#xFF1B;(ro)</li>
<li>&#x5141;&#x8BB8;172.25.X.0/24&#x7F51;&#x6BB5;&#x6302;&#x63A5;/tmp&#x76EE;&#x5F55;&#xFF0C;&#x6709;&#x8BFB;&#x5199;&#x6743;&#x9650;&#xFF1B;</li>
<li>&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x521B;&#x5EFA;uid=1200&#x7684;&#x7528;&#x6237;tom&#xFF0C;&#x5E76;&#x4F7F;&#x7528;tom&#x7528;&#x6237;&#x521B;&#x5EFA;/tmp/tomfile&#xFF1B;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x521B;&#x5EFA;uid=1200&#x7684;&#x7528;&#x6237;jack&#xFF0C;&#x5C1D;&#x8BD5;&#x53BB;&#x5220;&#x9664;tomfile&#x76EE;&#x5F55;;</li>
<li>&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;(rw,no_root_squash)</li>
</ol>
<h5 id="&#x5B9E;&#x9A8C;&#x51C6;&#x5907;&#x9636;&#x6BB5;"><a href="#&#x5B9E;&#x9A8C;&#x51C6;&#x5907;&#x9636;&#x6BB5;" class="headerlink" title="&#x5B9E;&#x9A8C;&#x51C6;&#x5907;&#x9636;&#x6BB5;"></a>&#x5B9E;&#x9A8C;&#x51C6;&#x5907;&#x9636;&#x6BB5;</h5><ol>
<li>&#x7F51;&#x7EDC;&#x62D3;&#x6251;&#x56FE;</li>
<li>&#x89C4;&#x5212;&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;</li>
<li>&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</li>
<li>&#x542F;&#x52A8;&#x670D;&#x52A1;</li>
<li>&#x5BA2;&#x6237;&#x7AEF;&#x6D4B;&#x8BD5;&#x670D;&#x52A1;        </li>
</ol>
<blockquote>
<p>&#x7F51;&#x7EDC;&#x62D3;&#x6251;&#x56FE;</p>
</blockquote>
<p><img src="/2016/12/23/booboo_easy_service/03_nfs/12.png" alt="12"></p>
<blockquote>
<p>&#x89C4;&#x5212;&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;</p>
</blockquote>
<table>
<thead>
<tr>
<th align="left">&#x4E3B;&#x673A;&#x540D;</th>
<th align="left">ip&#x5730;&#x5740;</th>
<th align="left">&#x8F6F;&#x4EF6;</th>
<th align="left">&#x529F;&#x80FD;</th>
</tr>
</thead>
<tbody><tr>
<td align="left">rhel6</td>
<td align="left">172.25.0.11</td>
<td align="left">rpcbind nfs-utils</td>
<td align="left">&#x670D;&#x52A1;&#x7AEF;</td>
</tr>
<tr>
<td align="left">rhel7</td>
<td align="left">172.25.0.10</td>
<td align="left">rpcbind nfs-utils</td>
<td align="left">&#x5BA2;&#x6237;&#x7AEF;</td>
</tr>
</tbody></table>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ~]# yum install -y nfs-utils rpcbind</span><br><span class="line">Loaded plugins: product-id, refresh-packagekit, security, subscription-manager</span><br><span class="line">This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.</span><br><span class="line">server                                                                                    | 3.9 kB     00:00     </span><br><span class="line">server/primary_db                                                                         | 3.1 MB     00:00     </span><br><span class="line">Setting up Install Process</span><br><span class="line">Package 1:nfs-utils-1.2.3-39.el6.x86_64 already installed and latest version</span><br><span class="line">Package rpcbind-0.2.0-11.el6.x86_64 already installed and latest version</span><br><span class="line">Nothing to do</span><br></pre></td></tr></table></figure><br>rpcbind</p>
<ul>
<li>rpc:&#x7BA1;&#x7406;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x7AEF;&#x7684;ip&#x548C;&#x7AEF;&#x53E3;&#x53F7;&#x2014;&#x8FDE;&#x63A5;</li>
<li>remote    procedure call&#x2014;&#x2014;&#x8FDC;&#x7A0B;&#x8FC7;&#x7A0B;&#x8C03;&#x7528;&#x534F;&#x8BAE;</li>
</ul>
<p>nfs-utils</p>
<ul>
<li>nfs:&#x4F20;&#x8F93;&#x6570;&#x636E;</li>
</ul>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ~]# rpm -qf /etc/exports</span><br><span class="line">setup-2.8.14-20.el6_4.1.noarch</span><br><span class="line">[root@rhel6 ~]# rpm -ql rpcbind</span><br><span class="line">/etc/rc.d/init.d/rpcbind</span><br><span class="line">/sbin/rpcbind</span><br><span class="line">/usr/sbin/rpcinfo</span><br><span class="line">/usr/share/doc/rpcbind-0.2.0</span><br><span class="line">/usr/share/doc/rpcbind-0.2.0/AUTHORS</span><br><span class="line">/usr/share/doc/rpcbind-0.2.0/ChangeLog</span><br><span class="line">/usr/share/doc/rpcbind-0.2.0/README</span><br><span class="line">/usr/share/man/man8/rpcbind.8.gz</span><br><span class="line">/usr/share/man/man8/rpcinfo.8.gz</span><br><span class="line">/var/cache/rpcbind</span><br><span class="line">[root@rhel6 ~]# rpm -ql nfs-utils</span><br><span class="line">/etc/nfsmount.conf</span><br><span class="line">/etc/rc.d/init.d/nfs</span><br><span class="line">/etc/rc.d/init.d/nfslock</span><br><span class="line">/etc/rc.d/init.d/rpcgssd</span><br><span class="line">/etc/rc.d/init.d/rpcidmapd</span><br><span class="line">/etc/rc.d/init.d/rpcsvcgssd</span><br><span class="line">/etc/request-key.d/id_resolver.conf</span><br><span class="line">/etc/sysconfig/nfs</span><br><span class="line">/sbin/mount.nfs</span><br><span class="line">/sbin/mount.nfs4</span><br><span class="line">/sbin/nfs_cache_getent</span><br><span class="line">/sbin/rpc.statd</span><br><span class="line">/sbin/umount.nfs</span><br><span class="line">/sbin/umount.nfs4</span><br><span class="line">/usr/sbin/exportfs</span><br><span class="line">/usr/sbin/mountstats</span><br><span class="line">/usr/sbin/nfsidmap</span><br><span class="line">/usr/sbin/nfsiostat</span><br><span class="line">/usr/sbin/nfsstat</span><br><span class="line">/usr/sbin/rpc.gssd</span><br><span class="line">/usr/sbin/rpc.idmapd</span><br><span class="line">/usr/sbin/rpc.mountd</span><br><span class="line">/usr/sbin/rpc.nfsd</span><br><span class="line">/usr/sbin/rpc.svcgssd</span><br><span class="line">/usr/sbin/rpcdebug</span><br><span class="line">/usr/sbin/showmount</span><br><span class="line">/usr/sbin/sm-notify</span><br><span class="line">/usr/sbin/start-statd</span><br><span class="line">/usr/share/doc/n7/nfsd.7.gz</span><br><span class="line">... ...</span><br><span class="line">/var/lib/nfs</span><br><span class="line">/var/lib/nfs/etab</span><br><span class="line">/var/lib/nfs/rmtab</span><br><span class="line">/var/lib/nfs/rpc_pipefs</span><br><span class="line">/var/lib/nfs/statd</span><br><span class="line">/var/lib/nfs/statd/sm</span><br><span class="line">/var/lib/nfs/statd/sm.bak</span><br><span class="line">/var/lib/nfs/state</span><br><span class="line">/var/lib/nfs/v4recovery</span><br><span class="line">/var/lib/nfs/xtab</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p>
</blockquote>
<p><strong>&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</strong> <code>/etc/exports</code></p>
<p><strong>&#x670D;&#x52A1;&#x540D;</strong> <code>rpcbind</code> <code>nfs</code></p>
<p>&#x6839;&#x636E;&#x8981;&#x6C42;&#xFF0C;&#x5141;&#x8BB8;172.25.X.10&#x8FD9;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x6765;&#x6302;&#x63A5;&#x4F7F;&#x7528;/tmp&#x76EE;&#x5F55;&#xFF0C;&#x6709;&#x8BFB;&#x5199;&#x6743;&#x9650;&#x3002;&#x914D;&#x7F6E;<code>/etc/exports</code>&#x5185;&#x5BB9;&#x4E3A;<code>/tmp 172.25.0.10(rw)</code>&#x540E;&#xFF0C;&#x6839;&#x636E;&#x670D;&#x52A1;&#x540D;&#x6765;&#x6253;&#x5F00;&#x76F8;&#x5E94;&#x7684;&#x670D;&#x52A1;</p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ~]# vim /etc/exports</span><br><span class="line">[root@rhel6 ~]# cat /etc/exports</span><br><span class="line">/tmp 172.25.0.10(rw)</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>&#x542F;&#x52A8;&#x670D;&#x52A1;</p>
</blockquote>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ~]# service rpcbind start</span><br><span class="line">[root@rhel6 ~]# service nfs start</span><br><span class="line">Starting NFS services:                                     [  OK  ]</span><br><span class="line">Starting NFS quotas:                                       [  OK  ]</span><br><span class="line">Starting NFS mountd:                                       [  OK  ]</span><br><span class="line">Starting NFS daemon:                                       [  OK  ]</span><br><span class="line">Starting RPC idmapd:                                       [  OK  ]</span><br><span class="line">[root@rhel6 ~]# netstat -luntp |grep rpcbind</span><br><span class="line">tcp        0      0 0.0.0.0:111                 0.0.0.0:*                   LISTEN      1174/rpcbind        </span><br><span class="line">tcp        0      0 :::111                      :::*                        LISTEN      1174/rpcbind        </span><br><span class="line">udp        0      0 0.0.0.0:111                 0.0.0.0:*                               1174/rpcbind        </span><br><span class="line">udp        0      0 0.0.0.0:925                 0.0.0.0:*                               1174/rpcbind        </span><br><span class="line">udp        0      0 :::111                      :::*                                    1174/rpcbind        </span><br><span class="line">udp        0      0 :::925                      :::*                                    1174/rpcbind        </span><br><span class="line">[root@rhel6 ~]# netstat -luntp |grep nfs</span><br><span class="line">[root@rhel6 ~]# ps -ef|grep nfs</span><br><span class="line">root      1888     2  0 15:20 ?        00:00:00 [nfsd4]</span><br><span class="line">root      1889     2  0 15:20 ?        00:00:00 [nfsd4_callbacks]</span><br><span class="line">root      1890     2  0 15:20 ?        00:00:00 [nfsd]</span><br><span class="line">root      1891     2  0 15:20 ?        00:00:00 [nfsd]</span><br><span class="line">root      1892     2  0 15:20 ?        00:00:00 [nfsd]</span><br><span class="line">root      1893     2  0 15:20 ?        00:00:00 [nfsd]</span><br><span class="line">root      1894     2  0 15:20 ?        00:00:00 [nfsd]</span><br><span class="line">root      1895     2  0 15:20 ?        00:00:00 [nfsd]</span><br><span class="line">root      1896     2  0 15:20 ?        00:00:00 [nfsd]</span><br><span class="line">root      1897     2  0 15:20 ?        00:00:00 [nfsd]</span><br><span class="line">root      1928  1745  0 15:20 pts/0    00:00:00 grep nfs</span><br><span class="line">[root@rhel6 ~]# service iptables stop</span><br><span class="line">iptables: Setting chains to policy ACCEPT: filter          [  OK  ]</span><br><span class="line">iptables: Flushing firewall rules:                         [  OK  ]</span><br><span class="line">iptables: Unloading modules:                               [  OK  ]</span><br></pre></td></tr></table></figure></p>
<p><strong>&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;daemon</strong> <code>rpcbind</code> <code>nfsd</code></p>
<p><strong>&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x53F7;</strong> 111 925</p>
<blockquote>
<p>&#x5BA2;&#x6237;&#x7AEF;&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;</p>
</blockquote>
<p>&#x67E5;&#x770B;&#x670D;&#x52A1;&#x5668;&#x5171;&#x4EAB;&#x76EE;&#x5F55;&#x7684;&#x60C5;&#x51B5; <code>showmount -e 172.25.0.11</code></p>
<p>&#x8FDC;&#x7A0B;&#x6302;&#x8F7D; <code>mount 172.25.0.10:/tmp /mnt</code></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# yum install -y nfs-utils rpcbind</span><br><span class="line">Loaded plugins: langpacks, product-id, subscription-manager</span><br><span class="line">This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.</span><br><span class="line">Package 1:nfs-utils-1.3.0-0.el7.x86_64 already installed and latest version</span><br><span class="line">Package rpcbind-0.2.0-23.el7.x86_64 already installed and latest version</span><br><span class="line">Nothing to do</span><br><span class="line">[root@rhel7 ~]# showmount -e 172.25.0.11</span><br><span class="line">Export list for 172.25.0.11:</span><br><span class="line">/tmp 172.25.0.10</span><br><span class="line">[root@rhel7 ~]# mount 172.25.0.11:/tmp /mnt</span><br><span class="line">[root@rhel7 ~]# mount |tail -n 1</span><br><span class="line">172.25.0.11:/tmp on /mnt type nfs4 (rw,relatime,vers=4.0,rsize=131072,wsize=131072,namlen=255,hard,proto=tcp,port=0,timeo=600,retrans=2,sec=sys,clientaddr=172.25.0.10,local_lock=none,addr=172.25.0.11)</span><br><span class="line">[root@rhel7 mnt]# touch rhel7test</span><br><span class="line">[root@rhel7 mnt]# ll</span><br><span class="line">total 12</span><br><span class="line">drwx------. 2 gdm       gdm       4096 Sep 25 02:59 orbit-gdm</span><br><span class="line">drwx------. 2 root      root      4096 Jul  2  2015 pulse-oCBy0hGD1JT6</span><br><span class="line">drwx------. 2 gdm       gdm       4096 Sep 25 02:59 pulse-q5sECpImz7Ju</span><br><span class="line">-rw-r--r--. 1 nfsnobody nfsnobody    0 Sep 25  2016 rhel7test</span><br><span class="line">[root@rhel7 mnt]# cd</span><br><span class="line">[root@rhel7 ~]# umount /mnt</span><br></pre></td></tr></table></figure><br><strong>nfsnobody</strong> &#x4EE5; root &#x7528;&#x6237;&#x521B;&#x5EFA;&#x7684;&#x6587;&#x4EF6;&#x88AB;&#x6620;&#x5C04;&#x6210; nfsnobody &#x7528;&#x6237; , &#x56E0;&#x4E3A;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x6CA1;&#x6709;&#x6307;&#x5B9A; no_root_squash</p>
<blockquote>
<p>&#x5C06;&#x8BFB;&#x5199;&#x6743;&#x9650;&#x6539;&#x6210;&#x53EA;&#x8BFB;&#x6743;&#x9650;&#xFF1B;(ro)</p>
</blockquote>
<p>&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ~]# vim /etc/exports</span><br><span class="line">[root@rhel6 ~]# cat /etc/exports</span><br><span class="line">/tmp 172.25.0.10(ro)</span><br><span class="line">[root@rhel6 ~]# service rpcbind restart</span><br><span class="line">Stopping rpcbind:                                          [  OK  ]</span><br><span class="line">Starting rpcbind:                                          [  OK  ]</span><br><span class="line">[root@rhel6 ~]# service nfs restart</span><br><span class="line">Shutting down NFS daemon:                                  [  OK  ]</span><br><span class="line">Shutting down NFS mountd:                                  [  OK  ]</span><br><span class="line">Shutting down NFS quotas:                                  [  OK  ]</span><br><span class="line">Shutting down NFS services:                                [  OK  ]</span><br><span class="line">Shutting down RPC idmapd:                                  [  OK  ]</span><br><span class="line">Starting NFS services:                                     [  OK  ]</span><br><span class="line">Starting NFS quotas:                                       [  OK  ]</span><br><span class="line">Starting NFS mountd:                                       [  OK  ]</span><br><span class="line">Starting NFS daemon:                                       [  OK  ]</span><br><span class="line">Starting RPC idmapd:                                       [  OK  ]</span><br></pre></td></tr></table></figure></p>
<p>&#x5BA2;&#x6237;&#x7AEF;rhel7</p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# mount 172.25.0.11:/tmp /mnt</span><br><span class="line">[root@rhel7 ~]# touch /mnt/rhel7test2</span><br><span class="line">touch: cannot touch &#x2018;/mnt/rhel7test2&#x2019;: Read-only file system</span><br><span class="line">[root@rhel7 ~]# umount /mnt</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>&#x5141;&#x8BB8;172.25.X.0/24&#x7F51;&#x6BB5;&#x6302;&#x63A5;/tmp&#x76EE;&#x5F55;&#xFF0C;&#x6709;&#x8BFB;&#x5199;&#x6743;&#x9650;&#xFF1B;</p>
</blockquote>
<p>&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E3A; <code>/tmp 172.25.0.0/24(rw)</code></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ~]# vim /etc/exports</span><br><span class="line">[root@rhel6 ~]# cat /etc/exports</span><br><span class="line">/tmp 172.25.0.0/24(rw)</span><br><span class="line">[root@rhel6 ~]# service rpcbind restart</span><br><span class="line">Stopping rpcbind:                                          [  OK  ]</span><br><span class="line">Starting rpcbind:                                          [  OK  ]</span><br><span class="line">[root@rhel6 ~]# service nfs restart</span><br><span class="line">Shutting down NFS daemon:                                  [  OK  ]</span><br><span class="line">Shutting down NFS mountd:                                  [  OK  ]</span><br><span class="line">Shutting down NFS quotas:                                  [  OK  ]</span><br><span class="line">Shutting down NFS services:                                [  OK  ]</span><br><span class="line">Shutting down RPC idmapd:                                  [  OK  ]</span><br><span class="line">Starting NFS services:                                     [  OK  ]</span><br><span class="line">Starting NFS quotas:                                       [  OK  ]</span><br><span class="line">Starting NFS mountd:                                       [  OK  ]</span><br><span class="line">Starting NFS daemon:                                       [  OK  ]</span><br><span class="line">Starting RPC idmapd:                                       [  OK  ]</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>&#x5206;&#x522B;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x90FD;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;id=1200&#x7684;&#x7528;&#x6237;tom&#xFF0C;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x7528;tom&#x7528;&#x6237;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;rhel7tomfile&#xFF0C;&#x5E76;&#x67E5;&#x770B;&#x5C5E;&#x6027;&#xFF0C;&#x518D;&#x5230;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x53BB;&#x67E5;&#x770B;&#x8BE5;&#x6587;&#x4EF6;&#x7684;&#x5C5E;&#x6027;&#xFF1B;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7528;tom&#x7528;&#x6237;&#x53BB;&#x521B;&#x5EFA;rhel6tomfile&#xFF0C;&#x67E5;&#x770B;&#x5C5E;&#x6027;&#xFF0C;&#x518D;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x4E0A;&#x67E5;&#x770B;&#x5C5E;&#x6027;&#x3002;</p>
</blockquote>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x670D;&#x52A1;&#x7AEF;rhel6</span></span><br><span class="line">[root@rhel6 ~]# useradd -u 1200 tom</span><br><span class="line">[root@rhel6 ~]# echo uplooking|passwd --stdin tom</span><br><span class="line">Changing password for user tom.</span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br><span class="line">[root@rhel6 ~]# su - tom</span><br><span class="line">[tom@rhel6 ~]$ touch /tmp/tomfile</span><br><span class="line">[tom@rhel6 ~]$ ll /tmp/tomfile</span><br><span class="line">-rw-rw-r--. 1 tom tom 0 Sep 25 15:55 /tmp/tomfile</span><br><span class="line">[tom@rhel6 tmp]$ touch rhel6tomfile</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5BA2;&#x6237;&#x7AEF;rhel7</span></span><br><span class="line">[tom@rhel7 mnt]$ touch rhel7tomfile</span><br><span class="line">[tom@rhel7 mnt]$ ll</span><br><span class="line">total 12</span><br><span class="line">-rw-rw-r--. 1 nobody nobody    0 Sep 25 04:03 4913</span><br><span class="line">drwx------. 2 gdm    gdm    4096 Sep 25 02:59 orbit-gdm</span><br><span class="line">drwx------. 2 root   root   4096 Jul  2  2015 pulse-oCBy0hGD1JT6</span><br><span class="line">drwx------. 2 gdm    gdm    4096 Sep 25 02:59 pulse-q5sECpImz7Ju</span><br><span class="line">-rw-rw-r--. 1 nobody nobody    0 Sep 25 04:07 rhel7tomfile</span><br><span class="line">-rw-rw-r--. 1 nobody nobody    0 Sep 25 04:06 tomfile</span><br><span class="line">[tom@rhel7 mnt]$ rm -rf rhel7tomfile</span><br><span class="line">rm: cannot remove &#x2018;rhel7tomfile&#x2019;: Operation not permitted</span><br><span class="line">[tom@rhel7 mnt]$ rm -rf rhel6tomfile</span><br><span class="line">rm: cannot remove &#x2018;rhel6tomfile&#x2019;: Operation not permitted</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x670D;&#x52A1;&#x7AEF;rhel6</span></span><br><span class="line">[tom@rhel6 tmp]$ ll</span><br><span class="line">total 12</span><br><span class="line">-rw-rw-r--. 1 tom  tom     0 Sep 25 16:03 4913</span><br><span class="line">drwx------. 2 gdm  gdm  4096 Sep 25 14:59 orbit-gdm</span><br><span class="line">drwx------. 2 root root 4096 Jul  2  2015 pulse-oCBy0hGD1JT6</span><br><span class="line">drwx------. 2 gdm  gdm  4096 Sep 25 14:59 pulse-q5sECpImz7Ju</span><br><span class="line">-rw-rw-r--. 1 tom  tom     0 Sep 25 16:10 rhel6tomfile</span><br><span class="line">-rw-rw-r--. 1 tom  tom     0 Sep 25 16:07 rhel7tomfile</span><br></pre></td></tr></table></figure></p>
<p>&#x4E24;&#x4E2A;&#x65B0;&#x6587;&#x4EF6;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x5747;&#x663E;&#x793A;&#x5C5E;&#x4E8E;nobody&#xFF0C;&#x800C;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x663E;&#x793A;&#x5C5E;&#x4E8E;tom&#x7528;&#x6237;&#xFF0C;&#x5E76;&#x4E14;&#x4F1A;&#x53D1;&#x73B0;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x7531;tom&#x7528;&#x6237;&#x521B;&#x5EFA;&#x51FA;&#x6765;&#x7684;&#x6587;&#x4EF6;&#x4E5F;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x5220;&#x9664;&#x3002;</p>
<p>&#x8FD9;&#x662F;&#x7531;&#x4E8E;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x5668;&#x7248;&#x672C;&#x6BD4;&#x5BA2;&#x6237;&#x7AEF;&#x4F4E;&#x7684;&#x7F18;&#x6545;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5C06;rhel7&#x4F5C;&#x4E3A;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;rhel6&#x4F5C;&#x4E3A;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x5C31;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x4E0A;&#x8FF0;&#x95EE;&#x9898;&#x4E86;&#x3002;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<table>
<thead>
<tr>
<th align="left">&#x4E3B;&#x673A;&#x540D;</th>
<th align="left">ip&#x5730;&#x5740;</th>
<th align="left">&#x8F6F;&#x4EF6;</th>
<th align="left">&#x529F;&#x80FD;</th>
</tr>
</thead>
<tbody><tr>
<td align="left">rhel6</td>
<td align="left">172.25.0.11</td>
<td align="left">rpcbind nfs-utils</td>
<td align="left">&#x5BA2;&#x6237;&#x7AEF;</td>
</tr>
<tr>
<td align="left">rhel7</td>
<td align="left">172.25.0.10</td>
<td align="left">rpcbind nfs-utils</td>
<td align="left">&#x670D;&#x52A1;&#x7AEF;</td>
</tr>
</tbody></table>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x670D;&#x52A1;&#x7AEF;rhel7</span></span><br><span class="line">[root@rhel7 ~]# vim /etc/exports</span><br><span class="line">[root@rhel7 ~]# systemctl stop firewalld</span><br><span class="line">[root@rhel7 ~]# systemctl start rpcbind</span><br><span class="line">[root@rhel7 ~]# systemctl start nfs</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5BA2;&#x6237;&#x7AEF;rhel6</span></span><br><span class="line">[root@rhel6 tmp]# mount 172.25.0.10:/tmp /mnt</span><br><span class="line">[root@rhel6 tmp]# cd /mnt</span><br><span class="line">[tom@rhel6 mnt]$ touch rhel6tomfile</span><br><span class="line">[tom@rhel6 mnt]$ ll</span><br><span class="line">total 0</span><br><span class="line">-rw-rw-r--. 1 tom  tom   0 Sep 25 16:22 rhel6tomfile</span><br><span class="line">drwx------. 3 root root 16 Sep 25 14:59 systemd-private-hPL7GQ</span><br><span class="line">drwx------. 3 root root 16 Sep 25 14:58 systemd-private-jFcaMN</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x670D;&#x52A1;&#x7AEF;rhel7</span></span><br><span class="line">[tom@rhel7 tmp]$ touch rhel7tomfile</span><br><span class="line">[tom@rhel7 tmp]$ ll</span><br><span class="line">total 0</span><br><span class="line">-rw-rw-r--. 1 tom  tom   0 Sep 25 04:22 rhel6tomfile</span><br><span class="line">-rw-rw-r--. 1 tom  tom   0 Sep 25 04:24 rhel7tomfile</span><br><span class="line">drwx------. 3 root root 16 Sep 25 02:59 systemd-private-hPL7GQ</span><br><span class="line">drwx------. 3 root root 16 Sep 25 02:58 systemd-private-jFcaMN</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5BA2;&#x6237;&#x7AEF;rhel6</span></span><br><span class="line">[tom@rhel6 mnt]$ ll</span><br><span class="line">total 0</span><br><span class="line">-rw-rw-r--. 1 tom  tom   0 Sep 25 16:22 rhel6tomfile</span><br><span class="line">-rw-rw-r--. 1 tom  tom   0 Sep 25 16:24 rhel7tomfile</span><br><span class="line">drwx------. 3 root root 16 Sep 25 14:59 systemd-private-hPL7GQ</span><br><span class="line">drwx------. 3 root root 16 Sep 25 14:58 systemd-private-jFcaMN</span><br><span class="line">[tom@rhel6 mnt]$ rm -rf rhel6tomfile</span><br><span class="line">[tom@rhel6 mnt]$ rm -rf rhel7tomfile</span><br><span class="line">[tom@rhel6 mnt]$ ll</span><br><span class="line">total 0</span><br><span class="line">drwx------. 3 root root 16 Sep 25 14:59 systemd-private-hPL7GQ</span><br><span class="line">drwx------. 3 root root 16 Sep 25 14:58 systemd-private-jFcaMN</span><br></pre></td></tr></table></figure></p>
<p><strong>&#x6587;&#x4EF6;&#x6240;&#x5C5E;&#x8005;&#x548C;&#x6240;&#x5C5E;&#x7EC4;&#x662F;&#x6839;&#x636E;uid&#x548C;gid&#x6765;&#x5339;&#x914D;&#x7684;&#x3002;</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x670D;&#x52A1;&#x5668;rhel7</span></span><br><span class="line">[root@rhel7 ~]# useradd -u 1003 batman</span><br><span class="line">[root@rhel7 ~]# echo uplooking|passwd --stdin batman</span><br><span class="line">Changing password for user batman.</span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br><span class="line">[root@rhel7 ~]# id batman</span><br><span class="line">uid=1003(batman) gid=1003(batman) groups=1003(batman)</span><br><span class="line">[root@rhel7 ~]# su batman</span><br><span class="line">[batman@rhel7 root]$ cd /tmp</span><br><span class="line">[batman@rhel7 tmp]$ ll</span><br><span class="line">total 0</span><br><span class="line">drwx------. 3 root root 16 Sep 25 02:59 systemd-private-hPL7GQ</span><br><span class="line">drwx------. 3 root root 16 Sep 25 02:58 systemd-private-jFcaMN</span><br><span class="line">[batman@rhel7 tmp]$ touch rhel7batmanfile</span><br><span class="line">[batman@rhel7 tmp]$ ll</span><br><span class="line">total 0</span><br><span class="line">-rw-rw-r--. 1 batman batman  0 Sep 25 04:27 rhel7batmanfile</span><br><span class="line">drwx------. 3 root   root   16 Sep 25 02:59 systemd-private-hPL7GQ</span><br><span class="line">drwx------. 3 root   root   16 Sep 25 02:58 systemd-private-jFcaMN</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@rhel6 mnt]# ll</span><br><span class="line">total 0</span><br><span class="line">-rw-rw-r--. 1 1003 1003  0 Sep 25 16:27 rhel7batmanfile</span><br><span class="line">drwx------. 3 root root 16 Sep 25 14:59 systemd-private-hPL7GQ</span><br><span class="line">drwx------. 3 root root 16 Sep 25 14:58 systemd-private-jFcaMN</span><br><span class="line">[root@rhel6 mnt]# useradd -u 1003 superman</span><br><span class="line">[root@rhel6 mnt]# echo uplooking|passwd --stdin superman</span><br><span class="line">Changing password for user superman.</span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br><span class="line">[root@rhel6 mnt]# ll</span><br><span class="line">total 0</span><br><span class="line">-rw-rw-r--. 1 superman superman  0 Sep 25 16:27 rhel7batmanfile</span><br><span class="line">drwx------. 3 root     root     16 Sep 25 14:59 systemd-private-hPL7GQ</span><br><span class="line">drwx------. 3 root     root     16 Sep 25 14:58 systemd-private-jFcaMN</span><br><span class="line">[root@rhel6 mnt]# su  superman</span><br><span class="line">[superman@rhel6 mnt]$ ll</span><br><span class="line">total 0</span><br><span class="line">-rw-rw-r--. 1 superman superman  0 Sep 25 16:27 rhel7batmanfile</span><br><span class="line">drwx------. 3 root     root     16 Sep 25 14:59 systemd-private-hPL7GQ</span><br><span class="line">drwx------. 3 root     root     16 Sep 25 14:58 systemd-private-jFcaMN</span><br><span class="line">[superman@rhel6 mnt]$ rm -rf rhel7batmanfile</span><br><span class="line">[superman@rhel6 mnt]$ ll</span><br><span class="line">total 0</span><br><span class="line">drwx------. 3 root root 16 Sep 25 14:59 systemd-private-hPL7GQ</span><br><span class="line">drwx------. 3 root root 16 Sep 25 14:58 systemd-private-jFcaMN</span><br></pre></td></tr></table></figure></p>
<p>&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x4EE5; batman &#x7528;&#x6237;&#x521B;&#x5EFA;&#x7684;&#x6587;&#x4EF6;&#x88AB;&#x6620;&#x5C04;&#x6210;&#x5BA2;&#x6237;&#x7AEF;&#x7684; superman &#x7528;&#x6237; , &#x56E0;&#x4E3A;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A; batman &#x7684; id &#x4E0E; superman &#x7684; id &#x76F8;&#x540C;</p>
<blockquote>
<p>&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;(rw,no_root_squash)</p>
</blockquote>
<p><strong>&#x9762;&#x8BD5;&#x9898;</strong></p>
<ol>
<li>&#x5BA2;&#x6237;&#x8BF4;&#x4E3A;&#x4EC0;&#x4E48;&#x6211;&#x662F;root&#xFF0C;&#x5374;&#x4E0D;&#x80FD;&#x5220;&#x9664;root&#x7684;&#x6587;&#x4EF6;&#x5462;&#xFF08;&#x524D;&#x63D0;&#x662F;&#x8BE5;&#x6587;&#x4EF6;&#x662F;nfs&#x670D;&#x52A1;&#x6302;&#x63A5;&#x4F7F;&#x7528;&#x7684;&#xFF09;&#xFF1F;</li>
</ol>
<ul>
<li>1&#xFF09;&#x8003;&#x8651;&#x5230;&#x5B89;&#x5168;&#xFF0C;&#x5F53;&#x524D;&#x6211;&#x4EEC;nfs&#x7684;&#x914D;&#x7F6E;&#x4E2D;&#x5C31;&#x8BBE;&#x7F6E;&#x4E3A;&#x672C;&#x5730;&#x7684;root&#x7528;&#x6237;&#x662F;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x5220;&#x9664;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;root&#x7528;&#x6237;&#x6587;&#x4EF6;&#x7684;&#x3002;</li>
<li>2&#xFF09;&#x5982;&#x679C;&#x5BA2;&#x6237;&#x4F60;&#x4E00;&#x5B9A;&#x8981;&#x53BB;&#x6709;&#x8FD9;&#x4E2A;&#x6743;&#x9650;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#xFF0C;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;no_root_squash&#xFF1B;&#x4E0D;&#x5EFA;&#x8BAE;&#x8FD9;&#x4E48;&#x505A;&#x3002;</li>
</ul>
<ol start="2">
<li>&#x5BA2;&#x6237;&#x7535;&#x8BDD;&#x54A8;&#x8BE2;&#x8BF4;&#x670D;&#x52A1;&#x5668;&#x51FA;&#x6545;&#x969C;&#x4E86;&#xFF0C;</li>
</ol>
<ul>
<li>1&#xFF09;&#x6302;&#x63A5;&#x76EE;&#x5F55;&#x6267;&#x884C;&#x4EFB;&#x4F55;&#x64CD;&#x4F5C;&#x5C31;&#x5361;&#x6B7B;&#x4E86;&#xFF0C;&#x7136;&#x540E;&#x6211;&#x91CD;&#x542F;&#xFF0C;&#x5C31;&#x5361;&#x5728;&#x54EA;&#x91CC;&#x4E86;&#xFF0C;/mnt</li>
<li>2&#xFF09;&#x524D;&#x4E00;&#x5929;&#x8FD8;&#x6B63;&#x5E38;&#xFF0C;&#x4ECA;&#x5929;&#x4E0A;&#x73ED;&#x5F00;&#x4E0D;&#x4E86;&#x673A;&#x4E86;</li>
<li>3&#xFF09;mount&#x67E5;&#x770B;&#x5F53;&#x524D;&#x6302;&#x63A5;&#x76EE;&#x5F55;&#xFF0C;&#x5361;&#x5728;&#x54EA;&#x91CC;&#xFF0C;&#x6740;&#x6389;&#x8FDB;&#x7A0B;&#xFF0C;&#x518D;mount&#x8FD8;&#x662F;&#x5361;&#x5728;&#x90A3;&#x91CC;</li>
</ul>
<p>&#x4EE5;&#x4E0A;&#x90FD;&#x6709;&#x53EF;&#x80FD;&#x662F;nfs&#x670D;&#x52A1;&#x5668;&#x8FDE;&#x63A5;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#x4E86;&#xFF0C;&#x5E94;&#x8BE5;&#x53BB;&#x68C0;&#x67E5;&#x4E00;&#x4E0B;nfs&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FD0;&#x884C;&#x60C5;&#x51B5;&#x3002;&#x518D;&#x6392;&#x9519;&#x3002;</p>
<h3 id="&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x89E3;"><a href="#&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x89E3;" class="headerlink" title="&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x89E3;"></a>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x89E3;</h3><h4 id="&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-etc-exports"><a href="#&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-etc-exports" class="headerlink" title="&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/exports"></a>&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/exports</h4><p>&#x5173;&#x4E8E;exports&#x7684;&#x5199;&#x6CD5;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;  <code>man 5 exports</code> &#x6765;&#x67E5;&#x770B; <code>EXAMPLES</code></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> sample /etc/exports file</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">      &#x5171;&#x4EAB;&#x76EE;&#x5F55;             &#x5BA2;&#x6237;&#x7AEF;&#x5217;&#x8868;&#xFF08;&#x6743;&#x9650;&#xFF09;</span></span><br><span class="line">       /               master(rw) trusty(rw,no_root_squash)</span><br><span class="line">       /projects       proj*.local.domain(rw)</span><br><span class="line">       /usr            *.local.domain(ro) @trusted(rw)</span><br><span class="line">       /home/joe       pc001(rw,all_squash,anonuid=150,anongid=100)</span><br><span class="line">       /pub            *(ro,insecure,all_squash)</span><br><span class="line">       /srv/www        -sync,rw server @trusted @external(ro)</span><br><span class="line">       /foo            2001:db8:9:e54::/64(rw) 192.0.2.0/24(rw)</span><br><span class="line">       /build          buildhost[0-9].local.domain(rw)</span><br></pre></td></tr></table></figure></p>
<p>&#x8BE6;&#x7EC6;&#x53C2;&#x6570;&#x89E3;&#x91CA;&#x5982;&#x4E0B;&#x8868;&#x6240;&#x793A;&#xFF1A;</p>
<table>
<thead>
<tr>
<th align="left">&#x53C2;&#x6570;</th>
<th align="left">&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody><tr>
<td align="left">rw</td>
<td align="left">&#x53EF;&#x8BFB;&#x53EF;&#x5199;</td>
</tr>
<tr>
<td align="left">ro</td>
<td align="left">&#x53EA;&#x8BFB;</td>
</tr>
<tr>
<td align="left">sync</td>
<td align="left">&#x6570;&#x636E;&#x540C;&#x6B65;&#x5199;&#x5165;&#x5185;&#x5B58;&#x7F13;&#x51B2;&#x533A;&#x4E0E;&#x78C1;&#x76D8;&#x4E2D;&#xFF0C;&#x867D;&#x7136;&#x8FD9;&#x6837;&#x505A;&#x6548;&#x7387;&#x8F83;&#x4F4E;&#xFF0C;&#x4F46;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;&#xFF08;&#x9002;&#x5408;&#x4E8E;&#x5C0F;&#x6587;&#x4EF6;&#x4F20;&#x8F93;&#xFF09;</td>
</tr>
<tr>
<td align="left">async</td>
<td align="left">&#x6570;&#x636E;&#x5148;&#x6682;&#x65F6;&#x653E;&#x4E8E;&#x5185;&#x5B58;&#xFF0C;&#x800C;&#x975E;&#x76F4;&#x63A5;&#x5199;&#x5165;&#x786C;&#x76D8;&#xFF0C;&#x7B49;&#x5230;&#x5FC5;&#x8981;&#x65F6;&#x624D;&#x5199;&#x5165;&#x78C1;&#x76D8;&#xFF08;&#x9002;&#x5408;&#x4E8E;&#x5927;&#x6587;&#x4EF6;&#x4F20;&#x8F93;&#xFF09;</td>
</tr>
<tr>
<td align="left">no_root_squash</td>
<td align="left">&#x4F7F;&#x7528;nfs&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x7528;&#x6237;&#x662F;root&#xFF0C;&#x4E0D;&#x8FDB;&#x884C;&#x6743;&#x9650;&#x538B;&#x7F29;&#xFF0C;&#x5373;root&#x7528;&#x6237;&#x5728;nfs&#x4E0A;&#x521B;&#x5EFA;&#x7684;&#x6587;&#x4EF6;   &#x5C5E;&#x7EC4;&#x548C;&#x5C5E;&#x4E3B;&#x4ECD;&#x7136;&#x662F;root&#xFF08;&#x4E0D;&#x5B89;&#x5168;&#xFF0C;&#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#xFF09;</td>
</tr>
<tr>
<td align="left">root_squash</td>
<td align="left">&#x4F7F;&#x7528;nfs&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x7528;&#x6237;&#x662F;root&#xFF0C;&#x5219;&#x8FDB;&#x884C;&#x6743;&#x9650;&#x538B;&#x7F29;&#xFF0C;&#x5373;&#x628A;root&#x7528;&#x6237;&#x5728;nfs&#x4E0A;&#x521B;&#x5EFA;&#x7684;&#x6587;&#x4EF6;   &#x5C5E;&#x7EC4;&#x548C;&#x5C5E;&#x4E3B;&#x4FEE;&#x6539;&#x4E3A;nfsnobody</td>
</tr>
<tr>
<td align="left">all_squash</td>
<td align="left">&#x6240;&#x6709;&#x7684;&#x666E;&#x901A;&#x7528;&#x6237;&#x4F7F;&#x7528;nfs&#x90FD;&#x5C06;&#x4F7F;&#x7528;&#x6743;&#x9650;&#x538B;&#x7F29;&#xFF0C;&#x5373;&#xFF1A;&#x5C06;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x7684;&#x6240;&#x6709;&#x666E;&#x901A;&#x7528;&#x6237;&#x53CA;&#x6240;&#x5C5E;&#x7528;&#x6237;&#x7EC4;&#x90FD;&#x6620;&#x5C04;&#x4E3A;&#x533F;&#x540D;&#x7528;&#x6237;&#x6216;&#x8005;&#x7528;&#x6237;&#x7EC4;&#xFF08;&#x4E00;&#x822C;&#x5747;&#x4E3A;nfsnobody&#xFF09;</td>
</tr>
<tr>
<td align="left">no_all_squash</td>
<td align="left">&#x6240;&#x6709;&#x7684;&#x666E;&#x901A;&#x7528;&#x6237;&#x4F7F;&#x7528;nfs&#x90FD;&#x4E0D;&#x4F7F;&#x7528;&#x6743;&#x9650;&#x538B;&#x7F29;&#xFF0C;&#x5373;&#xFF1A;&#x4E0D;&#x5C06;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x7684;&#x6240;&#x6709;&#x666E;&#x901A;&#x7528;&#x6237;&#x53CA;&#x6240;&#x5C5E;&#x7528;&#x6237;&#x7EC4;&#x90FD;&#x6620;&#x5C04;&#x4E3A;&#x533F;&#x540D;&#x7528;&#x6237;&#x6216;&#x8005;&#x7528;&#x6237;&#x7EC4;&#xFF08;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#xFF09;</td>
</tr>
<tr>
<td align="left">anonuid=XXX</td>
<td align="left">anon&#x5373;anonymous(&#x533F;&#x540D;&#x8005;)&#xFF0C;&#x524D;&#x9762;&#x5173;&#x4E8E;*_squash&#x63D0;&#x5230;&#x7684;&#x533F;&#x540D;&#x7528;&#x6237;&#x7684;uid&#x7684;&#x8BBE;&#x7F6E;&#x503C;&#xFF0C;&#x901A;&#x5E38;&#x4E3A;nobody&#x6216;&#x8005;nfsnobody&#xFF0C;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x8BBE;&#x5B9A;&#x8FD9;&#x4E2A;uid&#x503C;&#xFF0C;&#x8FD9;&#x4E2A;uid&#x5FC5;&#x987B;&#x5B58;&#x5728; &#x4E8E;/etc/passwd</td>
</tr>
<tr>
<td align="left">anongid=XXX</td>
<td align="left">&#x5C06;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x7684;&#x6240;&#x6709;&#x7528;&#x6237;&#x7EC4;&#x90FD;&#x6620;&#x8EAB;&#x4E3A;&#x533F;&#x540D;&#x7528;&#x6237;&#x7EC4;&#x8D26;&#x6237;&#xFF0C;&#x5E76;&#x6307;&#x5B9A;&#x8BE5;&#x533F;&#x540D;&#x7528;&#x6237;&#x7EC4;&#x8D26;&#x6237;&#x4E3A;&#x672C;&#x5730;&#x7528;&#x6237;&#x7EC4;&#x8D26;&#x6237;&#xFF08;GID=XXX&#xFF09;</td>
</tr>
<tr>
<td align="left">insecure</td>
<td align="left">&#x5141;&#x8BB8;&#x5BA2;&#x6237;&#x7AEF;&#x4ECE;&#x5927;&#x4E8E;1024&#x7684;TCP/IP&#x7AEF;&#x53E3;&#x8FDE;NFS&#x670D;&#x52A1;&#x5668;</td>
</tr>
<tr>
<td align="left">secure</td>
<td align="left">&#x9650;&#x5236;&#x5BA2;&#x6237;&#x7AEF;&#x53EA;&#x80FD;&#x4ECE;&#x5C0F;&#x4E8E;1024&#x7684;TCP/IP&#x7AEF;&#x53E3;&#x8FDE;&#x63A5;NFS&#x670D;&#x52A1;&#x5668;(&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;)</td>
</tr>
<tr>
<td align="left">wdelay</td>
<td align="left">&#x68C0;&#x67E5;&#x662F;&#x5426;&#x6709;&#x76F8;&#x5173;&#x7684;&#x5199;&#x64CD;&#x4F5C;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5219;&#x5C06;&#x8FD9;&#x4E9B;&#x5199;&#x64CD;&#x4F5C;&#x4E00;&#x8D77;&#x6267;&#x884C;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x63D0;&#x9AD8;&#x6548;&#x7387;(&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;)</td>
</tr>
<tr>
<td align="left">no_wdelay</td>
<td align="left">&#x82E5;&#x6709;&#x5199;&#x64CD;&#x4F5C;&#x5219;&#x7ACB;&#x5373;&#x6267;&#x884C;&#xFF08;&#x5E94;&#x4E0E;sync&#x914D;&#x7F6E;&#xFF09;</td>
</tr>
<tr>
<td align="left">subtree_check</td>
<td align="left">&#x82E5;&#x8F93;&#x51FA;&#x76EE;&#x5F55;&#x662F;&#x4E00;&#x4E2A;&#x5B50;&#x76EE;&#x5F55;&#xFF0C;&#x5219;NFSW:&#x52A1;&#x5668;&#x5C06;&#x68C0;&#x67E5;&#x5176;&#x7236;&#x76EE;&#x5F55;&#x7684;&#x6743;&#x9650;(&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;)</td>
</tr>
<tr>
<td align="left">no_subtree_check</td>
<td align="left">&#x5373;&#x4F7F;&#x8F93;&#x51FA;&#x76EE;&#x5F55;&#x662F;&#x4E00;&#x4E2A;&#x5B50;&#x76EE;&#x5F55;&#xFF0C;NFS&#x670D;&#x52A1;&#x5668;&#x4E5F;&#x4E0D;&#x68C0;&#x67E5;&#x5176;&#x7236;&#x76EE;&#x5F55;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x8FD9;&#x6837;&#x505A;&#x53EF;&#x63D0;&#x9AD8;&#x6548;&#x7387;</td>
</tr>
</tbody></table>
<p><strong>&#x8BBE;&#x7F6E;&#x5B9E;&#x4F8B;</strong></p>
<p><code>/tmp *(rw,no_root_squash)</code></p>
<p>&#x5728;&#x6240;&#x6709;&#x7684;IP&#xFF08;&#x4E3B;&#x673A;&#xFF09;&#x4E0A;&#x767B;&#x5F55;&#x7684;&#x7528;&#x6237;&#x90FD;&#x53EF;&#x5BF9;NFS&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x5171;&#x4EAB;&#x76EE;&#x5F55;/tmp&#x62E5;&#x6709;rw&#x64CD;&#x4F5C;&#x6743;&#x9650;&#xFF0C;&#x540C;&#x65F6;&#x5982;&#x679C;&#x662F;root&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x8BE5;&#x5171;&#x4EAB;&#x76EE;&#x5F55;&#xFF0C;&#x90A3;&#x4E48;&#x4E0D;&#x5C06;root&#x7528;&#x6237;&#x53CA;&#x6240;&#x5C5E;&#x7528;&#x6237;&#x7EC4;&#x90FD;&#x6620;&#x5C04;&#x4E3A;&#x533F;&#x540D;&#x7528;&#x6237;&#x6216;&#x7528;&#x6237;&#x7EC4;&#xFF08;*&#x8868;&#x793A;&#x6240;&#x6709;&#x7684;&#x4E3B;&#x673A;&#x6216;&#x8005;IP&#xFF09;</p>
<p><code>/tmp *(rw)</code></p>
<p>&#x5728;&#x6240;&#x6709;&#x7684;IP&#xFF08;&#x4E3B;&#x673A;&#xFF09;&#x767B;&#x5F55;&#x7684;&#x7528;&#x6237;&#x90FD;&#x53EF;&#x5BF9;NFS&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x5171;&#x4EAB;&#x76EE;&#x5F55;/tmp&#x62E5;&#x6709;rw&#x64CD;&#x4F5C;&#x6743;&#x9650;</p>
<p><code>/home/public 192.168.0.*(rw)   *(ro)</code>  &#x6216;&#x8005; <code>/home/public 192.168.0.0/24(rw) *(ro)</code></p>
<p>&#x9664;&#x4E86;&#x5728;<code>192. 168. 0.0/24</code>&#x8FD9;&#x4E2A;&#x7F51;&#x6BB5;&#x5185;&#x7684;&#x4E3B;&#x673A;&#x4E0A;&#x767B;&#x5F55;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x53EF;&#x5BF9;NFS&#x670D;&#x52A1;&#x5668;&#x5171;&#x4EAB;&#x76EE;&#x5F55;<code>/home/public</code>&#x8FDB;&#x884C;<code>rw</code>&#x64CD;&#x4F5C;&#x6743;&#x9650;&#xFF0C;&#x800C;&#x5176;&#x5B83;&#x7F51;&#x6BB5;&#x7684;&#x4E3B;&#x673A;&#x4E0A;&#x767B;&#x5F55;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x5BF9;NFS&#x670D;&#x52A1;&#x5668;&#x5171;&#x4EAB;&#x76EE;&#x5F55;<code>/home/public</code>&#x53EA;&#x80FD;&#x8FDB;&#x884C;<code>r</code>&#x64CD;&#x4F5C;</p>
<p><code>/home/test 192.168.0.100(rw)</code></p>
<p>&#x53EA;&#x5BF9;<code>192.168.0.100</code>&#x8BE5;&#x53F0;&#x4E3B;&#x673A;&#x8BBE;&#x7F6E;&#x6743;&#x9650;&#xFF0C;&#x5373;&#xFF1A;&#x4F7F;&#x5728;&#x8BE5;&#x53F0;&#x4E3B;&#x673A;&#x767B;&#x5F55;&#x7684;&#x7528;&#x6237;&#x90FD;&#x53EF;&#x5BF9;NFS&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x5171;&#x4EAB;&#x76EE;&#x5F55;<code>/home/test</code>&#x62E5;&#x6709;&#x8BFB;&#x4E0E;&#x5199;&#x7684;&#x64CD;&#x4F5C;</p>
<p><code>/home/linux *.linux.org(rw,all_squash,anonuid=40,anongid=40)</code></p>
<p>&#x5F53;<code>*.linux.org</code>&#xFF08;&#x52A0;&#x5165;&#x57DF;<code>linux.org</code>&#x7684;&#x6240;&#x6709;&#x4E3B;&#x673A;&#xFF09; &#x767B;&#x9646;&#x6B64;NFS&#x4E3B;&#x673A;&#xFF0C;&#x5E76;&#x4E14;&#x5728;<code>/home/linux</code>&#x4E0B;&#x9762;&#x5199;&#x5165;&#x6863;&#x6848;&#x65F6;&#xFF0C;&#x8BE5;&#x6863;&#x6848;&#x7684;&#x6240;&#x6709;&#x4EBA;&#x4E0E;&#x6240;&#x6709;&#x7EC4;&#xFF0C;&#x5C31;&#x4F1A;&#x53D8;&#x6210;NFS&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;<code>/etc/passwd</code>&#x6587;&#x4EF6;&#x91CC;&#x9762;&#x5BF9;&#x5E94;&#x7684;<code>UID</code>&#x4E3A;40&#x7684;&#x90A3;&#x4E2A;&#x8EAB;&#x4EFD;&#x7684;&#x4F7F;&#x7528;&#x8005;&#x4E86;&#xFF08;&#x56E0;&#x4E3A;&#x6307;&#x5B9A;&#x4E86;&#x53C2;&#x6570;&#xFF1A;<code>all_squash&#xFF0C;anonuid=40&#xFF0C;anongid=40</code>&#xFF09;</p>
<hr>
<h3 id="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;2&#xFF1A;&#x81EA;&#x52A8;&#x6302;&#x63A5;NFS"><a href="#&#x9879;&#x76EE;&#x5B9E;&#x8DF5;2&#xFF1A;&#x81EA;&#x52A8;&#x6302;&#x63A5;NFS" class="headerlink" title="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;2&#xFF1A;&#x81EA;&#x52A8;&#x6302;&#x63A5;NFS"></a>&#x9879;&#x76EE;&#x5B9E;&#x8DF5;2&#xFF1A;&#x81EA;&#x52A8;&#x6302;&#x63A5;NFS</h3><p>&#x8981;&#x6C42;&#x5206;&#x522B;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x4E09;&#x79CD;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x81EA;&#x52A8;&#x6302;&#x63A5;<br>    *    /etc/fstab&#xFF08;&#x5BB9;&#x6613;&#x51FA;&#x95EE;&#x9898;&#xFF09;<br>    * /etc/bashrc<br>    * autofs&#x670D;&#x52A1;</p>
<h4 id="etc-fstab"><a href="#etc-fstab" class="headerlink" title="/etc/fstab"></a>/etc/fstab</h4><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ~]# vim /etc/fstab</span><br><span class="line">172.25.0.10:/tmp        /mnt                    nfs     defaults        0 0</span><br><span class="line">[root@rhel6 ~]# mount -a</span><br><span class="line">[root@rhel6 ~]# mount |tail -n 1</span><br><span class="line">172.25.0.10:/tmp on /mnt type nfs (rw,vers=4,addr=172.25.0.10,clientaddr=172.25.0.11)</span><br></pre></td></tr></table></figure></p>
<p>&#x5982;&#x679C;nfs&#x670D;&#x52A1;&#x5668;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#xFF0C;&#x5BFC;&#x81F4;&#x5BA2;&#x6237;&#x7AEF;&#x65E0;&#x6CD5;&#x6302;&#x63A5;&#xFF0C;&#x6B64;&#x65F6;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x5931;&#x8D25;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x56E0;&#x6B64;&#x4E0D;&#x5EFA;&#x8BAE;&#x8FD9;&#x4E48;&#x505A;&#x3002;</p>
<h4 id="etc-bashrc"><a href="#etc-bashrc" class="headerlink" title="/etc/bashrc"></a>/etc/bashrc</h4><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ~]# vim /etc/bashrc</span><br><span class="line">[root@rhel6 ~]# grep mount /etc/bashrc</span><br><span class="line">mount 172.25.0.10:/tmp /mnt</span><br><span class="line">[root@rhel6 ~]# reboot</span><br><span class="line"></span><br><span class="line">Broadcast message from root@rhel6</span><br><span class="line">	(/dev/pts/0) at 16:53 ...</span><br><span class="line"></span><br><span class="line">The system is going down for reboot NOW!</span><br><span class="line">[root@rhel6 ~]# Connection to 172.25.0.11 closed by remote host.</span><br><span class="line">Connection to 172.25.0.11 closed.</span><br><span class="line">[root@foundation0 ~]# ssh root@172.25.0.11</span><br><span class="line">Last login: Sun Sep 25 16:52:03 2016 from 172.25.0.250</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mount.nfs: Connection timed out</span><br></pre></td></tr></table></figure></p>
<p>&#x5982;&#x679C;&#x5C06;&#x6302;&#x63A5;&#x7684;&#x547D;&#x4EE4;&#x653E;&#x5728;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x540E;&#x7684;&#x7EC8;&#x7AEF;&#x542F;&#x52A8;&#x811A;&#x672C;&#x4E2D;&#xFF0C;&#x90A3;&#x4E48;&#x53EA;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x62A5;&#x9519;&#x800C;&#x5DF2;&#x3002;</p>
<h4 id="autofs-&#x81EA;&#x52A8;&#x6302;&#x63A5;&#x670D;&#x52A1;"><a href="#autofs-&#x81EA;&#x52A8;&#x6302;&#x63A5;&#x670D;&#x52A1;" class="headerlink" title="autofs &#x81EA;&#x52A8;&#x6302;&#x63A5;&#x670D;&#x52A1;"></a>autofs &#x81EA;&#x52A8;&#x6302;&#x63A5;&#x670D;&#x52A1;</h4><p>&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x5019;&#x6302;&#x63A5;&#xFF0C;&#x4E0D;&#x4F7F;&#x7528;&#x7B49;&#x5F85;5&#x5206;&#x949F;&#x540E;&#x5378;&#x8F7D;&#xFF0C;&#x800C;&#x7B49;&#x5F85;&#x7684;&#x65F6;&#x95F4;&#x65F6;&#x53EF;&#x4EE5;&#x8C03;&#x6574;&#x7684;&#xFF0C;&#x5728;<code>/etc/sysconfig/autofs</code>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x901A;&#x8FC7;<code>TIMEOUT</code>&#x53C2;&#x6570;&#x8C03;&#x6574;&#xFF0C;&#x4F8B;&#x5982;<code>TIMEOUT=300</code>&#x3002;</p>
<ol>
<li><p>&#x8F6F;&#x4EF6;        autofs</p>
</li>
<li><p>service        autofs</p>
</li>
<li><p>daemon        automount        </p>
</li>
<li><p>&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p>
<ul>
<li>/etc/auto.master    &#x7236;&#x6302;&#x63A5;&#x70B9;</li>
<li>/etc/auto.booboo    &#x5B50;&#x6302;&#x63A5;&#x70B9;<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">172.25.0.10:/tmp /mnt/share</span><br><span class="line">		/mnt	&#x7236;&#x6302;&#x63A5;&#x70B9;</span><br><span class="line">		share	&#x5B50;&#x6302;&#x63A5;&#x70B9;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x683C;&#x5F0F;</p>
</li>
</ol>
<p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>man 5 autofs</code>&#x67E5;&#x770B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x683C;&#x5F0F;</p>
<p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/etc/auto.master</span><br><span class="line">/mnt	/etc/auto.booboo</span><br><span class="line"></span><br><span class="line">/etc/auto.booboo</span><br><span class="line">share	-rw	172.25.0.10:/tmp</span><br></pre></td></tr></table></figure></p>
<p><strong>&#x81EA;&#x52A8;&#x6302;&#x63A5;autofs&#x573A;&#x666F;</strong></p>
<p>rhel7 &#x4F5C;&#x4E3A;nfs&#x7F51;&#x7EDC;&#x5171;&#x4EAB;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#xFF1B;rhel6&#x4F5C;&#x4E3A;nfs&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x73B0;&#x5728;&#x60F3;&#x81EA;&#x52A8;&#x6302;&#x63A5;rhel7&#x7684;/tmp&#x76EE;&#x5F55;&#x4F7F;&#x7528;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;autofs&#x3002;</p>
<table>
<thead>
<tr>
<th align="left">&#x4E3B;&#x673A;&#x540D;</th>
<th align="left">ip&#x5730;&#x5740;</th>
<th align="left">&#x8F6F;&#x4EF6;</th>
<th align="left">&#x529F;&#x80FD;</th>
</tr>
</thead>
<tbody><tr>
<td align="left">rhel6</td>
<td align="left">172.25.0.11</td>
<td align="left">rpcbind nfs-utils</td>
<td align="left">nfs&#x5BA2;&#x6237;&#x7AEF;&#xFF1B;autofs&#x670D;&#x52A1;&#x7AEF;</td>
</tr>
<tr>
<td align="left">rhel7</td>
<td align="left">172.25.0.10</td>
<td align="left">rpcbind nfs-utils</td>
<td align="left">nfs&#x670D;&#x52A1;&#x7AEF;</td>
</tr>
</tbody></table>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ~]# yum install -y autofs</span><br><span class="line">Loaded plugins: product-id, refresh-packagekit, security, subscription-manager</span><br><span class="line">This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.</span><br><span class="line">Setting up Install Process</span><br><span class="line">Package 1:autofs-5.0.5-88.el6.x86_64 already installed and latest version</span><br><span class="line">Nothing to do</span><br><span class="line">[root@rhel6 ~]# rpm -ql autofs</span><br><span class="line">/etc/auto.master</span><br><span class="line">/etc/auto.misc</span><br><span class="line">/etc/auto.net</span><br><span class="line">/etc/auto.smb</span><br><span class="line">/etc/autofs_ldap_auth.conf</span><br><span class="line">/etc/rc.d/init.d/autofs</span><br><span class="line">/etc/sysconfig/autofs</span><br><span class="line">/misc</span><br><span class="line">/net</span><br><span class="line"></span><br><span class="line">[root@rhel6 ~]# vim /etc/auto.master</span><br><span class="line">/mnt    /etc/auto.booboo</span><br><span class="line">[root@rhel6 ~]# vim /etc/auto.booboo</span><br><span class="line">share   -rw     172.25.0.10:/tmp</span><br><span class="line"></span><br><span class="line">[root@rhel6 ~]# mkdir /mnt/share</span><br><span class="line">[root@rhel6 ~]# service autofs start</span><br><span class="line">Starting automount:                                        [  OK  ]</span><br><span class="line">[root@rhel6 ~]# ll /mnt/share</span><br><span class="line">total 0</span><br><span class="line">drwx------. 3 root root 16 Sep 25 14:59 systemd-private-hPL7GQ</span><br><span class="line">drwx------. 3 root root 16 Sep 25 14:58 systemd-private-jFcaMN</span><br></pre></td></tr></table></figure></p>
<h3 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h3><p><img src="/2016/12/23/booboo_easy_service/03_nfs/06.png" alt="06"></p>
<p><img src="/2016/12/23/booboo_easy_service/03_nfs/07.png" alt="07"></p>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2016/12/23/booboo_easy_service/01_dns/" itemprop="url">DNS域名解析服务</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2016-12-22T21:06:27.000Z" itemprop="datePublished">12月 23 2016</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/">技术培训</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/Linux%E7%AE%80%E6%98%93%E6%9C%8D%E5%8A%A1%E6%95%99%E7%A8%8B/">Linux简易服务教程</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            37 分钟 lesen (Über 5498 Wörter)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <blockquote>
<p>&#x8BFE;&#x7A0B;&#x8981;&#x6C42;</p>
</blockquote>
<ol>
<li>&#x5728;&#x4F01;&#x4E1A;&#x5185;&#x90E8;&#x642D;&#x5EFA;&#x4E00;&#x53F0;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;&#x5668;DNS&#x6B63;&#x53CD;&#x89E3;&#x6790;</li>
<li>&#x5728;&#x4F01;&#x4E1A;&#x5185;&#x90E8;&#x642D;&#x5EFA;&#x4E24;&#x53F0;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;&#x5668;&#x505A;DNS&#x4E3B;&#x8F85;&#x540C;&#x6B65;</li>
</ol>
<h3 id="DNS&#x670D;&#x52A1;"><a href="#DNS&#x670D;&#x52A1;" class="headerlink" title="DNS&#x670D;&#x52A1;"></a>DNS&#x670D;&#x52A1;</h3><p>&#x5168;&#x79F0;&#x662F;domain name server&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x6BCF;&#x4E2A;&#x8054;&#x7F51;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x90FD;&#x6709;&#x4E00;&#x4E2A;ip&#x5730;&#x5740;&#x5427;&#xFF1F;Ip&#x5730;&#x5740;&#x662F;&#x7528;&#x6765;&#x505A;&#x4EC0;&#x4E48;&#x7684;&#x5462;&#xFF1F;Ip&#x5730;&#x5740;&#x662F;&#x7528;&#x6765;&#x548C;&#x4E92;&#x8054;&#x7F51;&#x4E0A;&#x522B;&#x7684;&#x673A;&#x5668;&#x8FDB;&#x884C;&#x901A;&#x8BAF;&#x7684;&#x3002;&#x4F46;&#x662F;ip&#x5730;&#x5740;&#x5F88;&#x96BE;&#x8BB0;&#x5427;&#xFF1F;&#x4E00;&#x4E24;&#x4E2A;ip&#x5730;&#x5740;&#x53EF;&#x80FD;&#x8FD8;&#x597D;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x6BCF;&#x5929;&#x8981;&#x8BBF;&#x95EE;&#x7684;&#x7F51;&#x9875;&#x4E0D;&#x4EC5;&#x4EC5;&#x53EA;&#x6709;&#x4E00;&#x4E24;&#x4E2A;&#x5427;&#xFF1F;</p>
<p>&#x6211;&#x4EEC;&#x8BB0;&#x5F97;&#x90FD;&#x662F;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;<a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a>. <a href="http://www.sina.com&#x3002;&#x6211;&#x4EEC;&#x8BB0;&#x4F4F;&#x7684;&#x5176;&#x5B9E;&#x90FD;&#x662F;&#x5B57;&#x7B26;&#xFF0C;&#x90FD;&#x662F;&#x57DF;&#x540D;&#x3002;&#x5C31;&#x50CF;&#x6211;&#x4EEC;&#x7684;&#x7535;&#x8BDD;&#x53F7;&#x7801;&#xFF0C;&#x5F88;&#x96BE;&#x8BB0;&#xFF0C;&#x4E8E;&#x662F;&#x6211;&#x4EEC;&#x628A;&#x7535;&#x8BDD;&#x53F7;&#x7801;&#x5B58;&#x5230;&#x624B;&#x673A;&#x91CC;&#xFF0C;&#x7ED9;&#x4ED6;&#x8D77;&#x4E2A;&#x6635;&#x79F0;&#x6216;&#x8005;&#x76F4;&#x63A5;&#x8F93;&#x5165;&#x4EBA;&#x540D;&#x5BF9;&#x5427;&#xFF0C;&#x628A;&#x7535;&#x8BDD;&#x53F7;&#x7801;&#x5BF9;&#x5E94;&#x6210;&#x4EBA;&#x540D;&#x5427;&#xFF1F;&#x7136;&#x540E;&#x6253;&#x7535;&#x8BDD;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x76F4;&#x63A5;&#x627E;&#x5230;&#x8FD9;&#x4E2A;&#x4EBA;&#x540D;&#x5C31;&#x597D;&#x4E86;&#x3002;" target="_blank" rel="noopener">www.sina.com&#x3002;&#x6211;&#x4EEC;&#x8BB0;&#x4F4F;&#x7684;&#x5176;&#x5B9E;&#x90FD;&#x662F;&#x5B57;&#x7B26;&#xFF0C;&#x90FD;&#x662F;&#x57DF;&#x540D;&#x3002;&#x5C31;&#x50CF;&#x6211;&#x4EEC;&#x7684;&#x7535;&#x8BDD;&#x53F7;&#x7801;&#xFF0C;&#x5F88;&#x96BE;&#x8BB0;&#xFF0C;&#x4E8E;&#x662F;&#x6211;&#x4EEC;&#x628A;&#x7535;&#x8BDD;&#x53F7;&#x7801;&#x5B58;&#x5230;&#x624B;&#x673A;&#x91CC;&#xFF0C;&#x7ED9;&#x4ED6;&#x8D77;&#x4E2A;&#x6635;&#x79F0;&#x6216;&#x8005;&#x76F4;&#x63A5;&#x8F93;&#x5165;&#x4EBA;&#x540D;&#x5BF9;&#x5427;&#xFF0C;&#x628A;&#x7535;&#x8BDD;&#x53F7;&#x7801;&#x5BF9;&#x5E94;&#x6210;&#x4EBA;&#x540D;&#x5427;&#xFF1F;&#x7136;&#x540E;&#x6253;&#x7535;&#x8BDD;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x76F4;&#x63A5;&#x627E;&#x5230;&#x8FD9;&#x4E2A;&#x4EBA;&#x540D;&#x5C31;&#x597D;&#x4E86;&#x3002;</a></p>
<p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x7CFB;&#x7EDF;&#x4E5F;&#x662F;&#x4E00;&#x6837;&#xFF0C;&#x4F1A;&#x628A;ip&#x5730;&#x5740;&#x5BF9;&#x5E94;&#x6210;&#x4E00;&#x4E2A;&#x4E3B;&#x673A;&#x540D;&#x3002;&#x5728;&#x6211;&#x4EEC;&#x7CFB;&#x7EDF;&#x91CC;&#x6709;&#x8FD9;&#x4E48;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x5C31;&#x662F;&#x4E13;&#x95E8;&#x7528;&#x6765;&#x505A;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;&#x7684;&#xFF0C;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x53EB;<code>/etc/hosts/</code>&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6253;&#x5F00;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#xFF0C;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x4E00;&#x884C;&#xFF0C;&#x884C;&#x91CC;&#x9762;&#x5C31;&#x662F;&#x4E3B;&#x673A;&#x540D;&#x548C;ip&#x5730;&#x5740;&#xFF0C;&#x5F53;&#x7136;&#x4E00;&#x4E2A;ip&#x5730;&#x5740;&#x53EF;&#x4EE5;&#x5BF9;&#x5E94;&#x591A;&#x4E2A;&#x4E3B;&#x673A;&#x540D;&#xFF0C;&#x5C31;&#x50CF;&#x4EBA;&#x6709;&#x5F88;&#x591A;&#x7684;&#x6635;&#x79F0;&#x4E00;&#x6837;&#x3002;</p>
<p>&#x90A3;&#x4E48;&#x8FD9;&#x6837;&#x662F;&#x4E0D;&#x662F;&#x5C31;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x4E86;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x7F51;&#x7AD9;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x4E0D;&#x7528;&#x8F93;&#x5165;ip&#x5730;&#x5740;&#xFF0C;&#x800C;&#x662F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8F93;&#x5165;&#x4E3B;&#x673A;&#x540D;&#x5C31;&#x884C;&#x4E86;&#xFF0C;&#x673A;&#x5668;&#x4F1A;&#x5E2E;&#x6211;&#x4EEC;&#x505A;&#x4E00;&#x4E2A;&#x89E3;&#x6790;&#xFF0C;&#x628A;&#x4E3B;&#x673A;&#x540D;&#x5BF9;&#x5E94;&#x6210;ip&#x5730;&#x5740;&#x8FDB;&#x884C;&#x901A;&#x4FE1;&#x3002;&#x65E9;&#x671F;&#x8FD9;&#x6837;&#x505A;&#x7684;&#x786E;&#x6CA1;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x662F;&#x968F;&#x7740;&#x4E92;&#x8054;&#x7F51;&#x6108;&#x53D1;&#x7684;&#x58EE;&#x5927;&#xFF0C;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x5C31;&#x4E0D;&#x90A3;&#x4E48;&#x5B9E;&#x7528;&#x4E86;&#x3002;&#x6211;&#x4EEC;&#x8981;&#x5728;&#x673A;&#x5668;&#x4E0A;&#x914D;&#x7F6E;&#x5927;&#x91CF;&#x7684;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;&#xFF0C;&#x662F;&#x975E;&#x5E38;&#x8017;&#x65F6;&#xFF0C;&#x975E;&#x5E38;&#x9EBB;&#x70E6;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x8981;&#x914D;&#x7F6E;&#x7684;&#x673A;&#x5668;&#x53EF;&#x4E0D;&#x6B62;&#x4E00;&#x53F0;&#x3002;&#x6BD4;&#x5982;&#x8BF4;&#x6211;&#x662F;&#x767E;&#x5EA6;&#xFF0C;&#x6211;&#x5E0C;&#x671B;&#x4E16;&#x754C;&#x4E0A;&#x6240;&#x6709;&#x7684;&#x4EBA;&#x90FD;&#x8981;&#x6765;&#x8BBF;&#x95EE;&#x6211;&#x7684;&#x7F51;&#x9875;&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;&#x6211;&#x662F;&#x4E0D;&#x662F;&#x9700;&#x8981;&#x8BA9;&#x4E16;&#x754C;&#x4E0A;&#x6240;&#x6709;&#x7684;&#x4EBA;&#x90FD;&#x53BB;&#x6DFB;&#x52A0;&#x6211;&#x7684;ip&#x5730;&#x5740;&#x548C;&#x4E3B;&#x673A;&#x540D;&#x7684;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;&#x3002;&#x8FD9;&#x4E2A;&#x662F;&#x975E;&#x5E38;&#x96BE;&#x505A;&#x5230;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x5DE5;&#x4F5C;&#x91CF;&#x592A;&#x5927;&#x3002;&#x4E8E;&#x662F;&#x6211;&#x4EEC;&#x5C31;&#x5F15;&#x5165;&#x4E86;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x673A;&#x5236;&#x3002;</p>
<h3 id="DNS&#x7684;&#x5B9E;&#x73B0;&#x539F;&#x7406;"><a href="#DNS&#x7684;&#x5B9E;&#x73B0;&#x539F;&#x7406;" class="headerlink" title="DNS&#x7684;&#x5B9E;&#x73B0;&#x539F;&#x7406;"></a>DNS&#x7684;&#x5B9E;&#x73B0;&#x539F;&#x7406;</h3><p>&#x8FD9;&#x79CD;&#x673A;&#x5236;&#x7684;&#x4F5C;&#x7528;&#x548C;hosts&#x6587;&#x4EF6;&#x4E00;&#x6837;&#xFF0C;&#x4F46;&#x662F;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#x5374;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x8FD9;&#x4E2A;&#x673A;&#x5236;&#x5C31;&#x53EB;DNS (Domain name server)&#x3002;&#x901A;&#x8FC7;dns&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x5927;&#x6279;&#x91CF;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x7684;&#x95EE;&#x9898;&#x3002;&#x90A3;&#x5177;&#x4F53;&#x662F;&#x600E;&#x4E48;&#x5B9E;&#x73B0;&#x7684;&#x5462;&#xFF1F;&#x8FD9;&#x5C31;&#x662F;dns&#x7684;&#x7ED3;&#x6784;&#x65B9;&#x9762;&#x7684;&#x95EE;&#x9898;&#x4E86;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x8BF4;&#x6211;&#x4EEC;&#x7684;&#x7CFB;&#x7EDF;&#x662F;&#x4E00;&#x4E2A;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x5206;&#x5C42;&#x5F0F;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x8FD9;&#x4E2A;&#x7ED3;&#x6784;&#x7684;&#x4F53;&#x73B0;&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#x76EE;&#x5F55;&#x5427;&#xFF1F;&#x5BF9;&#x4E0D;&#x5BF9;&#x3002;Dns&#x4E5F;&#x662F;&#x5982;&#x6B64;&#xFF0C;&#x5B83;&#x4E5F;&#x91C7;&#x7528;&#x4E86;&#x5206;&#x5C42;&#x5E02;&#x7BA1;&#x7406;&#x7684;&#x65B9;&#x5F0F;&#x3002;</p>
<p>&#x4E0D;&#x8FC7;&#x4E0D;&#x540C;&#x4E8E;&#x76EE;&#x5F55;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x76EE;&#x5F55;&#x662F;&#x4E00;&#x4E2A;&#x903B;&#x8F91;&#x4E0A;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x7528;&#x6765;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x7406;&#x89E3;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x3002;&#x800C;dns&#xFF0C;&#x4ED6;&#x662F;&#x5B9E;&#x5B9E;&#x5728;&#x5728;&#x7684;&#x4E00;&#x79CD;&#x7BA1;&#x7406;&#x7ED3;&#x6784;&#x3002;</p>
<p>&#x90A3;&#x6211;&#x4EEC;&#x6765;&#x770B;&#xFF0C;&#x76EE;&#x5F55;&#x7684;&#x81F3;&#x9AD8;&#x70B9;&#x662F;&#x4EC0;&#x4E48;&#x3002;&#x662F;&#x6839;&#x5427;&#xFF0C;&#x5BF9;&#x4E0D;&#x5BF9;&#xFF0C;&#x90A3;&#x4E48;&#x5BF9;&#x4E8E;&#x6211;&#x4EEC;dns&#x6765;&#x8BF4;&#xFF0C;&#x65E2;&#x7136;&#x662F;&#x5206;&#x5C42;&#x5F0F;&#x7BA1;&#x7406;&#x7ED3;&#x6784;&#xFF0C;&#x5B83;&#x4E5F;&#x9700;&#x8981;&#x6709;&#x4E00;&#x4E2A;&#x81F3;&#x9AD8;&#x70B9;&#x5427;&#x3002;&#x8FD9;&#x4E2A;&#x81F3;&#x9AD8;&#x70B9;&#x662F;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;</p>
<p>&#x6211;&#x4EEC;&#x628A;&#x5B83;&#x79F0;&#x4F5C;&#x6839;&#x57DF;&#xFF0C;&#x4EE5;&#x70B9;&#x4EE3;&#x8868;&#x6839;&#x57DF;&#x3002;&#x5168;&#x4E16;&#x754C;&#x603B;&#x5171;&#x6709;13&#x53F0;&#x6839;&#x57DF;&#xFF0C;&#x662F;&#x5904;&#x4E8E;&#x81F3;&#x9AD8;&#x65E0;&#x4E0A;&#x7684;&#x4F4D;&#x7F6E;&#x7684;&#xFF0C;&#x53EA;&#x6709;13&#x53F0;&#x673A;&#x5668;&#x3002;</p>
<p>&#x90A3;&#x4E48;&#x6839;&#x57DF;&#x4E0B;&#x9762;&#x5C31;&#x662F;&#x9876;&#x7EA7;&#x57DF;&#x4E86;&#xFF0C;&#x901A;&#x5E38;&#x6211;&#x4EEC;&#x770B;&#x5230;&#x7684;&#x9876;&#x7EA7;&#x57DF;&#x6709;&#x8FD9;&#x4E2A;com&#x3002;&#x6709;org&#xFF0C;&#x6709;cn&#x8FD8;&#x6709;edu&#x7B49;&#x7B49;&#xFF0C;&#x8FD9;&#x4E9B;&#x90FD;&#x662F;&#x9876;&#x7EA7;&#x57DF;&#x3002;&#x9876;&#x7EA7;&#x57DF;&#x4E0B;&#x9762;&#x7BA1;&#x7406;&#x4E8C;&#x7EA7;&#x57DF;&#xFF0C;&#x4EE5;&#x6B64;&#x7C7B;&#x63A8;&#x3002;</p>
<p>FQDN&#xFF1A;&#x4E3B;&#x673A;&#x540D;&#x52A0;&#x4E0A;&#x57DF;&#x540D;&#xFF0C;&#x88AB;&#x79F0;&#x4F5C;&#x5B8C;&#x5168;&#x5408;&#x683C;&#x7684;&#x57DF;&#x540D;&#xFF0C;fqdn&#x3002;&#x5176;&#x5B9E;com&#x540E;&#x9762;&#x5E94;&#x8BE5;&#x6709;&#x4E2A;&#x70B9;&#x7684;&#xFF0C;&#x4EE3;&#x8868;&#x6839;&#x57DF;&#x3002;&#x53EA;&#x4E0D;&#x8FC7;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x4E60;&#x60EF;&#x6027;&#x7684;&#x5C06;&#x5176;&#x7701;&#x7565;&#x4E86;&#x3002;&#x5C31;&#x597D;&#x50CF;&#x56FD;&#x5BB6;&#x7BA1;&#x7406;&#x7701;&#xFF0C;&#x7701;&#x7BA1;&#x7406;&#x5E02;&#xFF0C;&#x5E02;&#x7BA1;&#x7406;&#x53BF;&#x7B49;&#x7B49;</p>
<p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x5B8C;&#x6574;&#x7684;&#x57DF;&#x540D;	www.baidu.com.</span><br><span class="line">.	&#x6839;&#x57DF;	&#x5168;&#x7403;&#x4E00;&#x5171;13&#x4E2A;&#x6839;&#x57DF;</span><br><span class="line">.com	&#x8D85;&#x7EA7;&#x57DF;&#xFF0C;&#x4E00;&#x7EA7;&#x57DF;</span><br><span class="line">.baidu	&#x4E8C;&#x7EA7;&#x57DF;</span><br><span class="line">www	&#x4E3B;&#x673A;&#x540D;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<blockquote>
<p>&#x4E3E;&#x4F8B;&#xFF1A;&#x5BFB;&#x627E;&#x65B0;&#x6D6A;&#x7684;&#x65B9;&#x5F0F;&#x3002;</p>
</blockquote>
</blockquote>
<ol>
<li>&#x5148;&#x770B;&#x672C;&#x5730;<code>/etc/hosts</code>&#x6709;&#x6CA1;&#x6709;&#x8BB0;&#x5F55;&#x3002;</li>
<li>&#x627E;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x4EBA;&#x95EE;&#xFF0C;&#x2013;&gt;&#x627E;DNS&#x670D;&#x52A1;&#x5668;&#x53BB;&#x95EE;&#x3002; &#x5728;<code>/etc/resolv.conf</code>&#x6587;&#x4EF6;&#x4E2D;&#x6307;&#x5B9A;&#x4E86;&#x627E;&#x8C01;&#x53BB;&#x95EE;&#x3002;</li>
</ol>
<p>&#x5F53;&#x7136;&#xFF0C;&#x8FD9;&#x5148;&#x540E;&#x987A;&#x5E8F;&#x4E5F;&#x662F;&#x7531;&#x67D0;&#x4E2A;&#x6587;&#x4EF6;&#x51B3;&#x5B9A;&#x7684;&#x3002;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x662F;<code>/etc/nsswitch.conf</code>.</p>
<p>Windows&#x4E0A;&#x9762;&#x4E5F;&#x6709;</p>
<p>&#x7F51;&#x4E0A;&#x90BB;&#x5C45;&gt;&#x5C5E;&#x6027;&gt;&#x672C;&#x5730;&#x8FDE;&#x63A5;&#x3002;</p>
<p><strong>DNS&#x7684;&#x4E24;&#x79CD;&#x67E5;&#x8BE2;&#x65B9;&#x5F0F;</strong> &#x5BF9;&#x4E8E;DNS&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4ED6;&#x53EF;&#x80FD;&#x77E5;&#x9053;&#x4E5F;&#x53EF;&#x80FD;&#x4E0D;&#x77E5;&#x9053;&#xFF0C;</p>
<p>&#x77E5;&#x9053;&#x7684;&#x60C5;&#x51B5;&#x6709;&#x4E24;&#x79CD;&#xFF1A;</p>
<ol>
<li>&#x672C;&#x5730;&#x6709;&#x8FD9;&#x4E2A;&#x57DF;&#xFF0C;&#x80FD;&#x591F;&#x89E3;&#x6790;&#x5230;</li>
<li>&#x672C;&#x5730;&#x6709;&#x7F13;&#x5B58;&#xFF0C;&#x5176;&#x4ED6;&#x4EBA;&#x5DF2;&#x7ECF;&#x6765;&#x95EE;&#x8FC7;sina&#x662F;&#x8C01;&#xFF0C;&#x90A3;&#x4E48;DNS&#x670D;&#x52A1;&#x5668;&#x53EF;&#x4EE5;&#x5C06;&#x8BE5;&#x7ED3;&#x679C;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x7ED9;&#x5BA2;&#x6237;&#x3002;</li>
</ol>
<p>&#x4E0D;&#x77E5;&#x9053;&#x7684;&#x8BDD;&#x5C31;&#x4F1A;&#x53BB;&#x627E;&#x81EA;&#x5DF1;&#x7684;&#x4E0A;&#x7EA7;&#x57DF;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;&#x7B49;&#x5F85;&#x4E0A;&#x7EA7;&#x57DF;&#x7684;&#x53CD;&#x9988;&#xFF0C;&#x5C06;&#x53CD;&#x9988;&#x4FE1;&#x606F;&#x8FD4;&#x56DE;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x53EB;&#x505A;&#x9012;&#x5F52;&#x67E5;&#x8BE2;&#x3002;</p>
<p>&#x90A3;&#x4E48;&#x8FD8;&#x6709;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x5C31;&#x662F;&#xFF0C;DNS&#x53BB;&#x8BE2;&#x95EE;&#x4E0A;&#x7EA7;&#x57DF;&#xFF0C;&#x7136;&#x540E;&#x4E0A;&#x7EA7;&#x57DF;&#x5C06;&#x5BF9;&#x5E94;&#x7684;&#x540C;&#x7EA7;DNS&#x670D;&#x52A1;&#x5668;&#x53CD;&#x9988;&#x56DE;&#x6765;&#xFF0C;&#x7531;&#x5BA2;&#x6237;&#x7AEF;&#x53BB;&#x8BE2;&#x95EE;&#x65B0;&#x7684;DNS&#x670D;&#x52A1;&#x5668;&#x6765;&#x627E;&#x5BFB;&#x7F51;&#x201D;&#x201D;&#x5740;&#x5BF9;&#x5E94;&#x7684;IP&#x5730;&#x5740;&#x3002;&#x8FD9;&#x79CD;&#x53EB;&#x505A;&#x8FED;&#x4EE3;&#x67E5;&#x8BE2;</p>
<p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">www.sina.com.</span><br><span class="line">1)&#x627E;&#x6839;&#x57DF;.</span><br><span class="line">2)&#x627E;&#x8D85;&#x7EA7;&#x57DF;.com</span><br><span class="line">3)&#x627E;&#x4E8C;&#x7EA7;&#x57DF;.sina</span><br><span class="line">4)&#x6210;&#x529F;&#x627E;&#x5230;www</span><br></pre></td></tr></table></figure></p>
<h3 id="&#x5B9E;&#x6218;&#x9879;&#x76EE;1-&#x5728;&#x4F01;&#x4E1A;&#x5185;&#x90E8;&#x642D;&#x5EFA;&#x4E00;&#x53F0;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;&#x5668;DNS&#x6B63;&#x53CD;&#x89E3;&#x6790;"><a href="#&#x5B9E;&#x6218;&#x9879;&#x76EE;1-&#x5728;&#x4F01;&#x4E1A;&#x5185;&#x90E8;&#x642D;&#x5EFA;&#x4E00;&#x53F0;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;&#x5668;DNS&#x6B63;&#x53CD;&#x89E3;&#x6790;" class="headerlink" title="&#x5B9E;&#x6218;&#x9879;&#x76EE;1:&#x5728;&#x4F01;&#x4E1A;&#x5185;&#x90E8;&#x642D;&#x5EFA;&#x4E00;&#x53F0;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;&#x5668;DNS&#x6B63;&#x53CD;&#x89E3;&#x6790;"></a>&#x5B9E;&#x6218;&#x9879;&#x76EE;1:&#x5728;&#x4F01;&#x4E1A;&#x5185;&#x90E8;&#x642D;&#x5EFA;&#x4E00;&#x53F0;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;&#x5668;DNS&#x6B63;&#x53CD;&#x89E3;&#x6790;</h3><blockquote>
<p>1)&#x5728;rhel6&#x4E0A;&#x914D;&#x7F6E;dns&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;&#xFF0C;&#x89E3;&#x6790;uplooking.com&#x57DF;&#x540D;&#xFF0C;&#x8981;&#x6C42;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">        NS      @</span><br><span class="line">        A       172.25.0.11</span><br><span class="line">www     A       172.25.0.10</span><br><span class="line">        MX 5    mail</span><br><span class="line">mail    A       172.25.0.10</span><br><span class="line">ftp     A       172.25.0.10</span><br><span class="line">bbs	CNAME	ftp</span><br></pre></td></tr></table></figure><br>2)&#x914D;&#x7F6E;&#x53CD;&#x5411;&#x89E3;&#x6790;172.25.0.10&#x548C;172.25.0.11&#xFF1B;</p>
</blockquote>
<blockquote>
<p>3)&#x8981;&#x6C42;rhel6&#x548C;rhel7&#x8FD9;&#x4E24;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x7684;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;&#x5668;&#x4E3A;172.25.0.11&#x8FD9;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x3002;</p>
</blockquote>
<h4 id="&#x5B9E;&#x9A8C;&#x51C6;&#x5907;&#x9636;&#x6BB5;"><a href="#&#x5B9E;&#x9A8C;&#x51C6;&#x5907;&#x9636;&#x6BB5;" class="headerlink" title="&#x5B9E;&#x9A8C;&#x51C6;&#x5907;&#x9636;&#x6BB5;"></a>&#x5B9E;&#x9A8C;&#x51C6;&#x5907;&#x9636;&#x6BB5;</h4><ol>
<li>&#x753B;&#x51FA;&#x7F51;&#x7EDC;&#x62D3;&#x6251;&#x56FE;</li>
<li>&#x89C4;&#x5212;&#x4E0D;&#x540C;&#x670D;&#x52A1;&#x5668;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x7684;&#x8F6F;&#x4EF6;(os&#x2013;soft&#x7248;&#x672C;)</li>
<li>&#x5F00;&#x59CB;&#x5B89;&#x88C5;</li>
<li>&#x914D;&#x7F6E;&#x670D;&#x52A1;</li>
<li>&#x542F;&#x52A8;&#x670D;&#x52A1;</li>
<li>&#x6D4B;&#x8BD5;&#x6392;&#x9519;</li>
</ol>
<blockquote>
<p>&#x8BE6;&#x7EC6;&#x6B65;&#x9AA4;&#x6982;&#x89C8;</p>
</blockquote>
<table>
<thead>
<tr>
<th align="left">num</th>
<th align="left">step</th>
<th align="left">man</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1)</td>
<td align="left">&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;</td>
<td align="left">bind bind-chroot</td>
</tr>
<tr>
<td align="left">2)</td>
<td align="left">&#x67E5;&#x770B;&#x8F6F;&#x4EF6;&#x67B6;&#x6784;</td>
<td align="left">rpm -ql</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">&#x65E5;&#x5FD7;</td>
<td align="left">/var/log/named.log</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">&#x6570;&#x636E;</td>
<td align="left">/var/named/</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">&#x914D;&#x7F6E;</td>
<td align="left">/etc/named.conf</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">/etc/named.rfc1912.zones</td>
</tr>
<tr>
<td align="left">3)</td>
<td align="left">&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">4)</td>
<td align="left">&#x542F;&#x52A8;&#x670D;&#x52A1;</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left">service</td>
<td align="left">named</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">daemon</td>
<td align="left">named</td>
</tr>
<tr>
<td align="left">4.1&#xFF09;</td>
<td align="left">&#x6392;&#x9664;&#x9519;&#x8BEF;</td>
<td align="left">&#x770B;&#x65E5;&#x5FD7;</td>
</tr>
<tr>
<td align="left">5)</td>
<td align="left">&#x6D4B;&#x8BD5;</td>
<td align="left">nslookup</td>
</tr>
<tr>
<td align="left">5.1&#xFF09;</td>
<td align="left">&#x6392;&#x9519;</td>
<td align="left">&#x770B;&#x65E5;&#x5FD7;</td>
</tr>
</tbody></table>
<blockquote>
<p>&#x7F51;&#x7EDC;&#x62D3;&#x6251;&#x56FE;</p>
</blockquote>
<p><img src="/2016/12/23/booboo_easy_service/01_dns/12.png" alt="12"></p>
<blockquote>
<p>&#x89C4;&#x5212;&#x670D;&#x52A1;&#x5668;&#x8F6F;&#x4EF6;</p>
</blockquote>
<p><img src="/2016/12/23/booboo_easy_service/01_dns/11.png" alt="11"></p>
<blockquote>
<p>&#x5F00;&#x59CB;&#x5B89;&#x88C5;</p>
</blockquote>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ~]# yum install -y bind bind-chroot</span><br><span class="line">Loaded plugins: product-id, refresh-packagekit, security, subscription-manager</span><br><span class="line">This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.</span><br><span class="line">server                                                   | 3.9 kB     00:00     </span><br><span class="line">Setting up Install Process</span><br><span class="line">Resolving Dependencies</span><br><span class="line"><span class="hljs-meta">--&gt;</span><span class="hljs-bash"> Running transaction check</span></span><br><span class="line"><span class="hljs-meta">---&gt;</span><span class="hljs-bash"> Package bind.x86_64 32:9.8.2-0.17.rc1.el6_4.6 will be installed</span></span><br><span class="line"><span class="hljs-meta">---&gt;</span><span class="hljs-bash"> Package <span class="hljs-built_in">bind</span>-chroot.x86_64 32:9.8.2-0.17.rc1.el6_4.6 will be installed</span></span><br><span class="line"><span class="hljs-meta">--&gt;</span><span class="hljs-bash"> Finished Dependency Resolution</span></span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">================================================================================</span><br><span class="line"> Package          Arch        Version                         Repository   Size</span><br><span class="line">================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> bind             x86_64      32:9.8.2-0.17.rc1.el6_4.6       server      4.0 M</span><br><span class="line"> bind-chroot      x86_64      32:9.8.2-0.17.rc1.el6_4.6       server       71 k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">================================================================================</span><br><span class="line">Install       2 Package(s)</span><br><span class="line"></span><br><span class="line">Total download size: 4.0 M</span><br><span class="line">Installed size: 7.3 M</span><br><span class="line">Downloading Packages:</span><br><span class="line">(1/2): bind-9.8.2-0.17.rc1.el6_4.6.x86_64.rpm            | 4.0 MB     00:00     </span><br><span class="line">(2/2): bind-chroot-9.8.2-0.17.rc1.el6_4.6.x86_64.rpm     |  71 kB     00:00     </span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">Total                                            23 MB/s | 4.0 MB     00:00     </span><br><span class="line">Running rpm_check_debug</span><br><span class="line">Running Transaction Test</span><br><span class="line">Transaction Test Succeeded</span><br><span class="line">Running Transaction</span><br><span class="line">  Installing : 32:bind-9.8.2-0.17.rc1.el6_4.6.x86_64                        1/2</span><br><span class="line">  Installing : 32:bind-chroot-9.8.2-0.17.rc1.el6_4.6.x86_64                 2/2</span><br><span class="line">  Verifying  : 32:bind-9.8.2-0.17.rc1.el6_4.6.x86_64                        1/2</span><br><span class="line">  Verifying  : 32:bind-chroot-9.8.2-0.17.rc1.el6_4.6.x86_64                 2/2</span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  bind.x86_64 32:9.8.2-0.17.rc1.el6_4.6                                         </span><br><span class="line">  bind-chroot.x86_64 32:9.8.2-0.17.rc1.el6_4.6                                  </span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line">[root@rhel6 ~]# rpm -ql bind</span><br><span class="line">/etc/NetworkManager/dispatcher.d/13-named</span><br><span class="line">/etc/logrotate.d/named</span><br><span class="line">/etc/named</span><br><span class="line">/etc/named.conf</span><br><span class="line">/etc/named.iscdlv.key</span><br><span class="line">/etc/named.rfc1912.zones</span><br><span class="line">/etc/named.root.key</span><br><span class="line">/etc/portreserve/named</span><br><span class="line">/etc/rc.d/init.d/named</span><br><span class="line">/etc/rndc.conf</span><br><span class="line">/etc/rndc.key</span><br><span class="line">/etc/sysconfig/named</span><br><span class="line">/usr/lib64/bind</span><br><span class="line">/usr/sbin/arpaname</span><br><span class="line">/usr/sbin/ddns-confgen</span><br><span class="line">/usr/sbin/dnssec-dsfromkey</span><br><span class="line">/usr/sbin/dnssec-keyfromlabel</span><br><span class="line">/usr/sbin/dnssec-keygen</span><br><span class="line">/usr/sbin/dnssec-revoke</span><br><span class="line">/usr/sbin/dnssec-settime</span><br><span class="line">/usr/sbin/dnssec-signzone</span><br><span class="line">/usr/sbin/genrandom</span><br><span class="line">/usr/sbin/isc-hmac-fixup</span><br><span class="line">/usr/sbin/lwresd</span><br><span class="line">/usr/sbin/named</span><br><span class="line">/usr/sbin/named-checkconf</span><br><span class="line">/usr/sbin/named-checkzone</span><br><span class="line">/usr/sbin/named-compilezone</span><br><span class="line">/usr/sbin/named-journalprint</span><br><span class="line">/usr/sbin/nsec3hash</span><br><span class="line">/usr/sbin/rndc</span><br><span class="line">/usr/sbin/rndc-confgen</span><br><span class="line">/usr/share/doc/bind-9.8.2</span><br><span class="line">... ...</span><br><span class="line">/var/log/named.log</span><br><span class="line">/var/named</span><br><span class="line">/var/named/data</span><br><span class="line">/var/named/dynamic</span><br><span class="line">/var/named/named.ca</span><br><span class="line">/var/named/named.empty</span><br><span class="line">/var/named/named.localhost</span><br><span class="line">/var/named/named.loopback</span><br><span class="line">/var/named/slaves</span><br><span class="line">/var/run/named</span><br><span class="line">[root@rhel6 ~]# rpm -ql bind-chroot</span><br><span class="line">/var/named/chroot</span><br><span class="line">/var/named/chroot/dev</span><br><span class="line">/var/named/chroot/dev/null</span><br><span class="line">/var/named/chroot/dev/random</span><br><span class="line">/var/named/chroot/dev/zero</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p>
</blockquote>
<blockquote>
<blockquote>
<p>/etc/named.conf<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">listen-on port 53 { any; };</span><br><span class="line">listen-on-v6 port 53 { any; };</span><br><span class="line">directory 	&quot;/var/named&quot;;</span><br><span class="line">dump-file 	&quot;/var/named/data/cache_dump.db&quot;;</span><br><span class="line">       statistics-file &quot;/var/named/data/named_stats.txt&quot;;</span><br><span class="line">       memstatistics-file &quot;/var/named/data/named_mem_stats.txt&quot;;</span><br><span class="line">allow-query     { any; };</span><br></pre></td></tr></table></figure></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>/etc/named.rfc1912.zones</p>
</blockquote>
</blockquote>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x6B63;&#x89E3;&#x6790;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x57DF;&#x540D;--&gt;ip</span></span><br><span class="line">zone &quot;uplooking.com&quot; IN {</span><br><span class="line">        type master;</span><br><span class="line">        file &quot;named.uplooking&quot;;</span><br><span class="line">        allow-update { none; };</span><br><span class="line">};</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x53CD;&#x89E3;&#x6790;</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> ip---&gt;&#x57DF;&#x540D;</span></span><br><span class="line">zone &quot;0.25.172.in-addr.arpa&quot; IN {</span><br><span class="line">        type master;</span><br><span class="line">        file &quot;named.arpa.uplooking&quot;;</span><br><span class="line">        allow-update { none; };</span><br><span class="line">};</span><br></pre></td></tr></table></figure></p>
<blockquote>
<blockquote>
<p>/var/named/named.uplooking</p>
</blockquote>
</blockquote>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">$</span><span class="hljs-bash">TTL 1D</span></span><br><span class="line">@       IN SOA  @ rname.invalid. (</span><br><span class="line">                                        0       ; serial</span><br><span class="line">                                        1D      ; refresh</span><br><span class="line">                                        1H      ; retry</span><br><span class="line">                                        1W      ; expire</span><br><span class="line">	                                       3H )    ; minimum</span><br><span class="line">&#x4E3B;&#x673A;&#x540D;	&#x4E3B;&#x8981;&#x8BB0;&#x5F55;	ip</span><br><span class="line">        NS      @</span><br><span class="line">        A       172.25.0.11</span><br><span class="line">www     A       172.25.0.10</span><br><span class="line">        MX 5    mail</span><br><span class="line">mail    A       172.25.0.10</span><br><span class="line">ftp     A       172.25.0.10</span><br><span class="line">bbs	CNAME	ftp</span><br></pre></td></tr></table></figure><br><strong>&#x6CE8;&#x610F;</strong> &#x6587;&#x4EF6;&#x7684;&#x6240;&#x5C5E;&#x8005;&#x548C;&#x6240;&#x5C5E;&#x7EC4;&#x4EE5;&#x53CA;&#x6587;&#x4EF6;&#x7684;ugo&#x6743;&#x9650;</p>
<blockquote>
<blockquote>
<p>named.arpa.uplooking</p>
</blockquote>
</blockquote>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">$</span><span class="hljs-bash">TTL 1D</span></span><br><span class="line">@       IN SOA  @ rname.invalid. (</span><br><span class="line">                                        0       ; serial</span><br><span class="line">                                        1D      ; refresh</span><br><span class="line">                                        1H      ; retry</span><br><span class="line">                                        1W      ; expire</span><br><span class="line">                                        3H )    ; minimum</span><br><span class="line">        NS      uplooking.com.</span><br><span class="line">11      PTR     uplooking.com.</span><br><span class="line">10      PTR     www.uplooking.com.</span><br><span class="line">10      PTR     mail.uplooking.com.</span><br><span class="line">10      PTR     ftp.uplooking.com.</span><br><span class="line">10      PTR     bbs.uplooking.com.</span><br></pre></td></tr></table></figure><br><strong>&#x6CE8;&#x610F;&#xFF1A;</strong>    NS&#x540E;&#x9762;&#x6B64;&#x65F6;&#x4E00;&#x5B9A;&#x8981;&#x5C06;@&#x6362;&#x6210;&#x57DF;&#x540D;uplooking.com.&#x57DF;&#x540D;&#x5FC5;&#x987B;&#x5199;&#x5B8C;&#x6574;&#x7684;&#x57DF;&#x540D;&#xFF0C;&#x5E26;&#x6839;&#x57DF;&#x7684;</p>
<blockquote>
<p>&#x670D;&#x52A1;&#x7684;&#x542F;&#x52A8;</p>
</blockquote>
<ul>
<li>rhel6    <code>service named start</code></li>
<li>rhel7    <code>systemctl start named</code></li>
</ul>
<blockquote>
<p>&#x9632;&#x706B;&#x5899;&#x7684;&#x5173;&#x95ED;</p>
</blockquote>
<ul>
<li>rhel6    <code>service iptables stop</code></li>
<li>rhel7    <code>systemctl stop firewalld</code></li>
</ul>
<p><strong>&#x5982;&#x679C;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E0D;&#x4E86;</strong> &#x90A3;&#x4E48;&#x5C1D;&#x8BD5;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x8BED;&#x53E5;<code>rndc-confgen -a -r /etc/named.conf</code></p>
<blockquote>
<p>&#x6D4B;&#x8BD5;</p>
</blockquote>
<ol>
<li><code>/etc/hosts</code>        &#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#x624B;&#x52A8;&#x5199;</li>
<li><code>/etc/resolv.conf</code>&#x2014;-&#x300B;&#x6307;&#x5B9A;&#x627E;&#x54EA;&#x4E2A;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;&#x5668;<code>nameserver 172.25.0.11</code></li>
<li>&#x901A;&#x8FC7;<code>nslookup</code>&#x547D;&#x4EE4;</li>
</ol>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[root@rhel6 named]# nslookup</span><br><span class="line"><span class="hljs-meta">&gt;</span><span class="hljs-bash"> www.uplooking.com</span></span><br><span class="line">Server:		172.25.0.11</span><br><span class="line">Address:	172.25.0.11#53</span><br><span class="line"></span><br><span class="line">Name:	www.uplooking.com</span><br><span class="line">Address: 172.25.0.10</span><br><span class="line"><span class="hljs-meta">&gt;</span><span class="hljs-bash"> mail.uplooking.com</span></span><br><span class="line">Server:		172.25.0.11</span><br><span class="line">Address:	172.25.0.11#53</span><br><span class="line"></span><br><span class="line">Name:	mail.uplooking.com</span><br><span class="line">Address: 172.25.0.10</span><br><span class="line"><span class="hljs-meta">&gt;</span><span class="hljs-bash"> ftp.uplooking.com</span></span><br><span class="line">Server:		172.25.0.11</span><br><span class="line">Address:	172.25.0.11#53</span><br><span class="line"></span><br><span class="line">Name:	ftp.uplooking.com</span><br><span class="line">Address: 172.25.0.10</span><br><span class="line"><span class="hljs-meta">&gt;</span><span class="hljs-bash"> uplooking.com</span></span><br><span class="line">Server:		172.25.0.11</span><br><span class="line">Address:	172.25.0.11#53</span><br><span class="line"></span><br><span class="line">Name:	uplooking.com</span><br><span class="line">Address: 172.25.0.11</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">&gt;</span><span class="hljs-bash"> bbs.uplooking.com</span></span><br><span class="line">Server:		172.25.0.11</span><br><span class="line">Address:	172.25.0.11#53</span><br><span class="line"></span><br><span class="line">bbs.uplooking.com	canonical name = ftp.uplooking.com.</span><br><span class="line">Name:	ftp.uplooking.com</span><br><span class="line">Address: 172.25.0.10</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">&gt;</span><span class="hljs-bash"> 172.25.0.10</span></span><br><span class="line">Server:		172.25.0.11</span><br><span class="line">Address:	172.25.0.11#53</span><br><span class="line"></span><br><span class="line">10.0.25.172.in-addr.arpa	name = bbs.uplooking.com.</span><br><span class="line">10.0.25.172.in-addr.arpa	name = www.uplooking.com.</span><br><span class="line">10.0.25.172.in-addr.arpa	name = mail.uplooking.com.</span><br><span class="line">10.0.25.172.in-addr.arpa	name = ftp.uplooking.com.</span><br><span class="line"><span class="hljs-meta">&gt;</span><span class="hljs-bash"> 172.25.0.11</span></span><br><span class="line">Server:		172.25.0.11</span><br><span class="line">Address:	172.25.0.11#53</span><br><span class="line"></span><br><span class="line">11.0.25.172.in-addr.arpa	name = uplooking.com.</span><br><span class="line"><span class="hljs-meta">&gt;</span><span class="hljs-bash"> <span class="hljs-built_in">exit</span></span></span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="&#x5B9E;&#x6218;&#x9879;&#x76EE;2-&#x5728;&#x4F01;&#x4E1A;&#x5185;&#x90E8;&#x642D;&#x5EFA;&#x4E24;&#x53F0;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;&#x5668;&#x505A;DNS&#x4E3B;&#x8F85;&#x540C;&#x6B65;"><a href="#&#x5B9E;&#x6218;&#x9879;&#x76EE;2-&#x5728;&#x4F01;&#x4E1A;&#x5185;&#x90E8;&#x642D;&#x5EFA;&#x4E24;&#x53F0;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;&#x5668;&#x505A;DNS&#x4E3B;&#x8F85;&#x540C;&#x6B65;" class="headerlink" title="&#x5B9E;&#x6218;&#x9879;&#x76EE;2:&#x5728;&#x4F01;&#x4E1A;&#x5185;&#x90E8;&#x642D;&#x5EFA;&#x4E24;&#x53F0;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;&#x5668;&#x505A;DNS&#x4E3B;&#x8F85;&#x540C;&#x6B65;"></a>&#x5B9E;&#x6218;&#x9879;&#x76EE;2:&#x5728;&#x4F01;&#x4E1A;&#x5185;&#x90E8;&#x642D;&#x5EFA;&#x4E24;&#x53F0;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;&#x5668;&#x505A;DNS&#x4E3B;&#x8F85;&#x540C;&#x6B65;</h3><p>&#x4E3B;&#x8F85;&#x540C;&#x6B65;&#xFF1A;&#x5982;&#x679C;&#x6709;&#x6570;&#x4E07;&#x53F0;&#x5BA2;&#x6237;&#x673A;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x6765;&#x8BBF;&#x95EE;DNS&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x670D;&#x52A1;&#x5668;&#x627F;&#x53D7;&#x5F88;&#x5927;&#x7684;&#x538B;&#x529B;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x4EBA;&#x6765;&#x5E2E;&#x6211;&#x5206;&#x62C5;&#x538B;&#x529B;&#xFF0C;&#x6216;&#x8005;&#x8BF4;&#x5982;&#x679C;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x9047;&#x5230;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x80FD;&#x6709;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x4EBA;&#x76F4;&#x63A5;&#x9876;&#x4E0A;&#x6211;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x53EF;&#x4EE5;&#x7528;&#x5230;&#x4E00;&#x4E2A;&#x8F85;&#x52A9;&#x670D;&#x52A1;&#x5668;&#x4E86;&#x3002;</p>
<p>&#x90A3;&#x4E48;&#x5F88;&#x663E;&#x7136;&#xFF0C;&#x8F85;&#x52A9;&#x670D;&#x52A1;&#x5668;&#x9700;&#x8981;&#x548C;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x7528;&#x4E00;&#x6837;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x914D;&#x7F6E;&#x91CC;&#x5199;&#x7684;&#x6570;&#x636E;&#x4E5F;&#x57FA;&#x672C;&#x76F8;&#x540C;&#x3002;&#x5BF9;&#x4E8E;&#x6211;&#x4EEC;DNS&#x670D;&#x52A1;&#x5668;&#x6765;&#x8BF4;&#xFF0C;&#x5176;&#x5B9E;&#x5B83;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x5E76;&#x4E0D;&#x56FA;&#x5B9A;&#xFF0C;&#x5BF9;&#x5E94;&#x7684;IP&#x548C;&#x4E3B;&#x673A;&#x540D;&#x90FD;&#x53EF;&#x80FD;&#x4F1A;&#x7ECF;&#x5E38;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x90A3;&#x4E48;&#x5F53;&#x90A3;&#x4E2A;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x5E0C;&#x671B;&#x80FD;&#x591F;&#x4FEE;&#x6539;&#x4E3B;&#x673A;&#x4E0A;&#x7684;&#x67D0;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4ECE;&#x673A;&#x4E0A;&#x7684;&#x6587;&#x4EF6;&#x4E5F;&#x80FD;&#x591F;&#x88AB;&#x81EA;&#x52A8;&#x88AB;&#x4FEE;&#x6539;&#xFF0C;&#x4FDD;&#x6301;&#x4E24;&#x53F0;&#x673A;&#x5668;&#x5B8C;&#x5168;&#x540C;&#x6B65;&#x4E00;&#x81F4;&#x3002;</p>
<p>&#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x6709;&#x4E86;&#x4E00;&#x79CD;&#x914D;&#x7F6E;&#x65B9;&#x6CD5;&#xFF0C;&#x53EB;&#x505A;&#x4E3B;&#x8F85;&#x540C;&#x6B65;&#x3002;</p>
<h4 id="&#x5B9E;&#x9A8C;&#x51C6;&#x5907;&#x9636;&#x6BB5;-1"><a href="#&#x5B9E;&#x9A8C;&#x51C6;&#x5907;&#x9636;&#x6BB5;-1" class="headerlink" title="&#x5B9E;&#x9A8C;&#x51C6;&#x5907;&#x9636;&#x6BB5;"></a>&#x5B9E;&#x9A8C;&#x51C6;&#x5907;&#x9636;&#x6BB5;</h4><ol>
<li>&#x7F51;&#x7EDC;&#x62D3;&#x6251;&#x56FE;</li>
<li>&#x89C4;&#x5212;&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;bind bind-chroot</li>
<li>&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#&#x4E3B;&#x670D;&#x52A1;&#x5668;	/etc/named.rfc1912.zones	&#x5141;&#x8BB8;&#x4F20;&#x8F93;&#x7ED9;&#x4ECE;&#x673A;</span><br><span class="line">		/var/named/named.uplooking	&#x5E8F;&#x5217;&#x53F7;&#x4ECE;0&#x6539;&#x6210;&#x65E5;&#x671F;</span><br><span class="line">		/var/named/named.arpa.uplooking &#x5E8F;&#x5217;&#x53F7;&#x4ECE;0&#x6539;&#x6210;&#x65E5;&#x671F;</span><br><span class="line">#&#x4ECE;&#x670D;&#x52A1;&#x5668;	/etc/named.conf			any</span><br><span class="line">		/etc/named.rfc1912.zones	slave;masters;file</span><br></pre></td></tr></table></figure></li>
<li>&#x542F;&#x52A8;&#x4ECE;&#x673A;&#x670D;&#x52A1;</li>
<li>&#x67E5;&#x770B;&#x4ECE;&#x673A;&#x7F13;&#x51B2;/var/named/slaves/</li>
<li>&#x6CE8;&#x610F;&#x9632;&#x706B;&#x5899;&#x5173;&#x95ED;</li>
<li>&#x5BA2;&#x6237;&#x7AEF;&#x6D4B;&#x8BD5;&#x670D;&#x52A1;        </li>
</ol>
<h4 id="&#x5177;&#x4F53;&#x6B65;&#x9AA4;"><a href="#&#x5177;&#x4F53;&#x6B65;&#x9AA4;" class="headerlink" title="&#x5177;&#x4F53;&#x6B65;&#x9AA4;"></a>&#x5177;&#x4F53;&#x6B65;&#x9AA4;</h4><blockquote>
<p>&#x7F51;&#x7EDC;&#x62D3;&#x6251;&#x56FE;</p>
</blockquote>
<p><img src="/2016/12/23/booboo_easy_service/01_dns/14.png" alt="14"></p>
<blockquote>
<p>&#x89C4;&#x5212;&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;</p>
</blockquote>
<p><img src="/2016/12/23/booboo_easy_service/01_dns/13.png" alt="13"></p>
<blockquote>
<p>&#x4E3B;&#x670D;&#x52A1;&#x5668;&#xFF1A;</p>
</blockquote>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 named]# vim /etc/named.rfc1912.zones</span><br><span class="line">zone &quot;uplooking.com&quot; IN {</span><br><span class="line">        type master;</span><br><span class="line">        file &quot;named.uplooking&quot;;</span><br><span class="line">        allow-update { none; };</span><br><span class="line">        allow-transfer { 172.25.0.10; };    	===&gt;&#x5141;&#x8BB8;&#x4ECE;&#x673A;172.25.0.10&#x6765;&#x8BFB;&#x53D6;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">zone &quot;0.25.172.in-addr.arpa&quot; IN {</span><br><span class="line">        type master;</span><br><span class="line">        file &quot;named.arpa.uplooking&quot;;</span><br><span class="line">        allow-update { none; };</span><br><span class="line">        allow-transfer { 172.25.0.10; };	===&gt;&#x5141;&#x8BB8;&#x4ECE;&#x673A;172.25.0.10&#x6765;&#x8BFB;&#x53D6;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">[root@rhel6 named]# pwd</span><br><span class="line">/var/named</span><br><span class="line">[root@rhel6 named]# ll</span><br><span class="line">total 40</span><br><span class="line">drwxr-x---. 6 root  named 4096 Aug  2 10:30 chroot</span><br><span class="line">drwxrwx---. 2 named named 4096 Aug  2 11:03 data</span><br><span class="line">drwxrwx---. 2 named named 4096 Aug  2 15:06 dynamic</span><br><span class="line">-rw-r-----. 1 root  named  271 Aug  2 13:59 named.arpa.uplooking</span><br><span class="line">-rw-r-----. 1 root  named 1892 Feb 18  2008 named.ca</span><br><span class="line">-rw-r-----. 1 root  named  152 Dec 15  2009 named.empty</span><br><span class="line">-rw-r-----. 1 root  named  152 Jun 21  2007 named.localhost</span><br><span class="line">-rw-r-----. 1 root  named  168 Dec 15  2009 named.loopback</span><br><span class="line">-rw-r-----. 1 root  named  224 Aug  2 11:34 named.uplooking</span><br><span class="line">drwxrwx---. 2 named named 4096 Aug 14  2013 slaves</span><br><span class="line">[root@rhel6 named]# vim named.uplooking</span><br><span class="line"><span class="hljs-meta">$</span><span class="hljs-bash">TTL 1D</span></span><br><span class="line">@       IN SOA  @ rname.invalid. (</span><br><span class="line">                                        20160802        ; serial</span><br><span class="line">                                        1D      ; refresh</span><br><span class="line">                                        1H      ; retry</span><br><span class="line">                                        1W      ; expire</span><br><span class="line">                                        3H )    ; minimum</span><br><span class="line">        NS      @</span><br><span class="line">        A       172.25.0.11</span><br><span class="line">www     A       172.25.0.10</span><br><span class="line">        MX 5    mail</span><br><span class="line">mail    A       172.25.0.10</span><br><span class="line">ftp     A       172.25.0.10</span><br><span class="line">bbs     CNAME   ftp</span><br><span class="line">~                        </span><br><span class="line"></span><br><span class="line">[root@rhel6 named]# vim named.arpa.uplooking</span><br><span class="line"><span class="hljs-meta">$</span><span class="hljs-bash">TTL 1D</span></span><br><span class="line">@       IN SOA  @ rname.invalid. (</span><br><span class="line">                                        20160802        ; serial</span><br><span class="line">                                        1D      ; refresh</span><br><span class="line">                                        1H      ; retry</span><br><span class="line">                                        1W      ; expire</span><br><span class="line">                                        3H )    ; minimum</span><br><span class="line">        NS      uplooking.com.</span><br><span class="line">11      PTR     uplooking.com.</span><br><span class="line">10      PTR     www.uplooking.com.</span><br><span class="line">10      PTR     mail.uplooking.com.</span><br><span class="line">10      PTR     ftp.uplooking.com.</span><br><span class="line">10      PTR     bbs.uplooking.com.</span><br><span class="line"></span><br><span class="line">[root@rhel6 named]# service named restart</span><br><span class="line">Stopping named: .                                          [  OK  ]</span><br><span class="line">Starting named:                                            [  OK  ]</span><br><span class="line">[root@rhel6 named]# service iptables stop</span><br><span class="line">iptables: Firewall is not running.</span><br><span class="line">[root@rhel6 named]# getenforce</span><br><span class="line">Enforcing</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>&#x4ECE;&#x670D;&#x52A1;&#x5668;</p>
</blockquote>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# cat /etc/resolv.conf</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> Generated by NetworkManager</span></span><br><span class="line">domain example.com</span><br><span class="line">search example.com</span><br><span class="line">nameserver 172.25.254.254</span><br><span class="line">[root@rhel7 ~]# yum install -y bind*</span><br><span class="line">[root@rhel7 ~]# vim /etc/named.conf</span><br><span class="line">[root@rhel7 ~]# vim /etc/named.rfc1912.zones</span><br><span class="line">zone &quot;uplooking.com&quot; IN {</span><br><span class="line">        type slave;				&lt;== &#x5B9A;&#x4E49;&#x7C7B;&#x578B;&#x4E3A;&#x5974;&#x96B6; slave</span><br><span class="line">        masters { 172.25.0.11; };		&lt;== &#x544A;&#x8BC9;&#x8BA1;&#x7B97;&#x673A;&#x6211;&#x7684;&#x4E3B;&#x4EBA; master &#x662F;&#x8C01;</span><br><span class="line">        file &quot;slaves/uploooking.com.zone&quot;;	&lt;== &#x544A;&#x8BC9;&#x8BA1;&#x7B97;&#x673A; zone &#x6570;&#x636E;&#x5E93;&#x5730;&#x5740;&#x5728;&#x54EA;&#x91CC;,&#x5974;&#x96B6;&#x6709;&#x4E13;&#x95E8;&#x7684;&#x76EE;&#x5F55;</span><br><span class="line">        allow-update { none; };</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">zone &quot;0.25.172.in-addr.arpa&quot; IN {</span><br><span class="line">        type slave;</span><br><span class="line">        masters { 172.25.0.11; };</span><br><span class="line">        file &quot;slaves/arpa.uplooking.zone&quot;;</span><br><span class="line">        allow-update { none; };</span><br><span class="line">};</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E0E;&#x5173;&#x95ED;</p>
</blockquote>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# systemctl stop firewalld</span><br><span class="line">[root@rhel7 ~]# getenforce</span><br><span class="line">Enforcing</span><br><span class="line">[root@rhel7 ~]# systemctl start named</span><br><span class="line">[root@rhel7 ~]# ll /var/named/slaves</span><br><span class="line">total 8</span><br><span class="line">-rw-r--r--. 1 named named 381 Aug  2 03:54 arpa.uplooking.zone</span><br><span class="line">-rw-r--r--. 1 named named 463 Aug  2 03:54 uploooking.com.zone</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>&#x6D4B;&#x8BD5;</p>
</blockquote>
<p>&#x5BA2;&#x6237;&#x7AEF; rhel7</p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# vim /etc/resolv.conf</span><br><span class="line">nameserver 172.25.0.11</span><br><span class="line">[root@rhel7 ~]# nslookup</span><br><span class="line"><span class="hljs-meta">&gt;</span><span class="hljs-bash"> www.uplooking.com</span></span><br><span class="line">Server:		172.25.0.11</span><br><span class="line">Address:	172.25.0.11#53</span><br><span class="line"></span><br><span class="line">Name:	www.uplooking.com</span><br><span class="line">Address: 172.25.0.10</span><br><span class="line"><span class="hljs-meta">&gt;</span><span class="hljs-bash"> 172.25.0.10</span></span><br><span class="line">Server:		172.25.0.11</span><br><span class="line">Address:	172.25.0.11#53</span><br><span class="line"></span><br><span class="line">10.0.25.172.in-addr.arpa	name = www.uplooking.com.</span><br><span class="line">10.0.25.172.in-addr.arpa	name = mail.uplooking.com.</span><br><span class="line">10.0.25.172.in-addr.arpa	name = ftp.uplooking.com.</span><br><span class="line">10.0.25.172.in-addr.arpa	name = bbs.uplooking.com.</span><br><span class="line"><span class="hljs-meta">&gt;</span><span class="hljs-bash"> 172.25.0.11</span></span><br><span class="line">Server:		172.25.0.11</span><br><span class="line">Address:	172.25.0.11#53</span><br><span class="line"></span><br><span class="line">11.0.25.172.in-addr.arpa	name = uplooking.com.</span><br><span class="line"><span class="hljs-meta">&gt;</span><span class="hljs-bash"> <span class="hljs-built_in">exit</span></span></span><br><span class="line"></span><br><span class="line">[root@rhel7 ~]# vim /etc/resolv.conf</span><br><span class="line">nameserver 172.25.0.10</span><br><span class="line">[root@rhel7 ~]# nslookup</span><br><span class="line"><span class="hljs-meta">&gt;</span><span class="hljs-bash"> www.uplooking.com</span></span><br><span class="line">Server:		172.25.0.10</span><br><span class="line">Address:	172.25.0.10#53</span><br><span class="line"></span><br><span class="line">Name:	www.uplooking.com</span><br><span class="line">Address: 172.25.0.10</span><br><span class="line"><span class="hljs-meta">&gt;</span><span class="hljs-bash"> 172.25.0.11</span></span><br><span class="line">Server:		172.25.0.10</span><br><span class="line">Address:	172.25.0.10#53</span><br><span class="line"></span><br><span class="line">11.0.25.172.in-addr.arpa	name = uplooking.com.</span><br><span class="line"><span class="hljs-meta">&gt;</span><span class="hljs-bash"> 172.25.0.10</span></span><br><span class="line">Server:		172.25.0.10</span><br><span class="line">Address:	172.25.0.10#53</span><br><span class="line"></span><br><span class="line">10.0.25.172.in-addr.arpa	name = bbs.uplooking.com.</span><br><span class="line">10.0.25.172.in-addr.arpa	name = www.uplooking.com.</span><br><span class="line">10.0.25.172.in-addr.arpa	name = ftp.uplooking.com.</span><br><span class="line">10.0.25.172.in-addr.arpa	name = mail.uplooking.com.</span><br><span class="line"><span class="hljs-meta">&gt;</span><span class="hljs-bash"> <span class="hljs-built_in">exit</span></span></span><br></pre></td></tr></table></figure></p>
<h3 id="&#x6392;&#x9519;&#x8BB0;&#x5F55;"><a href="#&#x6392;&#x9519;&#x8BB0;&#x5F55;" class="headerlink" title="&#x6392;&#x9519;&#x8BB0;&#x5F55;"></a>&#x6392;&#x9519;&#x8BB0;&#x5F55;</h3><h4 id="&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E0D;&#x4E86;"><a href="#&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E0D;&#x4E86;" class="headerlink" title="&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E0D;&#x4E86;"></a>&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E0D;&#x4E86;</h4><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# systemctl start named</span><br><span class="line">Job for named.service failed. See &apos;systemctl status named.service&apos; and &apos;journalctl -xn&apos; for details.</span><br><span class="line"></span><br><span class="line">[root@rhel7 ~]# systemctl status named.service</span><br><span class="line">named.service - Berkeley Internet Name Domain (DNS)</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/named.service; disabled)</span><br><span class="line">   Active: failed (Result: exit-code) since Tue 2016-08-02 04:19:20 EDT; 23s ago</span><br><span class="line">  Process: 2297 ExecStartPre=/usr/sbin/named-checkconf -z /etc/named.conf (code=exited, status=1/FAILURE)</span><br><span class="line"></span><br><span class="line">Aug 02 04:19:20 rhel7 systemd[1]: Starting Berkeley Internet Name Domain (DNS)...</span><br><span class="line">Aug 02 04:19:20 rhel7 named-checkconf[2297]: /etc/named.rfc1912.zones:51: missing &apos;;&apos; before &apos;}&apos;</span><br><span class="line">Aug 02 04:19:20 rhel7 systemd[1]: named.service: control process exited, code=exited status=1</span><br><span class="line">Aug 02 04:19:20 rhel7 systemd[1]: Failed to start Berkeley Internet Name Domain (DNS).</span><br><span class="line">Aug 02 04:19:20 rhel7 systemd[1]: Unit named.service entered failed state.</span><br></pre></td></tr></table></figure></p>
<p>ps&#xFF1A;&#x5F53;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E0D;&#x4E86;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x62A5;&#x9519;&#x5185;&#x5BB9;&#x4E2D;&#x8BF4;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x4E24;&#x4E2A;&#x547D;&#x4EE4;&#x6765;&#x67E5;&#x770B;&#xFF0C;<code>systemctl status named.service</code> &#x6216;&#x8005; <code>journalctl -xn</code>&#x6B64;&#x65F6;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53BB;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x4E0A;&#x9762;&#x547D;&#x4EE4;&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8BE6;&#x7EC6;&#x7684;&#x62A5;&#x9519;&#x4FE1;&#x606F;&#x3002;</p>
<p><code>Aug 02 04:19:20 rhel7 named-checkconf[2297]: /etc/named.rfc1912.zones:51: missing &apos;;&apos; before &apos;}&apos;</code></p>
<p>&#x8FD9;&#x6761;&#x65E5;&#x5FD7;&#x544A;&#x8BC9;&#x6211;&#x4EEC;&#xFF0C;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;<code>/etc/named.rfc1912.zones</code>&#x7684;&#x7B2C;51&#x884C;&#x4E2D;&#xFF0C;<code>&apos;}&apos;</code>&#x524D;&#x5C11;&#x4E86;&#x4E00;&#x4E2A;<code>&apos;;&apos;</code>&#x3002;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x6839;&#x636E;&#x65E5;&#x5FD7;&#x4E2D;&#x7684;&#x63D0;&#x793A;&#x53BB;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5373;&#x53EF;&#x3002;</p>
<h4 id="&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E0D;&#x4E86;-1"><a href="#&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E0D;&#x4E86;-1" class="headerlink" title="&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E0D;&#x4E86;"></a>&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E0D;&#x4E86;</h4><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# systemctl status named</span><br><span class="line">named.service - Berkeley Internet Name Domain (DNS)</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/named.service; disabled)</span><br><span class="line">   Active: failed (Result: exit-code) since Tue 2016-08-02 04:50:39 EDT; 1min 42s ago</span><br><span class="line">  Process: 6541 ExecStartPre=/usr/sbin/named-checkconf -z /etc/named.conf (code=exited, status=1/FAILURE)</span><br><span class="line"></span><br><span class="line">Aug 02 04:50:39 rhel7 named-checkconf[6541]: zone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0...al 0</span><br><span class="line">Aug 02 04:50:39 rhel7 named-checkconf[6541]: zone 1.0.0.127.in-addr.arpa/IN: loaded serial 0</span><br><span class="line">Aug 02 04:50:39 rhel7 named-checkconf[6541]: zone 0.in-addr.arpa/IN: loaded serial 0</span><br><span class="line">Aug 02 04:50:39 rhel7 named-checkconf[6541]: zone uplooking.com/IN: loaded serial 20160802</span><br><span class="line">Aug 02 04:50:39 rhel7 named-checkconf[6541]: zone 19.25.172.in-addr.arpa/IN: loading from master file nam...ound</span><br><span class="line">Aug 02 04:50:39 rhel7 named-checkconf[6541]: zone 19.25.172.in-addr.arpa/IN: not loaded due to errors.</span><br><span class="line">Aug 02 04:50:39 rhel7 named-checkconf[6541]: _default/19.25.172.in-addr.arpa/IN: file not found</span><br><span class="line">Aug 02 04:50:39 rhel7 systemd[1]: named.service: control process exited, code=exited status=1</span><br><span class="line">Aug 02 04:50:39 rhel7 systemd[1]: Failed to start Berkeley Internet Name Domain (DNS).</span><br><span class="line">Aug 02 04:50:39 rhel7 systemd[1]: Unit named.service entered failed state.</span><br><span class="line">Hint: Some lines were ellipsized, use -l to show in full.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@rhel7 ~]# tail -n 15 /etc/named.rfc1912.zones</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">zone  &quot;uplooking.com&quot; IN {</span><br><span class="line">        type master;</span><br><span class="line">        file &quot;named.uplooking&quot;;</span><br><span class="line">        allow-update { none; };</span><br><span class="line">	allow-transfer { 172.25.19.10;};</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">zone &quot;19.25.172.in-addr.arpa&quot; IN {</span><br><span class="line">        type master;</span><br><span class="line">        file &quot;named.uplooking.arpa&quot;;</span><br><span class="line">        allow-update { none; };</span><br><span class="line">	allow-transfer { 172.25.19.10; };</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">[root@rhel7 ~]# ll /var/named/named*</span><br><span class="line">-rw-r-----. 1 root named  330 Aug  2 04:50 /var/named/named.arpa.uplooking</span><br><span class="line">-rw-r-----. 1 root named 2076 Jan 28  2013 /var/named/named.ca</span><br><span class="line">-rw-r-----. 1 root named  152 Dec 15  2009 /var/named/named.empty</span><br><span class="line">-rw-r-----. 1 root named  152 Jun 21  2007 /var/named/named.localhost</span><br><span class="line">-rw-r-----. 1 root named  168 Dec 15  2009 /var/named/named.loopback</span><br><span class="line">-rw-r-----. 1 root named  295 Aug  2 04:50 /var/named/named.uplooking</span><br></pre></td></tr></table></figure></p>
<p>ps:&#x95EE;&#x9898;&#x51FA;&#x5728;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x540D;&#x548C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x540D;&#x4E0D;&#x4E00;&#x81F4;&#x3002;</p>
<p><code>file &quot;named.uplooking.arpa&quot;;</code></p>
<p><code>/var/named/named.arpa.uplooking</code></p>
<h4 id="&#x4E3B;&#x8F85;&#x540C;&#x6B65;&#x7F13;&#x51B2;&#x6587;&#x4EF6;&#x53EA;&#x6709;&#x4E00;&#x4E2A;"><a href="#&#x4E3B;&#x8F85;&#x540C;&#x6B65;&#x7F13;&#x51B2;&#x6587;&#x4EF6;&#x53EA;&#x6709;&#x4E00;&#x4E2A;" class="headerlink" title="&#x4E3B;&#x8F85;&#x540C;&#x6B65;&#x7F13;&#x51B2;&#x6587;&#x4EF6;&#x53EA;&#x6709;&#x4E00;&#x4E2A;"></a>&#x4E3B;&#x8F85;&#x540C;&#x6B65;&#x7F13;&#x51B2;&#x6587;&#x4EF6;&#x53EA;&#x6709;&#x4E00;&#x4E2A;</h4><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# ll /var/named/slaves/</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r-- 1 named named 386 Jan  1 02:46 uplooking123.zoo</span><br></pre></td></tr></table></figure></p>
<p>ps:&#x539F;&#x56E0;&#x662F;<code>/etc/named.rfc1912.zones</code>&#x4E2D;&#x7684;&#x914D;&#x7F6E;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x6307;&#x5B9A;&#x7F13;&#x51B2;&#x7684;&#x76EE;&#x5F55;&#x5199;&#x5C11;&#x4E86;&#x4E00;&#x4E2A;<code>s</code></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">zone \&quot;uplooking.com\&quot; IN {</span><br><span class="line">        type slave;</span><br><span class="line">        masters { 172.25.33.11; };</span><br><span class="line">        file \&quot;slave/uplooking.zone\&quot;;</span><br><span class="line">        allow-update { none; };</span><br><span class="line">      };</span><br></pre></td></tr></table></figure></p>
<h4 id="&#x4E3B;&#x8F85;&#x540C;&#x6B65;&#x5C06;&#x4ECE;&#x673A;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x653E;&#x5728;&#x975E;slaves&#x76EE;&#x5F55;"><a href="#&#x4E3B;&#x8F85;&#x540C;&#x6B65;&#x5C06;&#x4ECE;&#x673A;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x653E;&#x5728;&#x975E;slaves&#x76EE;&#x5F55;" class="headerlink" title="&#x4E3B;&#x8F85;&#x540C;&#x6B65;&#x5C06;&#x4ECE;&#x673A;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x653E;&#x5728;&#x975E;slaves&#x76EE;&#x5F55;"></a>&#x4E3B;&#x8F85;&#x540C;&#x6B65;&#x5C06;&#x4ECE;&#x673A;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x653E;&#x5728;&#x975E;slaves&#x76EE;&#x5F55;</h4><p>&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x653E;&#x7F6E;&#x7684;&#x4F4D;&#x7F6E;&#x4E0D;&#x5728;slaves&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x800C;&#x5728;&#x5176;&#x4ED6;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x5219;&#x540C;&#x6B65;&#x4E0D;&#x6210;&#x529F;&#x3002;<br>&#x539F;&#x56E0;&#x4ECE;&#x4E09;&#x5904;&#x6392;&#x67E5;</p>
<ul>
<li>&#x914D;&#x7F6E;&#x6587;&#x4EF6;</li>
<li>UGO&#x6743;&#x9650;</li>
<li>selinux&#x6743;&#x9650;</li>
</ul>
<p>&#x6B64;&#x5904;&#x662F;&#x7531;&#x4E8E;selinux&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x5B89;&#x88C5;&#x4E00;&#x4E2A;&#x5DE5;&#x5177;<code>setroubleshoot</code>&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x5206;&#x6790;<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Yum search setroubleshoot</span><br><span class="line">Yum -y install setroubleshoot</span><br><span class="line">Sealert -a audit.log</span><br></pre></td></tr></table></figure><br>&#x770B;&#x5230;&#x5173;&#x4E8E;&#x5E03;&#x5C14;&#x503C;&#x7684;&#x4FE1;&#x606F;&#x548C;&#x5173;&#x4E8E;&#x5B89;&#x5168;&#x4E0A;&#x4E0B;&#x6587;&#x7684;&#x4FE1;&#x606F;:</p>
<ul>
<li>1&#xFF09;&#x8BBE;&#x7F6E;&#x5E03;&#x5C14;&#x503C;setsebool -P named_write_master_zones 1</li>
<li>2&#xFF09;&#x8BBE;&#x7F6E;&#x5B89;&#x5168;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x901A;&#x8FC7;man named_selinux&#x6216;&#x8005;&#x770B;&#x4E00;&#x4E0B;slaves&#x76EE;&#x5F55;&#x7684;&#x5B89;&#x5168;&#x4E0A;&#x4E0B;&#x6587;&#x662F;&#x4EC0;&#x4E48;<br>&#x6839;&#x636E;slaves&#x7684;&#x5B89;&#x5168;&#x4E0A;&#x4E0B;&#x6587;&#x53BB;&#x6539;&#x3002;<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Chcon -t named_zone_t test</span><br><span class="line">Chcon -u system_u  -r object_r  test</span><br></pre></td></tr></table></figure><br>&#x7136;&#x540E;&#x5C06;selinux&#x6253;&#x5F00;&#xFF0C;&#x5C06;test&#x4E0B;&#x7684;&#x76EE;&#x5F55;&#x7684;&#x540C;&#x6B65;&#x8FC7;&#x6765;&#x7684;&#x6587;&#x4EF6;&#x7ED9;&#x5220;&#x9664;&#xFF0C;&#x91CD;&#x542F;&#x670D;&#x52A1;&#xFF0C;&#x770B;&#x662F;&#x5426;&#x88AB;&#x540C;&#x6B65;&#x8FC7;&#x6765;&#x3002;</li>
</ul>
<p>&#x540C;&#x6B65;&#x6210;&#x529F;&#x3002;</p>
<h4 id="&#x5982;&#x679C;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x65F6;&#x5019;&#x592A;&#x6162;"><a href="#&#x5982;&#x679C;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x65F6;&#x5019;&#x592A;&#x6162;" class="headerlink" title="&#x5982;&#x679C;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x65F6;&#x5019;&#x592A;&#x6162;"></a>&#x5982;&#x679C;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x65F6;&#x5019;&#x592A;&#x6162;</h4><p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>/usr/sbin/rndc-confgen -a -r /etc/named.conf</code></p>
<p>&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x79D8;&#x94A5;&#x52A0;&#x5BC6;&#x4EA7;&#x751F;&#x7684;bug</p>
<h4 id="&#x6709;&#x987A;&#x5E8F;&#x7684;&#x6279;&#x91CF;&#x914D;&#x7F6E;&#x7684;&#x5199;&#x6CD5;&#xFF1A;&#xFF08;&#x7B80;&#x5355;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#xFF09;"><a href="#&#x6709;&#x987A;&#x5E8F;&#x7684;&#x6279;&#x91CF;&#x914D;&#x7F6E;&#x7684;&#x5199;&#x6CD5;&#xFF1A;&#xFF08;&#x7B80;&#x5355;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#xFF09;" class="headerlink" title="&#x6709;&#x987A;&#x5E8F;&#x7684;&#x6279;&#x91CF;&#x914D;&#x7F6E;&#x7684;&#x5199;&#x6CD5;&#xFF1A;&#xFF08;&#x7B80;&#x5355;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#xFF09;"></a>&#x6709;&#x987A;&#x5E8F;&#x7684;&#x6279;&#x91CF;&#x914D;&#x7F6E;&#x7684;&#x5199;&#x6CD5;&#xFF1A;&#xFF08;&#x7B80;&#x5355;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#xFF09;</h4><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">$</span><span class="hljs-bash">GENERATE 1-100 stu$   A   172.25.0.$</span></span><br><span class="line"><span class="hljs-meta">$</span><span class="hljs-bash">GENERATE 1-200 $ PTR foundation$.ilt.example.com</span></span><br></pre></td></tr></table></figure></p>
<h4 id="&#x4ECE;&#x673A;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x7684;&#x67E5;&#x770B;"><a href="#&#x4ECE;&#x673A;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x7684;&#x67E5;&#x770B;" class="headerlink" title="&#x4ECE;&#x673A;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x7684;&#x67E5;&#x770B;"></a>&#x4ECE;&#x673A;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x7684;&#x67E5;&#x770B;</h4><p><strong>7&#x7248;&#x672C;&#x4E0A;&#x65E0;&#x6CD5;&#x67E5;&#x770B;</strong>&#xFF1A;&#x56E0;&#x4E3A;&#x4ECE;&#x673A;&#x5728;slaves&#x76EE;&#x5F55;&#x4E0B;&#x751F;&#x6210;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x662F;data&#x7C7B;&#x578B;&#x7684;&#x3002;<br><strong>6&#x7248;&#x672C;&#x4E0A;&#x53EF;&#x4EE5;&#x67E5;&#x770B;</strong>&#xFF1A;&#x8001;&#x7248;&#x672C;&#x662F;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x7684;&#x3002;</p>
<hr>
<h3 id="&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x7EC6;&#x89E3;&#x6790;"><a href="#&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x7EC6;&#x89E3;&#x6790;" class="headerlink" title="&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x7EC6;&#x89E3;&#x6790;"></a>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x7EC6;&#x89E3;&#x6790;</h3><h4 id="&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-etc-named-conf"><a href="#&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-etc-named-conf" class="headerlink" title="&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/named.conf"></a>&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/named.conf</h4><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">Options &#x5168;&#x5C40;&#x7684;&#x914D;&#x7F6E;&#x884C;   </span><br><span class="line">options {&#xA0;//&#x670D;&#x52A1;&#x5668;&#x7684;&#x5168;&#x5C40;&#x914D;&#x7F6E;&#x9009;&#x9879;&#x53CA;&#x4E00;&#x4E9B;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;listen-on port 53 { any; };&#xA0;//&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x9ED8;&#x8BA4;&#x76D1;&#x542C;53&#x53F7;&#x7AEF;&#x53E3;&#xFF0C;&#x4E5F;&#x53EF;&#x5199;&#x4E3A; { 127.0.0.1; 192.168.139.46; }</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;listen-on-v6 port 53 { ::1; };&#xA0;//&#x5BF9;ip6&#x652F;&#x6301;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;directory&#xA0; &#xA0;&#xA0; &#xA0; &quot;/var/named&quot;;&#xA0;&#xA0;//&#x533A;&#x57DF;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x76EE;&#x5F55;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;dump-file&#xA0; &#xA0;&#xA0; &#xA0; &quot;/var/named/data/cache_dump.db&quot;;&#xA0;//&#x7F13;&#x5B58;&#x7684;&#x76EE;&#x5F55;directory</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;statistics-file &quot;/var/named/data/named_stats.txt&quot;;  // &#x72B6;&#x6001;&#x4FE1;&#x606F;&#x6587;&#x4EF6;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;memstatistics-file &quot;/var/named/data/named_mem_stats.txt&quot;;   //&#x5185;&#x5B58;&#x4FE1;&#x606F;&#x6587;&#x4EF6;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;pid-file&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&quot;/var/run/named/named.pid&quot;;&#xA0;//&#x5B58;&#x7740;named&#x7684;pid</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;forwarders&#xA0; &#xA0;&#xA0;&#xA0;{ 168.95.1.1; 139.175.10.20; };&#xA0;// &#x5982;&#x679C;&#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;&#x65E0;&#x6CD5;&#x89E3;&#x6790;&#x65F6;&#xFF0C;&#x5C06;&#x8BF7;&#x6C42;&#x4EA4;&#x7531;168.95.1.1; 139.175.10.20&#x6765;&#x89E3;&#x6790;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;allow-query&#xA0; &#xA0; { any; };&#xA0; &#xA0;//&#x6307;&#x5B9A;&#x5141;&#x8BB8;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x7684;&#x4E3B;&#x673A;&#xFF0C;&#x5F53;&#x7136;&#x662F;&#x8981;&#x6240;&#x6709;&#x7684;&#x7535;&#x8111;&#x90FD;&#x53EF;&#x4EE5;&#x67E5;&#x5566;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;allow-transfer { none; };&#xA0;//&#x6307;&#x5B9A;&#x5141;&#x8BB8;&#x63A5;&#x53D7;&#x533A;&#x57DF;&#x4F20;&#x9001;&#x8BF7;&#x6C42;&#x7684;&#x4E3B;&#x673A;&#xFF0C;&#x8BF4;&#x660E;&#x767D;&#x4E00;&#x70B9;&#x5C31;&#x662F;&#x8F85;dns&#x5B9A;&#x4E49;&#xFF0C;&#x6BD4;&#x5982;&#x8F85;dns&#x7684;ip&#x662F;192.168.139.5&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x5B9A;&#x4E49;{ 192.168.139.5; }&#xFF0C;&#x8981;&#x4E0D;&#x7136;&#x4E3B;&#x8F85;dns&#x4E0D;&#x80FD;&#x540C;&#x6B65;&#xFF0C;&#x5F53;&#x7136;&#xFF0C;{}&#x91CC;&#x7684;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4E0B;&#x9762;&#x63D0;&#x5230;&#x7684;acl&#x3002;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;// those options should be used carefully because they disable port</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;// randomization</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;// query-source&#xA0; &#xA0; port 53;&#xA0; &#xA0;&#xA0;&#xA0;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;// query-source-v6 port 53;</span><br><span class="line">Dnssec&#x5F00;&#x5934;&#x7684;&#x662F;&#x4E00;&#x4E9B;&#x52A0;&#x5BC6;&#x6587;&#x4EF6;</span><br><span class="line">Xxxx.key&#x662F;&#x4E00;&#x4E9B;&#x79D8;&#x94A5;&#x6587;&#x4EF6;</span><br><span class="line">};</span><br><span class="line">logging {&#xA0;//&#x6307;&#x5B9A;&#x670D;&#x52A1;&#x5668;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x7684;&#x5185;&#x5BB9;&#x548C;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;&#x6765;&#x6E90;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;channel default_debug {</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0; file &quot;data/named.run&quot;;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0; severity dynamic;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;};</span><br><span class="line">};</span><br><span class="line">zone &quot;.&quot; IN {&#xA0;//&#x5728;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x662F;&#x7528;zone&#x5173;&#x952E;&#x5B57;&#x6765;&#x5B9A;&#x4E49;&#x57DF;&#x533A;&#x7684;&#xFF0C;&#x4E00;&#x4E2A;zone&#x5173;&#x952E;&#x5B57;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x57DF;&#x533A;&#xA0;</span><br><span class="line">type hint;&#xA0;</span><br><span class="line">/*&#x5728;&#x8FD9;&#x91CC;type&#x7C7B;&#x578B;&#x6709;&#x4E09;&#x79CD;&#xFF0C;&#x5B83;&#x4EEC;&#x5206;&#x522B;&#x662F;master,slave&#x548C;hint&#x5B83;&#x4EEC;&#x7684;&#x542B;&#x4E49;&#x5206;&#x522B;&#x662F;&#xFF1A;&#xA0;</span><br><span class="line">master:&#x8868;&#x793A;&#x5B9A;&#x4E49;&#x7684;&#x662F;&#x4E3B;&#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;&#xA0;</span><br><span class="line">slave :&#x8868;&#x793A;&#x5B9A;&#x4E49;&#x7684;&#x662F;&#x8F85;&#x52A9;&#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;&#xA0;</span><br><span class="line">hint:&#x8868;&#x793A;&#x662F;&#x4E92;&#x8054;&#x7F51;&#x4E2D;&#x6839;&#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;&#xA0;</span><br><span class="line">*/&#xA0;</span><br><span class="line">Include  &quot;/etc/named.rfc1912.conf&quot;</span><br><span class="line">Include  &quot;/etc/named.root.key&quot;  //&#x4E24;&#x4E2A;include&#x5B57;&#x6BB5;&#x4EE3;&#x8868;&#x8BFB;&#x53D6;&#x672C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x65F6;&#x5019;&#x540C;&#x65F6;&#x8BFB;&#x53D6;/etc/named.rfc1912.conf&#x548C;/etc/named.root.key&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x5173;&#x6CE8;&#x7B2C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x8BE5;&#x6587;&#x4EF6;&#x662F;&#x4E13;&#x95E8;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x57DF;&#x7684;&#x6587;&#x4EF6;&#x3002;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p><strong><code>allow-query-cache</code>&#x4E3B;&#x8F85;&#x540C;&#x6B65;&#x65F6;:</strong></p>
<ul>
<li>6&#x7248;&#x672C;&#x4E0A;&#x5FC5;&#x987B;&#x52A0;&#x4E0A; &#x4E0D;&#x7136;&#x4F1A;&#x62A5;&#x9519;</li>
<li>7&#x7248;&#x672C;&#x4E0D;&#x7528;</li>
</ul>
<p><strong><code>recursion</code>&#x4E3B;&#x8F85;&#x540C;&#x6B65;&#x65F6;</strong> &#x5FC5;&#x987B;&#x662F;yes&#xFF0C;&#x5173;&#x6389;&#x4E4B;&#x540E;&#x4F1A;&#x963B;&#x6B62;&#x65B0;&#x7EAA;&#x5F55;&#x8FDB;&#x5165;&#x5230;&#x7F13;&#x51B2;&#x3002;</p>
<h4 id="named-rfc1912-conf"><a href="#named-rfc1912-conf" class="headerlink" title="named.rfc1912.conf"></a>named.rfc1912.conf</h4><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Zone &quot;&#x57DF;&#x540D; &quot;IN {</span><br><span class="line">File ;&#x57DF;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;</span><br><span class="line">Allow-update ;&#x662F;&#x5426;&#x9700;&#x8981;&#x66F4;&#x65B0;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p><strong>&#x6CE8;&#x610F;</strong></p>
<ol>
<li>&#x6240;&#x6709;&#x8BED;&#x53E5;&#x7ED3;&#x675F;&#x540E;&#x90FD;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5206;&#x53F7;&#x4EE3;&#x8868;&#x7ED3;&#x675F;&#x7B26;</li>
<li>&#x62EC;&#x53F7;&#x5FC5;&#x987B;&#x6210;&#x5BF9;&#x51FA;&#x73B0;</li>
<li>file&#x6307;&#x5411;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x5199;&#x7684;&#x662F;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x76F8;&#x5BF9;&#x4E8E;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;dirctory&#x914D;&#x7F6E;&#x5B57;&#x6BB5;&#xFF0C;&#x5373;&#x76F8;&#x5BF9;&#x4E8E;/var/named&#x76EE;&#x5F55;&#x3002;</li>
</ol>
<p><strong>&#x4E3B;&#x8F85;&#x540C;&#x6B65;&#x4E2D;slave&#x9700;&#x8981;&#x7684;&#x914D;&#x7F6E;</strong></p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Zone &quot;&#x57DF;&#x540D;&quot; IN {</span><br><span class="line">Type slave;</span><br><span class="line">Masters { 172.25.0.11;} ;</span><br><span class="line">File &quot;slaves/test.com.zone&quot;;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<h4 id="&#x6570;&#x636E;&#x6587;&#x4EF6;-var-named-named-localhost"><a href="#&#x6570;&#x636E;&#x6587;&#x4EF6;-var-named-named-localhost" class="headerlink" title="&#x6570;&#x636E;&#x6587;&#x4EF6;/var/named/named.localhost"></a>&#x6570;&#x636E;&#x6587;&#x4EF6;/var/named/named.localhost</h4><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">TTL //&#x4EE3;&#x8868;&#x5468;&#x671F;&#xFF0C;&#x7F13;&#x5B58;&#x65F6;&#x95F4;&#xFF0C;DNS&#x4F1A;&#x81EA;&#x5DF1;&#x505A;&#x7F13;&#x5B58;&#xFF0C;1D&#x5C31;&#x4EE3;&#x8868;&#x4E00;&#x5929;&#xFF0C;&#x7F13;&#x5B58;&#x65F6;&#x95F4;&#x4E3A;&#x4E00;&#x5929;&#x3002;</span><br><span class="line">SOA //&#x8BB0;&#x5F55;  --&gt;&#x8D77;&#x59CB;&#x6388;&#x6743;&#x8BB0;&#x5F55;  @&#x4EE3;&#x8868;&#x7EE7;&#x627F;&#x57DF;&#x540D;  </span><br><span class="line">IN  SOA @ &#x7528;&#x6237;&#x540D;.&#x57DF;&#x540D;  {</span><br><span class="line">     0;serial    //&#x5E8F;&#x5217;&#x53F7;&#xFF1B;&#x4E00;&#x822C;&#x5199;&#x4FEE;&#x6539;&#x5F53;&#x5929;&#x65E5;&#x671F;&#xFF0C;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x6839;&#x636E;&#x8BE5;&#x5E8F;&#x5217;&#x53F7;&#x6765;&#x5224;&#x5B9A;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x4FEE;&#x6539;&#x8FC7;&#x3002;</span><br><span class="line">     1D&#xFF1B;refresh  // &#x591A;&#x4E45;&#x505A;&#x4E00;&#x6B21;&#x540C;&#x6B65;</span><br><span class="line">     1H&#xFF1B;retry    //&#x91CD;&#x7F6E;&#x65F6;&#x95F4;&#xFF0C;&#x540C;&#x6B65;&#x4E0D;&#x6210;&#x529F;&#x65F6;&#xFF0C;&#x95F4;&#x9694;&#x591A;&#x4E45;&#x91CD;&#x65B0;&#x505A;&#x4E00;&#x6B21;&#x540C;&#x6B65;</span><br><span class="line">     1W&#xFF1B;expire   //&#x5F53;&#x91CD;&#x590D;&#x540C;&#x6B65;&#x4E0D;&#x6210;&#x529F;&#x65F6;&#xFF0C;&#x591A;&#x4E45;&#x4E0D;&#x518D;&#x505A;&#x540C;&#x6B65;&#x3002;</span><br><span class="line">	 3H&#xFF1B;minimun  //&#x6700;&#x5C0F;&#x7F13;&#x5B58;&#x65F6;&#x95F4;&#xFF0C;&#x4E00;&#x822C;&#x662F;&#x9519;&#x8BEF;&#x7F13;&#x5B58;&#x3002;&#x5047;&#x8BBE;&#x6709;&#x4E00;&#x4E2A;&#x4EBA;&#xFF0C;&#x4E00;&#x76F4;&#x95EE;&#x6211;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x7684;&#x57DF;&#x540D;&#xFF0C;&#x90A3;&#x6211;&#x5C31;&#x4F1A;&#x5C06;&#x8BE5;&#x9519;&#x8BEF;&#x7684;&#x57DF;&#x540D;&#x7F13;&#x5B58;&#x4E0B;&#x6765;&#xFF0C;</span><br><span class="line">&#x5F53;&#x4EBA;&#x518D;&#x6765;&#x95EE;&#x6211;&#x65F6;&#xFF0C;&#x6211;&#x5C31;&#x4E0D;&#x518D;&#x641C;&#x5BFB;&#xFF0C;&#x800C;&#x5C06;&#x8BE5;&#x7ED3;&#x679C;&#x53CD;&#x9988;&#x7ED9;&#x4ED6;&#x3002;</span><br><span class="line"></span><br><span class="line">&#x8FD9;&#x91CC;&#x5C06;serial&#x4E00;&#x5217;&#x6539;&#x4E3A;&#x5F53;&#x524D;&#x65E5;&#x671F;&#x3002;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">NS&#x4EE3;&#x8868;&#x7684;&#x662F;&#x6B63;&#x5411;&#x8BB0;&#x5F55;  &#xFF0C;&#x89E3;&#x6790;&#x8FD8;&#x5206;&#x6210;&#x6B63;&#x5411;&#x89E3;&#x6790;&#x548C;&#x53CD;&#x5411;&#x89E3;&#x6790;&#xFF0C;&#x6B63;&#x5411;&#x89E3;&#x6790;&#x5C31;&#x662F;&#x77E5;&#x9053;&#x4E3B;&#x673A;&#x540D;&#xFF0C;&#x60F3;&#x8981;&#x641C;&#x5BFB;IP&#x5730;&#x5740;&#x3002;&#x8FD9;&#x91CC;&#x5148;&#x6765;&#x770B;&#x6B63;&#x5411;&#x89E3;&#x6790;</span><br><span class="line"></span><br><span class="line">@&#x4EE3;&#x8868;&#x7EE7;&#x627F;&#x57DF;&#x540D;</span><br><span class="line">   NS    @</span><br><span class="line">   A    127.0.0.1    </span><br><span class="line">&#x8FD9;&#x53E5;&#x8BDD;&#x4EE3;&#x8868;&#xFF0C;&#x6211;&#x7684;&#x57DF;&#x540D;&#x662F;localhost&#xFF0C;localhost&#x6307;&#x5411;&#x7684;&#x662F;127.0.0.1</span><br><span class="line">&#x5982;&#x679C;&#x4E0D;&#x5199;@&#x800C;&#x5199;&#x6210;&#x57DF;&#x540D;&#xFF0C;&#x5C31;&#x5E94;&#x8BE5;&#x5199;&#x6210;test.com.   Com&#x540E;&#x9762;&#x5FC5;&#x987B;&#x6709;&#x4E2A;&#x70B9;&#xFF0C;&#x4EE3;&#x8868;&#x6839;&#x57DF;&#x7684;&#x610F;&#x601D;&#x3002;</span><br></pre></td></tr></table></figure></p>
<h3 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h3><p>&#x638C;&#x63E1;&#x5B9E;&#x8DF5;&#x9879;&#x76EE;<br><img src="/2016/12/23/booboo_easy_service/01_dns/02.png" alt="02"></p>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2016/12/23/booboo_easy_service/04_samba/" itemprop="url">SAMBA文件共享服务</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2016-12-22T21:06:27.000Z" itemprop="datePublished">12月 23 2016</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/">技术培训</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/Linux%E7%AE%80%E6%98%93%E6%9C%8D%E5%8A%A1%E6%95%99%E7%A8%8B/">Linux简易服务教程</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            19 分钟 lesen (Über 2819 Wörter)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <h3 id="Samba&#x7684;&#x5386;&#x53F2;&#x53CA;&#x539F;&#x7406;"><a href="#Samba&#x7684;&#x5386;&#x53F2;&#x53CA;&#x539F;&#x7406;" class="headerlink" title="Samba&#x7684;&#x5386;&#x53F2;&#x53CA;&#x539F;&#x7406;"></a>Samba&#x7684;&#x5386;&#x53F2;&#x53CA;&#x539F;&#x7406;</h3><p>&#x5728;&#x65E9;&#x671F;&#x7684;&#x7F51;&#x7EDC;&#x4E16;&#x754C;&#x4E2D;&#xFF0C;&#x6587;&#x4EF6;&#x6570;&#x636E;&#x5728;&#x4E0D;&#x540C;&#x4E3B;&#x673A;&#x4E4B;&#x95F4;&#x7684;&#x4F20;&#x8F93;&#x5927;&#x591A;&#x662F;&#x4F7F;&#x7528;FTP&#x8FD9;&#x4E2A;&#x597D;&#x7528;&#x7684;&#x670D;&#x52A1;&#x5668;&#x8F6F;&#x4EF6;&#x8FDB;&#x884C;&#x7684;&#x3002;&#x4E0D;&#x8FC7;&#xFF0C;&#x4F7F;&#x7528;FTP&#x4F20;&#x8F93;&#x6587;&#x4EF6;&#x5374;&#x6709;&#x4E2A;&#x5C0F;&#x5C0F;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x60A8;&#x65E0;&#x6CD5;&#x76F4;&#x63A5;&#x4FEE;&#x6539;&#x4E3B;&#x673A;&#x4E0A;&#x9762;&#x7684;&#x6587;&#x4EF6;&#x6570;&#x636E;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x60A8;&#x60F3;&#x8981;&#x66F4;&#x6539;Linux&#x4E3B;&#x673A;&#x4E0A;&#x9762;&#x7684;&#x67D0;&#x4E2A;&#x6587;&#x4EF6;&#x65F6;&#xFF0C;&#x5FC5;&#x987B;&#x8981;&#x7531;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5C06;&#x8BE5;&#x6587;&#x4EF6;&#x4E0B;&#x8F7D;&#x5230;&#x60A8;&#x5DE5;&#x4F5C;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x540E;&#x624D;&#x80FD;&#x4FEE;&#x6539;&#xFF0C;&#x56E0;&#x6B64;&#x8BE5;&#x6587;&#x4EF6;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x90FD;&#x4F1A;&#x5B58;&#x5728;&#x3002;&#x8FD9;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x4E00;&#x5929;&#x60A8;&#x4FEE;&#x6539;&#x4E86;&#x67D0;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x5374;&#x5FD8;&#x8BB0;&#x5C06;&#x6570;&#x636E;&#x4E0A;&#x4F20;&#x56DE;&#x4E3B;&#x673A;&#xFF0C;&#x90A3;&#x4E48;&#x7B49;&#x8FC7;&#x4E86;&#x4E00;&#x9635;&#x5B50;&#x4E4B;&#x540E;&#xFF0C;&#x60A8;&#x5982;&#x4F55;&#x77E5;&#x9053;&#x54EA;&#x65E2;&#x7136;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x90A3;&#x597D;&#x5427;&#xFF0C;&#x6211;&#x53EF;&#x4E0D;&#x53EF;&#x4EE5;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x673A;&#x5668;&#x4E0A;&#x9762;&#x76F4;&#x63A5;&#x53D6;&#x7528;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x9762;&#x7684;&#x6587;&#x4EF6;&#xFF1F;&#x5982;&#x679C;&#x53EF;&#x4EE5;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x76F4;&#x63A5;&#x8FDB;&#x884C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x6587;&#x4EF6;&#x7684;&#x8BBF;&#x95EE;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x5B58;&#x5728;&#x8BE5;&#x6587;&#x4EF6;&#x6570;&#x636E;&#x4E86;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x6211;&#x53EA;&#x8981;&#x6709;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x9762;&#x7684;&#x6587;&#x4EF6;&#x6570;&#x636E;&#x5B58;&#x5728;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;&#x6709;&#x6CA1;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF08;File System&#xFF09;&#x5462;&#xFF1F;&#x524D;&#x9762;&#x6211;&#x4EEC;&#x63D0;&#x5230;&#x8FC7;&#x7684;Network File System&#xFF08;NFS&#xFF09;&#x5C31;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E4B;&#x4E00;&#x3002;&#x53EA;&#x8981;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x5C06;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x6240;&#x63D0;&#x4F9B;&#x7684;&#x5171;&#x4EAB;&#x76EE;&#x5F55;&#x6302;&#x8F7D;&#x8FDB;&#x6765;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x6211;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x53D6;&#x7528;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x6587;&#x4EF6;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x4E14;&#xFF0C;&#x8BE5;&#x6570;&#x636E;&#x5C31;&#x50CF;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x4E0A;&#x7684;&#x5206;&#x533A;&#x4E00;&#x6837;&#xFF0C;&#x975E;&#x5E38;&#x597D;&#x7528;&#xFF01;&#x800C;&#x9664;&#x4E86;&#x53EF;&#x4EE5;&#x8BA9;Unix Like&#x7684;&#x673A;&#x5668;&#x4E92;&#x76F8;&#x5206;&#x4EAB;&#x6587;&#x4EF6;&#x7684;NFS&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x5916;&#xFF0C;&#x5728;&#x5FAE;&#x8F6F;&#xFF08;Microsoft&#xFF09;&#x4E0A;&#x9762;&#x4E5F;&#x6709;&#x7C7B;&#x4F3C;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x90A3;&#x5C31;&#x662F;Common Internet File System&#xFF08;CIFS&#xFF09;&#x3002;CIFS&#x6700;&#x7B80;&#x5355;&#x7684;&#x7528;&#x9014;&#x5C31;&#x662F;&#x76EE;&#x524D;&#x5E38;&#x89C1;&#x7684;&#x201C;&#x7F51;&#x4E0A;&#x90BB;&#x5C45;&#x201D;&#x3002;Windows&#x7CFB;&#x7EDF;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x684C;&#x9762;&#x4E0A;&#x7684;&#x201C;&#x7F51;&#x4E0A;&#x90BB;&#x5C45;&#x201D;&#x6765;&#x8BBF;&#x95EE;&#x522B;&#x4EBA;&#x6240;&#x63D0;&#x4F9B;&#x7684;&#x6587;&#x4EF6;&#x6570;&#x636E;&#x3002;&#x4E0D;&#x8FC7;&#xFF0C;NFS&#x4EC5;&#x80FD;&#x8BA9;Unix&#x673A;&#x5668;&#x6C9F;&#x901A;&#xFF0C;CIFS&#x53EA;&#x80FD;&#x8BA9;Windows&#x673A;&#x5668;&#x6C9F;&#x901A;&#x3002;&#x90A3;&#x4E48;&#x6709;&#x6CA1;&#x6709;&#x8BA9;Windows&#x4E0E;Unix Like&#x8FD9;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x5E73;&#x53F0;&#x76F8;&#x4E92;&#x5206;&#x4EAB;&#x6587;&#x4EF6;&#x6570;&#x636E;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x5462;&#xFF1F;&#x4E2A;&#x6587;&#x4EF6;&#x624D;&#x662F;&#x6700;&#x65B0;&#x7684;&#xFF1F;</p>
<p>&#x5728;1991&#x5E74;&#xFF0C;&#x4E00;&#x4E2A;&#x540D;&#x53EB;Andrew Tridgwell&#x7684;&#x5927;&#x5B66;&#x751F;&#x5C31;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x56F0;&#x6270;&#xFF0C;&#x4ED6;&#x624B;&#x4E0A;&#x6709;&#x4E09;&#x53F0;&#x673A;&#x5668;&#xFF0C;&#x5206;&#x522B;&#x662F;&#x8FD0;&#x884C;DOS&#x7684;&#x4E2A;&#x4EBA;&#x8BA1;&#x7B97;&#x673A;&#x3001;DEC&#x516C;&#x53F8;&#x7684;Digital Unix&#x7CFB;&#x7EDF;&#x4EE5;&#x53CA;Sun&#x7684;Unix&#x7CFB;&#x7EDF;&#x3002;&#x5728;&#x5F53;&#x65F6;&#xFF0C;DEC &#x516C;&#x53F8;&#x5F00;&#x53D1;&#x51FA;&#x4E00;&#x5957;&#x79F0;&#x4E3A;PATHWORKS&#x7684;&#x8F6F;&#x4EF6;&#xFF0C;&#x8FD9;&#x5957;&#x8F6F;&#x4EF6;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x5206;&#x4EAB;DEC&#x7684;Unix&#x4E0E;&#x4E2A;&#x4EBA;&#x8BA1;&#x7B97;&#x673A;&#x7684;DOS&#x8FD9;&#x4E24;&#x4E2A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x6587;&#x4EF6;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x60DC;&#x8BA9;Tridgwell&#x89C9;&#x5F97;&#x8F83;&#x56F0;&#x6270;&#x7684;&#x662F;Sun&#x7684;Unix&#x65E0;&#x6CD5;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x8F6F;&#x4EF6;&#x6765;&#x8FBE;&#x5230;&#x6587;&#x4EF6;&#x5171;&#x4EAB;&#x7684;&#x76EE;&#x7684;&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;Tridgwell&#x5C31;&#x60F3;&#xFF1A;&#x201C;&#x54A6;&#xFF01;&#x65E2;&#x7136;&#x8FD9;&#x4E24;&#x53F0;&#x7CFB;&#x7EDF;&#x53EF;&#x4EE5;&#x5171;&#x4EAB;&#xFF0C;&#x6CA1;&#x9053;&#x7406;Sun&#x5C31;&#x5FC5;&#x987B;&#x8FD9;&#x4E48;&#x82E6;&#x547D;&#x5427;&#xFF1F;&#x53EF;&#x4E0D;&#x53EF;&#x4EE5;&#x5C06;&#x8FD9;&#x4E24;&#x4E2A;&#x7CFB;&#x7EDF;&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x627E;&#x51FA;&#x6765;&#xFF0C;&#x7136;&#x540E;&#x8BA9;Sun&#x673A;&#x5668;&#x4E5F;&#x80FD;&#x591F;&#x5171;&#x4EAB;&#x6587;&#x4EF6;&#x6570;&#x636E;&#x5462;&#xFF1F;&#x201D;&#xFF0C;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x6837;&#x7684;&#x7684;&#x95EE;&#x9898;&#xFF0C;Tridgwell&#x5C31;&#x81EA;&#x884C;&#x7F16;&#x5199;&#x4E86;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x53BB;&#x68C0;&#x6D4B;&#x5F53;DOS&#x4E0E;DEC&#x7684;Unix&#x7CFB;&#x7EDF;&#x5728;&#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x5206;&#x4EAB;&#x4F20;&#x8F93;&#x65F6;&#x6240;&#x4F7F;&#x7528;&#x5230;&#x7684;&#x901A;&#x4FE1;&#x534F;&#x8BAE;&#x4FE1;&#x606F;&#xFF0C;&#x7136;&#x540E;&#x83B7;&#x53D6;&#x8FD9;&#x4E9B;&#x91CD;&#x8981;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x5E76;&#x4E14;&#x57FA;&#x4E8E;&#x4E0A;&#x8FF0;&#x6240;&#x627E;&#x5230;&#x7684;&#x901A;&#x4FE1;&#x534F;&#x8BAE;&#x800C;&#x5F00;&#x53D1;&#x51FA;Server Message Block&#xFF08;SMB&#xFF09;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x800C;&#x5C31;&#x662F;&#x8FD9;&#x5957;SMB&#x8F6F;&#x4EF6;&#x5C31;&#x80FD;&#x591F;&#x8BA9;Unix&#x4E0E;DOS&#x4E92;&#x76F8;&#x5171;&#x4EAB;&#x6587;&#x4EF6;&#x3002;</p>
<p>&#x65E2;&#x7136;&#x5199;&#x6210;&#x4E86;&#x8F6F;&#x4EF6;&#xFF0C;&#x603B;&#x9700;&#x8981;&#x6CE8;&#x518C;&#x5546;&#x6807;&#xFF0C;&#x56E0;&#x6B64;Tridgwell&#x5C31;&#x7533;&#x8BF7;SMB Server&#x4F5C;&#x4E3A;&#x8BE5;&#x8F6F;&#x4EF6;&#x7684;&#x5546;&#x6807;&#x3002;&#x53EF;&#x60DC;&#x56E0;&#x4E3A;SMB&#x662F;&#x6CA1;&#x6709;&#x610F;&#x4E49;&#x7684;&#x6587;&#x5B57;&#xFF0C;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x8FBE;&#x6210;&#x6CE8;&#x518C;&#x3002;&#x65E2;&#x7136;&#x5982;&#x6B64;&#xFF0C;&#x80FD;&#x4E0D;&#x80FD;&#x5728;&#x5B57;&#x5178;&#x91CC;&#x9762;&#x627E;&#x5230;&#x76F8;&#x5173;&#x7684;&#x5B57;&#x8BCD;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x5546;&#x6807;&#x6765;&#x6CE8;&#x518C;&#x5462;&#xFF1F;&#x7FFB;&#x4E86;&#x8001;&#x534A;&#x5929;&#xFF0C;&#x53D1;&#x73B0;SAMBA&#x521A;&#x597D;&#x542B;&#x6709;SMB&#xFF0C;&#x53C8;&#x662F;&#x70ED;&#x60C5;&#x6709;&#x52B2;&#x7684;&#x62C9;&#x4E01;&#x821E;&#x8E48;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x4E0D;&#x7136;&#x5C31;&#x7528;&#x8FD9;&#x4E2A;&#x540D;&#x5B57;&#x6765;&#x4F5C;&#x4E3A;&#x5546;&#x6807;&#x597D;&#x4E86;&#x3002;&#x8FD9;&#x6210;&#x4E3A;&#x6211;&#x4EEC;&#x4ECA;&#x5929;&#x6240;&#x4F7F;&#x7528;&#x7684;SAMBA&#x7684;&#x540D;&#x79F0;&#x7684;&#x7531;&#x6765;&#x3002;</p>
<h3 id="Samba&#x7684;&#x4F5C;&#x7528;"><a href="#Samba&#x7684;&#x4F5C;&#x7528;" class="headerlink" title="Samba&#x7684;&#x4F5C;&#x7528;"></a>Samba&#x7684;&#x4F5C;&#x7528;</h3><p>&#x4F5C;&#x7528;&#xFF1A;windows&#x548C;&#x7C7B;unix&#x7CFB;&#x7EDF;&#x6587;&#x4EF6;&#x5171;&#x4EAB;&#x670D;&#x52A1;</p>
<h3 id="Samba&#x7684;&#x8F6F;&#x4EF6;&#x7ED3;&#x6784;"><a href="#Samba&#x7684;&#x8F6F;&#x4EF6;&#x7ED3;&#x6784;" class="headerlink" title="Samba&#x7684;&#x8F6F;&#x4EF6;&#x7ED3;&#x6784;"></a>Samba&#x7684;&#x8F6F;&#x4EF6;&#x7ED3;&#x6784;</h3><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x670D;&#x52A1;&#x7AEF;linux</span></span><br><span class="line"></span><br><span class="line">&#x8F6F;&#x4EF6;		samba samba-common</span><br><span class="line">service		nmb	smb</span><br><span class="line">daemon		nmbd	smbd</span><br><span class="line">&#x7AEF;&#x53E3;		137 138|139 445</span><br><span class="line">&#x914D;&#x7F6E;&#x6587;&#x4EF6;		/etc/samba/smb.conf</span><br><span class="line">&#x6570;&#x636E;&#x6587;&#x4EF6;		/var/lib/samba</span><br><span class="line">&#x65E5;&#x5FD7;&#x6587;&#x4EF6;		/var/log/samba</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5BA2;&#x6237;&#x7AEF;linux</span></span><br><span class="line">&#x8F6F;&#x4EF6;		samba-client</span><br><span class="line">&#x547D;&#x4EE4;		smbclient</span><br><span class="line">		smbclient -L ip -U username</span><br><span class="line">		smbpasswd -a username</span><br><span class="line">		smbpasswd username</span><br><span class="line">		smbclient //172.25.0.11/&#x5171;&#x4EAB;&#x540D;</span><br><span class="line">		smbclient //172.25.0.11/&#x5171;&#x4EAB;&#x540D; -U student</span><br><span class="line">		mount -t cifs //172.25.15.11/&#x5171;&#x4EAB;&#x540D; /mnt -o guest</span><br><span class="line">		mount -t cifs //172.25.15.11/&#x5171;&#x4EAB;&#x540D; /mnt -o username=student</span><br></pre></td></tr></table></figure></p>
<h3 id="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1&#xFF1A;&#x914D;&#x7F6E;samba&#x5171;&#x4EAB;"><a href="#&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1&#xFF1A;&#x914D;&#x7F6E;samba&#x5171;&#x4EAB;" class="headerlink" title="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1&#xFF1A;&#x914D;&#x7F6E;samba&#x5171;&#x4EAB;"></a>&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1&#xFF1A;&#x914D;&#x7F6E;samba&#x5171;&#x4EAB;</h3><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br></pre></td><td class="code"><pre><span class="line">&#x7CFB;&#x7EDF;&#x7528;&#x6237;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment">###########</span></span></span><br><span class="line">&#x670D;&#x52A1;&#x5668;&#x7AEF;rhel6</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment">###########</span></span></span><br><span class="line">[root@rhel6 ~]# yum install -y samba samba-common</span><br><span class="line">[root@rhel6 ~]# service iptables stop</span><br><span class="line">iptables: Setting chains to policy ACCEPT: filter          [  OK  ]</span><br><span class="line">iptables: Flushing firewall rules:                         [  OK  ]</span><br><span class="line">iptables: Unloading modules:                               [  OK  ]</span><br><span class="line">[root@rhel6 ~]#</span><br><span class="line">[root@rhel6 ~]# service smb start</span><br><span class="line">Starting SMB services:                                     [  OK  ]</span><br><span class="line">[root@rhel6 ~]# service nmb start</span><br><span class="line">Starting NMB services:                                     [  OK  ]</span><br><span class="line">[root@rhel6 ~]# id student</span><br><span class="line">uid=500(student) gid=500(student) groups=500(student)</span><br><span class="line">[root@rhel6 ~]# which smbpasswd</span><br><span class="line">/usr/bin/smbpasswd</span><br><span class="line">[root@rhel6 ~]# smbpasswd -a student</span><br><span class="line">New SMB password:</span><br><span class="line">Retype new SMB password:</span><br><span class="line">Added user student.</span><br><span class="line">[root@rhel6 ~]# getsebool -a|grep samba</span><br><span class="line">samba_create_home_dirs --&gt; off</span><br><span class="line">samba_domain_controller --&gt; off</span><br><span class="line">samba_enable_home_dirs --&gt; off</span><br><span class="line">samba_export_all_ro --&gt; off</span><br><span class="line">samba_export_all_rw --&gt; off</span><br><span class="line">samba_portmapper --&gt; off</span><br><span class="line">samba_run_unconfined --&gt; off</span><br><span class="line">samba_share_fusefs --&gt; off</span><br><span class="line">samba_share_nfs --&gt; off</span><br><span class="line">sanlock_use_samba --&gt; off</span><br><span class="line">use_samba_home_dirs --&gt; off</span><br><span class="line">virt_use_samba --&gt; off</span><br><span class="line">[root@rhel6 ~]# setsebool -P samba_enable_home_dirs 1</span><br><span class="line">[root@rhel6 ~]# getsebool -a|grep samba</span><br><span class="line">samba_create_home_dirs --&gt; off</span><br><span class="line">samba_domain_controller --&gt; off</span><br><span class="line">samba_enable_home_dirs --&gt; on</span><br><span class="line">samba_export_all_ro --&gt; off</span><br><span class="line">samba_export_all_rw --&gt; off</span><br><span class="line">samba_portmapper --&gt; off</span><br><span class="line">samba_run_unconfined --&gt; off</span><br><span class="line">samba_share_fusefs --&gt; off</span><br><span class="line">samba_share_nfs --&gt; off</span><br><span class="line">sanlock_use_samba --&gt; off</span><br><span class="line">use_samba_home_dirs --&gt; off</span><br><span class="line">virt_use_samba --&gt; off</span><br><span class="line">-----------------------------------</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5BA2;&#x6237;&#x7AEF;linux&#x2014;&#x2014;&#x7C7B;&#x4F3C;ftp&#x7684;&#x65B9;&#x5F0F;&#x8BBF;&#x95EE;</span></span><br><span class="line">[root@rhel7 ~]# systemctl stop firewalld</span><br><span class="line">[root@rhel7 ~]# yum install -y samba-client</span><br><span class="line">[root@rhel7 ~]# smbclient -L 172.25.0.11</span><br><span class="line">Enter root\&apos;s password:</span><br><span class="line">Anonymous login successful</span><br><span class="line">Domain=[MYGROUP] OS=[Unix] Server=[Samba 3.6.9-164.el6]</span><br><span class="line"></span><br><span class="line">	Sharename       Type      Comment</span><br><span class="line">	---------       ----      -------</span><br><span class="line"><span class="hljs-meta">	IPC$</span><span class="hljs-bash">            IPC       IPC Service (Samba Server Version 3.6.9-164.el6)</span></span><br><span class="line">Anonymous login successful</span><br><span class="line">Domain=[MYGROUP] OS=[Unix] Server=[Samba 3.6.9-164.el6]</span><br><span class="line"></span><br><span class="line">	Server               Comment</span><br><span class="line">	---------            -------</span><br><span class="line">	RHEL6                Samba Server Version 3.6.9-164.el6</span><br><span class="line"></span><br><span class="line">	Workgroup            Master</span><br><span class="line">	---------            -------</span><br><span class="line">	MYGROUP              RHEL6</span><br><span class="line">[root@rhel7 ~]# smbclient -L 172.25.0.11 -U student</span><br><span class="line">Enter student\&apos;s password:</span><br><span class="line">Domain=[MYGROUP] OS=[Unix] Server=[Samba 3.6.9-164.el6]</span><br><span class="line"></span><br><span class="line">	Sharename       Type      Comment</span><br><span class="line">	---------       ----      -------</span><br><span class="line"><span class="hljs-meta">	IPC$</span><span class="hljs-bash">            IPC       IPC Service (Samba Server Version 3.6.9-164.el6)</span></span><br><span class="line">	student         Disk      Home Directories</span><br><span class="line">Domain=[MYGROUP] OS=[Unix] Server=[Samba 3.6.9-164.el6]</span><br><span class="line"></span><br><span class="line">	Server               Comment</span><br><span class="line">	---------            -------</span><br><span class="line">	RHEL6                Samba Server Version 3.6.9-164.el6</span><br><span class="line"></span><br><span class="line">	Workgroup            Master</span><br><span class="line">	---------            -------</span><br><span class="line">	MYGROUP              RHEL6</span><br><span class="line">[root@rhel7 ~]# smbclient //172.25.0.11/student -U student</span><br><span class="line">Enter student\&apos;s password:</span><br><span class="line">Domain=[MYGROUP] OS=[Unix] Server=[Samba 3.6.9-164.el6]</span><br><span class="line">smb: \&gt;</span><br><span class="line">smb: \&gt; ls</span><br><span class="line">NT_STATUS_ACCESS_DENIED listing \*</span><br><span class="line">smb: \&gt; ls</span><br><span class="line">  .                                   D        0  Thu Jul  2 04:01:16 2015</span><br><span class="line">  ..                                  D        0  Thu Jul  2 03:57:29 2015</span><br><span class="line">  .ssh                               DH        0  Thu Jul  2 04:01:07 2015</span><br><span class="line">  .bashrc                             H      124  Tue Jul  9 09:24:50 2013</span><br><span class="line">  .bash_logout                        H       18  Tue Jul  9 09:24:50 2013</span><br><span class="line">  .mozilla                           DH        0  Thu Jul  2 03:36:20 2015</span><br><span class="line">  .bash_history                       H        5  Thu Jul  2 04:01:16 2015</span><br><span class="line">  .gnome2                            DH        0  Wed Jul 14 11:55:40 2010</span><br><span class="line">  .bash_profile                       H      176  Tue Jul  9 09:24:50 2013</span><br><span class="line"></span><br><span class="line">		49584 blocks of size 8192. 45708 blocks available</span><br><span class="line">smb: \&gt; exit</span><br><span class="line">-------------------------------------------------------------</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5BA2;&#x6237;&#x7AEF;windows</span></span><br><span class="line">&#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;&#x8F93;&#x5165;\\172.25.0.11\</span><br><span class="line">&#x8F93;&#x5165;student&#x548C;uplooking&#x5BC6;&#x7801;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x8FDB;&#x5165;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x7684;&#x7528;&#x6237;&#x5BB6;&#x76EE;&#x5F55;&#xFF0C;&#x521B;&#x5EFA;&#x76EE;&#x5F55;aa&#xFF0C;&#x4EE5;&#x53CA;&#x6587;&#x4EF6;aa&#x4E0B;&#x7684;dd.txt</span><br><span class="line">--------------------------------------------------------------</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5BA2;&#x6237;&#x7AEF;linux</span></span><br><span class="line">[root@rhel7 ~]# smbclient //172.25.0.11/student -U student</span><br><span class="line">Enter student\&apos;s password:</span><br><span class="line">Domain=[MYGROUP] OS=[Unix] Server=[Samba 3.6.9-164.el6]</span><br><span class="line">smb: \&gt; ls</span><br><span class="line">  .                                   D        0  Thu Aug  4 04:30:31 2016</span><br><span class="line">  ..                                  D        0  Thu Jul  2 03:57:30 2015</span><br><span class="line">  .ssh                               DH        0  Thu Jul  2 04:01:07 2015</span><br><span class="line">  aa                                  D        0  Thu Aug  4 04:30:28 2016</span><br><span class="line">  .bashrc                             H      124  Tue Jul  9 09:24:50 2013</span><br><span class="line">  .bash_logout                        H       18  Tue Jul  9 09:24:50 2013</span><br><span class="line">  .mozilla                           DH        0  Thu Jul  2 03:36:20 2015</span><br><span class="line">  .bash_history                       H        5  Thu Jul  2 04:01:16 2015</span><br><span class="line">  .gnome2                            DH        0  Wed Jul 14 11:55:40 2010</span><br><span class="line">  .bash_profile                       H      176  Tue Jul  9 09:24:50 2013</span><br><span class="line"></span><br><span class="line">		49584 blocks of size 8192. 45707 blocks available</span><br><span class="line">smb: \&gt; get aa</span><br><span class="line">NT_STATUS_FILE_IS_A_DIRECTORY opening remote file \aa</span><br><span class="line">smb: \&gt; cd aa</span><br><span class="line">smb: \aa\&gt; ls</span><br><span class="line">  .                                   D        0  Thu Aug  4 04:30:28 2016</span><br><span class="line">  ..                                  D        0  Thu Aug  4 04:30:31 2016</span><br><span class="line">  dd.txt                              A        2  Thu Aug  4 04:31:01 2016</span><br><span class="line"></span><br><span class="line">		49584 blocks of size 8192. 45707 blocks available</span><br><span class="line">smb: \aa\&gt; get dd.txt</span><br><span class="line">getting file \aa\dd.txt of size 2 as dd.txt (1.0 KiloBytes/sec) (average 1.0 KiloBytes/sec)</span><br><span class="line">&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x5230;&#x4E86;&#x3002;</span><br><span class="line"></span><br><span class="line">********************************************************************</span><br><span class="line">=====================================================================</span><br><span class="line">&#x533F;&#x540D;&#x7528;&#x6237;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment">###########</span></span></span><br><span class="line">&#x670D;&#x52A1;&#x5668;&#x7AEF;rhel6</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment">###########</span></span></span><br><span class="line"></span><br><span class="line">1.&#x521B;&#x5EFA;&#x5171;&#x4EAB;&#x76EE;&#x5F55;/var/lib/samba/share</span><br><span class="line">[root@rhel6 ~]# mkdir /var/lib/samba/share</span><br><span class="line">2.&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">[root@rhel6 ~]# vim /etc/samba/smb.conf</span><br><span class="line">[public]</span><br><span class="line">       comment = Public Stuff</span><br><span class="line">       path = /var/lib/samba/share</span><br><span class="line">       public = yes</span><br><span class="line">       writable = yes</span><br><span class="line">3.&#x91CD;&#x542F;&#x670D;&#x52A1;</span><br><span class="line">[root@rhel6 ~]# service smb restart</span><br><span class="line">Shutting down SMB services:                                [  OK  ]</span><br><span class="line">Starting SMB services:                                     [  OK  ]</span><br><span class="line">[root@rhel6 ~]# service nmb restart</span><br><span class="line">Shutting down NMB services:                                [  OK  ]</span><br><span class="line">Starting NMB services:                                     [  OK  ]</span><br><span class="line">4.&#x4FEE;&#x6539;&#x5171;&#x4EAB;&#x76EE;&#x5F55;&#x7684;UGO&#x6743;&#x9650;</span><br><span class="line">[root@rhel6 ~]# ll -d /var/lib/samba/share</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Aug  5 10:27 /var/lib/samba/share</span><br><span class="line">[root@rhel6 ~]# grep nobody /etc/passwd</span><br><span class="line">nobody:x:99:99:Nobody:/:/sbin/nologin</span><br><span class="line">nfsnobody:x:65534:65534:Anonymous NFS User:/var/lib/nfs:/sbin/nologin</span><br><span class="line">[root@rhel6 ~]# chown nobody. /var/lib/samba/share</span><br><span class="line">[root@rhel6 ~]# ll -d /var/lib/samba/share</span><br><span class="line">drwxr-xr-x. 2 nobody nobody 4096 Aug  5 10:27 /var/lib/samba/share</span><br><span class="line">[root@rhel6 ~]# touch /var/lib/samba/share</span><br><span class="line">[root@rhel6 ~]# touch /var/lib/samba/share/smb-file{1..5}</span><br><span class="line">[root@rhel6 ~]# chown nobody. /var/lib/samba/share -R</span><br><span class="line"></span><br><span class="line">[root@rhel6 ~]# service smb stop</span><br><span class="line">Shutting down SMB services:                                [  OK  ]</span><br><span class="line">[root@rhel6 ~]# service smb start</span><br><span class="line">Starting SMB services:                                     [  OK  ]</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment">###########</span></span></span><br><span class="line">&#x5BA2;&#x6237;&#x7AEF;rhel7</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment">###########</span></span></span><br><span class="line">[root@rhel7 ~]# smbclient -L 172.25.0.11</span><br><span class="line">Enter root\&apos;s password:</span><br><span class="line">Anonymous login successful</span><br><span class="line">Domain=[MYGROUP] OS=[Unix] Server=[Samba 3.6.9-164.el6]</span><br><span class="line"></span><br><span class="line">	Sharename       Type      Comment</span><br><span class="line">	---------       ----      -------</span><br><span class="line">	public          Disk      Public Stuff</span><br><span class="line"><span class="hljs-meta">	IPC$</span><span class="hljs-bash">            IPC       IPC Service (Samba Server Version 3.6.9-164.el6)</span></span><br><span class="line">Anonymous login successful</span><br><span class="line">Domain=[MYGROUP] OS=[Unix] Server=[Samba 3.6.9-164.el6]</span><br><span class="line"></span><br><span class="line">	Server               Comment</span><br><span class="line">	---------            -------</span><br><span class="line">	RHEL6                Samba Server Version 3.6.9-164.el6</span><br><span class="line"></span><br><span class="line">	Workgroup            Master</span><br><span class="line">	---------            -------</span><br><span class="line">	MYGROUP              RHEL6</span><br><span class="line">[root@rhel7 ~]# smbclient //172.25.0.11/public</span><br><span class="line">Enter root\&apos;s password:</span><br><span class="line">Anonymous login successful</span><br><span class="line">Domain=[MYGROUP] OS=[Unix] Server=[Samba 3.6.9-164.el6]</span><br><span class="line">smb: \&gt; ls</span><br><span class="line">  .                                   D        0  Thu Aug  4 22:32:12 2016</span><br><span class="line">  ..                                  D        0  Thu Aug  4 22:30:52 2016</span><br><span class="line">  smb-file4                           N        0  Thu Aug  4 22:32:12 2016</span><br><span class="line">  smb-file2                           N        0  Thu Aug  4 22:32:12 2016</span><br><span class="line">  smb-file5                           N        0  Thu Aug  4 22:32:12 2016</span><br><span class="line">  smb-file1                           N        0  Thu Aug  4 22:32:12 2016</span><br><span class="line">  smb-file3                           N        0  Thu Aug  4 22:32:12 2016</span><br><span class="line"></span><br><span class="line">		34505 blocks of size 524288. 26941 blocks available</span><br><span class="line">smb: \&gt; get smb-file1</span><br><span class="line">getting file \smb-file1 of size 0 as smb-file1 (0.0 KiloBytes/sec) (average 0.0 KiloBytes/sec)</span><br><span class="line">smb: \&gt; put rhel7</span><br><span class="line">putting file rhel7 as \rhel7 (0.0 kb/s) (average 0.0 kb/s)</span><br><span class="line">smb: \&gt; ls</span><br><span class="line">  .                                   D        0  Thu Aug  4 22:34:46 2016</span><br><span class="line">  ..                                  D        0  Thu Aug  4 22:30:52 2016</span><br><span class="line">  smb-file4                           N        0  Thu Aug  4 22:32:12 2016</span><br><span class="line">  rhel7                               A        0  Thu Aug  4 22:34:46 2016</span><br><span class="line">  smb-file2                           N        0  Thu Aug  4 22:32:12 2016</span><br><span class="line">  smb-file5                           N        0  Thu Aug  4 22:32:12 2016</span><br><span class="line">  smb-file1                           N        0  Thu Aug  4 22:32:12 2016</span><br><span class="line">  smb-file3                           N        0  Thu Aug  4 22:32:12 2016</span><br><span class="line"></span><br><span class="line">		34505 blocks of size 524288. 26941 blocks available</span><br><span class="line">smb: \&gt; exit</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment">###########</span></span></span><br><span class="line">&#x5BA2;&#x6237;&#x7AEF;windows</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment">###########</span></span></span><br><span class="line">&#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;&#x8F93;&#x5165;\\172.25.0.11\</span><br><span class="line">&#x5C31;&#x80FD;&#x770B;&#x5230;public&#x4E86;</span><br><span class="line"></span><br><span class="line">=================================================================</span><br><span class="line">&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;</span><br><span class="line">&#x4EE5;&#x7C7B;&#x4F3C;nfs&#x6302;&#x63A5;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x5171;&#x4EAB;samba</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment">##</span></span></span><br><span class="line">&#x5BA2;&#x6237;&#x7AEF;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment">##</span></span></span><br><span class="line">mount -t cifs //172.25.0.11/student /mnt -o username=student</span><br><span class="line">uplooking</span><br><span class="line"></span><br><span class="line">1.&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;cifs-utils</span><br><span class="line">[root@rhel7 ~]# yum install -y cifs-utils</span><br><span class="line">2.mount&#x6302;&#x8F7D;</span><br><span class="line">[root@rhel7 ~]# mount -t cifs //172.25.0.11/student /mnt -o username=student</span><br><span class="line">Password for student@//172.25.0.11/student:  *********</span><br><span class="line">[root@rhel7 ~]# mount|tail -n 1</span><br><span class="line">//172.25.0.11/student on /mnt type cifs (rw,relatime,vers=1.0,cache=strict,username=student,domain=RHEL6,uid=0,noforceuid,gid=0,noforcegid,addr=172.25.0.11,unix,posixpaths,serverino,acl,rsize=1048576,wsize=65536,actimeo=1)</span><br><span class="line">[root@rhel7 ~]# cd /mnt</span><br><span class="line">[root@rhel7 mnt]# ll</span><br><span class="line">total 1024</span><br><span class="line">-rwxrw-r--. 1 500 500 8 Aug  4 22:15 file-student.txt</span><br><span class="line">drwxr-xr-x. 2 500 500 0 Aug  4 22:19 windows</span><br><span class="line"></span><br><span class="line">3.&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x81EA;&#x52A8;&#x6302;&#x8F7D;&#xFF0C;/etc/bashrc&#x6216;&#x8005;/etc/profile&#x4E2D;</span><br></pre></td></tr></table></figure></p>
<h3 id="Samba&#x7684;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-etc-samba-smb-conf&#x8BE6;&#x7EC6;&#x89E3;&#x6790;"><a href="#Samba&#x7684;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-etc-samba-smb-conf&#x8BE6;&#x7EC6;&#x89E3;&#x6790;" class="headerlink" title="Samba&#x7684;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/samba/smb.conf&#x8BE6;&#x7EC6;&#x89E3;&#x6790;"></a>Samba&#x7684;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/samba/smb.conf&#x8BE6;&#x7EC6;&#x89E3;&#x6790;</h3><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&#x9996;&#x5148;&#x662F;&#x5168;&#x5C40;&#x914D;&#x7F6E;</span><br><span class="line">&#x3010;global&#x3011;</span><br><span class="line">        workgroup = MYGROUP     --&gt;&#x5DE5;&#x4F5C;&#x7EC4;&#xFF0C;&#x5DE5;&#x4F5C;&#x7EC4;&#x662F;windows&#x4E0A;&#x7684;&#x6982;&#x5FF5;</span><br><span class="line">        server string = Samba Server Version %v   --&gt;&#x5173;&#x4E8E;samba&#x7684;&#x8BF4;&#x660E;</span><br><span class="line"></span><br><span class="line">        netbios name = MYSERVER   --&gt;&#x7F51;&#x7EDC;&#x540D;&#x79F0;</span><br><span class="line"></span><br><span class="line">;       interfaces = lo eth0 192.168.12.2/24 192.168.13.2/24   --&gt;&#x63A5;&#x53E3;&#x7F51;&#x6BB5;&#x4FE1;&#x606F;</span><br><span class="line">;       hosts allow = 127. 192.168.12. 192.168.13.    --&gt;&#x5141;&#x8BB8;&#x54EA;&#x4E9B;&#x673A;&#x5668;&#x6765;&#x8BBF;&#x95EE;&#x5171;&#x4EAB;</span><br><span class="line"></span><br><span class="line">;       max protocol = SMB2</span><br><span class="line">&#x3010;logging options&#x3011;  &#x5173;&#x4E8E;&#x65E5;&#x5FD7;&#x7684;&#x914D;&#x7F6E;</span><br><span class="line"> 	log file = /var/log/samba/log.%m    	&#x65E5;&#x5FD7;&#x5B58;&#x653E;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;%m&#x4EE3;&#x8868;&#x65E5;&#x671F;</span><br><span class="line"> 	max log size = 50			&#x65E5;&#x5FD7;&#x7684;&#x5927;&#x5C0F;&#x9650;&#x5236;&#x4E3A;50K</span><br><span class="line">&#x3010; Standalone Server Options &#x3011; &#x5173;&#x4E8E;&#x5B89;&#x5168;&#x7EA7;&#x522B;&#x7684;&#x76F8;&#x5173;&#x914D;&#x7F6E;</span><br><span class="line">        security = user    --&gt; user&#x4EE3;&#x8868;&#x9700;&#x8981;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#xFF0C;&#x5BC6;&#x7801;&#x4E0E;&#x4E0B;&#x9762;&#x7684;passdb backend&#x6709;&#x5173;&#xFF0C;share&#x4EE3;&#x8868;&#x4EFB;&#x4F55;&#x6765;&#x90FD;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#xFF0C;server&#x6307;&#x7684;&#x662F;&#x4F7F;&#x7528;&#x5916;&#x90E8;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x9700;&#x8981;&#x63D0;&#x4F9B;password server = IP&#x7684;&#x8BBE;&#x7F6E;&#x503C;&#x624D;&#x884C;&#x3002;</span><br><span class="line">        passdb backend = tdbsam   --&gt;&#x6570;&#x636E;&#x5E93;&#x683C;&#x5F0F;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;&#x683C;&#x5F0F;&#x662F;tdbsam&#xFF0C;&#x6587;&#x804C;&#x88AB;&#x653E;&#x7F6E;&#x5230;/var/lib/samba/private/passwd.tdb</span><br><span class="line"></span><br><span class="line">&#x3010; Share Definitions &#x3011;</span><br><span class="line">[homes]    --&gt;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x7528;&#x6237;&#x5BB6;&#x76EE;&#x5F55;&#x7684;&#x5171;&#x4EAB;&#x4FE1;&#x606F;</span><br><span class="line">        comment = Home Directories</span><br><span class="line">        browseable = no</span><br><span class="line">        writable = yes</span><br><span class="line">;       valid users = %S</span><br><span class="line">;       valid users = MYDOMAIN\%S</span><br><span class="line">[printers]  --&gt;&#x5173;&#x4E8E;&#x6253;&#x5370;&#x673A;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E9B;&#x4F8B;&#x5B50;&#x3002;&#x4E0B;&#x9762;&#x8DDF;&#x4E0A;&#x4E86;&#x4E00;&#x4E9B;&#x9009;&#x9879;&#x3002;</span><br><span class="line">        path = /var/spool/samba</span><br><span class="line">        browseable = no</span><br><span class="line">        guest ok = no</span><br><span class="line">        writable = no</span><br><span class="line">        printable = yes</span><br><span class="line">[sharesmb]        --&gt;&#x5171;&#x4EAB;&#x76EE;&#x5F55;&#x540D;</span><br><span class="line">        comment = &#x8BF4;&#x660E;</span><br><span class="line">        path = /test    --&gt;&#x5171;&#x4EAB;&#x8DEF;&#x5F84;</span><br><span class="line">        public = yes    --&gt;&#x662F;&#x5426;&#x6240;&#x6709;&#x4EBA;&#x90FD;&#x80FD;&#x591F;&#x8BBF;&#x95EE;</span><br><span class="line">        writable = yes  --&gt;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x5199;</span><br><span class="line">        printable = no  --&gt;&#x662F;&#x5426;&#x6253;&#x5370;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;no&#xFF0C;&#x5199;&#x4E86;yes&#x4F1A;&#x76F4;&#x63A5;&#x88AB;&#x4F20;&#x9012;&#x5230;&#x6253;&#x5370;&#x673A;&#xFF0C;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x8BE5;&#x884C;</span><br><span class="line">        write list = +staff  --&gt;&#x53EF;&#x5199;&#x7528;&#x6237;&#x5217;&#x8868;&#x3002;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x5148;&#x628A;&#x8FD9;&#x884C;&#x5220;&#x6389;&#x3002;</span><br><span class="line">        browsable=no    --&gt;&#x662F;&#x5426;&#x53EF;&#x6D4F;&#x89C8;&#xFF0C;&#x5982;&#x679C;&#x662F;yes&#x5219;&#x9ED8;&#x8BA4;&#x9690;&#x85CF;&#x3002;</span><br><span class="line">     	  hosts allow= &#x7528;&#x6765;&#x9650;&#x5236;&#x4E3B;&#x673A;&#x548C;&#x7F51;&#x6BB5;&#x3002;&#x8C01;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x3002;</span><br></pre></td></tr></table></figure></p>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2016/12/23/booboo_easy_service/05_apache/" itemprop="url">APACHE WEB服务</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2016-12-22T21:06:27.000Z" itemprop="datePublished">12月 23 2016</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/">技术培训</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/Linux%E7%AE%80%E6%98%93%E6%9C%8D%E5%8A%A1%E6%95%99%E7%A8%8B/">Linux简易服务教程</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            38 分钟 lesen (Über 5660 Wörter)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <h3 id="Web&#x57FA;&#x7840;"><a href="#Web&#x57FA;&#x7840;" class="headerlink" title="Web&#x57FA;&#x7840;"></a>Web&#x57FA;&#x7840;</h3><p>&#x6211;&#x4EEC;&#x5E73;&#x65F6;&#x4E0A;&#x7F51;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8F93;&#x5165;&#x7F51;&#x5740;&#x7684;&#x65F6;&#x5019;&#x90FD;&#x4F1A;&#x8F93;&#x5165;&#x4EC0;&#x4E48;&#xFF0C;<a href="http://www.baidu.com&#xFF0C;&#x5BF9;&#x4E0D;&#x5BF9;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;www&#x662F;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;&#x8FD9;&#x4E2A;www&#x4EE3;&#x8868;&#x7684;&#x662F;world" target="_blank" rel="noopener">www.baidu.com&#xFF0C;&#x5BF9;&#x4E0D;&#x5BF9;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;www&#x662F;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;&#x8FD9;&#x4E2A;www&#x4EE3;&#x8868;&#x7684;&#x662F;world</a> wide web&#xFF0C;WWW&#x53EF;&#x4EE5;&#x8BA9;Web&#x5BA2;&#x6237;&#x7AEF;&#xFF08;&#x5E38;&#x7528;&#x6D4F;&#x89C8;&#x5668;&#xFF09;&#x8BBF;&#x95EE;&#x6D4F;&#x89C8;Web&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x9875;&#x9762;&#x3002; &#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x7531;&#x8BB8;&#x591A;&#x4E92;&#x76F8;&#x94FE;&#x63A5;&#x7684;&#x8D85;&#x6587;&#x672C;&#x7EC4;&#x6210;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x901A;&#x8FC7;&#x4E92;&#x8054;&#x7F51;&#x8BBF;&#x95EE;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x6BCF;&#x4E2A;&#x6709;&#x7528;&#x7684;&#x4E8B;&#x7269;&#xFF0C;&#x79F0;&#x4E3A;&#x4E00;&#x6837;&#x201C;&#x8D44;&#x6E90;&#x201D;&#xFF1B;&#x5E76;&#x4E14;&#x7531;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x201C;&#x7EDF;&#x4E00;&#x8D44;&#x6E90;&#x6807;&#x8BC6;&#x7B26;&#x201D;&#xFF08;URL&#xFF09;&#x6807;&#x8BC6;&#xFF1B;&#x8FD9;&#x4E9B;&#x8D44;&#x6E90;&#x901A;&#x8FC7;&#x8D85;&#x6587;&#x672C;&#x4F20;&#x8F93;&#x534F;&#x8BAE;&#xFF08;Hypertext Transfer Protocol&#xFF09;&#x4F20;&#x9001;&#x7ED9;&#x7528;&#x6237;&#xFF0C;&#x800C;&#x540E;&#x8005;&#x901A;&#x8FC7;&#x70B9;&#x51FB;&#x94FE;&#x63A5;&#x6765;&#x83B7;&#x5F97;&#x8D44;&#x6E90;&#x3002;</p>
<p>HTTP&#x662F;Hypertext Transfer Protocol&#x7684;&#x7F29;&#x5199;&#xFF0C;&#x5373;&#x8D85;&#x6587;&#x672C;&#x4F20;&#x8F93;&#x534F;&#x8BAE;&#x3002; &#x987E;&#x540D;&#x601D;&#x4E49;&#xFF0C;HTTP&#x63D0;&#x4F9B;&#x4E86;&#x8BBF;&#x95EE;&#x8D85;&#x6587;&#x672C;&#x4FE1;&#x606F;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x662F;WWW&#x6D4F;&#x89C8;&#x5668;&#x548C;WWW&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x7684;&#x5E94;&#x7528;&#x5C42;&#x901A;&#x4FE1;&#x534F;&#x8BAE;&#x3002;HTTP&#x534F;&#x8BAE;&#x662F;&#x7528;&#x4E8E;&#x5206;&#x5E03;&#x5F0F;&#x534F;&#x4F5C;&#x8D85;&#x6587;&#x672C;&#x4FE1;&#x606F;&#x7CFB;&#x7EDF;&#x7684;&#x3001;&#x901A;&#x7528;&#x7684;&#x3001;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x534F;&#x8BAE;&#x3002;&#x901A;&#x8FC7;&#x6269;&#x5C55;&#x547D;&#x4EE4;&#xFF0C;&#x5B83;&#x53EF;&#x7528;&#x4E8E;&#x7C7B;&#x4F3C;&#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x5982;&#x57DF;&#x540D;&#x670D;&#x52A1;&#x6216;&#x5206;&#x5E03;&#x5F0F;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7CFB;&#x7EDF;&#x3002;WWW&#x4F7F;&#x7528;HTTP&#x534F;&#x8BAE;&#x4F20;&#x8F93;&#x5404;&#x79CD;&#x8D85;&#x6587;&#x672C;&#x9875;&#x9762;&#x548C;&#x6570;&#x636E;&#x3002;</p>
<p>&#x7F51;&#x9875;&#x6587;&#x4EF6;&#x662F;&#x7528;HTML&#xFF08;&#x6807;&#x51C6;&#x901A;&#x7528;&#x6807;&#x8BB0;&#x8BED;&#x8A00;&#x4E0B;&#x7684;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#xFF09;&#x7F16;&#x5199;&#x7684;&#xFF0C;&#x53EF;&#x5728;WWW&#x4E0A;&#x4F20;&#x8F93;&#xFF0C;&#x80FD;&#x88AB;&#x6D4F;&#x89C8;&#x5668;&#x8BC6;&#x522B;&#x663E;&#x793A;&#x7684;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x3002;&#x5176;&#x6269;&#x5C55;&#x540D;&#x662F;.htm&#x548C;.html&#x3002;</p>
<p>Web&#x7684;&#x670D;&#x52A1;&#x5668;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x6709;windows&#x4E0A;&#x7684;IIS&#xFF0C;&#x8FD8;&#x6709;linux&#x4E0A;&#x7684;apache&#x3002;&#x53E6;&#x5916;&#x8FD8;&#x6709;&#x4F8B;&#x5982;nginx&#x7B49;&#x7684;&#x8F7B;&#x91CF;&#x7EA7;&#x670D;&#x52A1;&#x5668;&#x3002;&#x90FD;&#x662F;&#x6BD4;&#x8F83;&#x5E38;&#x7528;&#x7684;&#x4E00;&#x4E9B;&#x670D;&#x52A1;&#x5668;&#x3002;&#x6211;&#x4EEC;&#x57FA;&#x7840;&#x8BFE;&#x4E3B;&#x8981;&#x7B80;&#x5355;&#x4ECB;&#x7ECD;&#x4E00;&#x4E9B;apache&#x7684;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x642D;&#x5EFA;&#x3002;</p>
<h3 id="Apache&#x7684;&#x7B80;&#x4ECB;"><a href="#Apache&#x7684;&#x7B80;&#x4ECB;" class="headerlink" title="Apache&#x7684;&#x7B80;&#x4ECB;"></a>Apache&#x7684;&#x7B80;&#x4ECB;</h3><ul>
<li>HTTP (Web) server&#x3001;&#x5F00;&#x6E90;&#x3001;1995&#x5E74;</li>
<li>&#x5B98;&#x7F51;&#xFF1A; <a href="http://httpd.apache.org/" target="_blank" rel="noopener">http://httpd.apache.org/</a></li>
</ul>
<p>Apache &#x8D77;&#x521D;&#x7531; Illinois &#x5927;&#x5B66; Urbana-Champaign &#x7684;&#x56FD;&#x5BB6;&#x9AD8;&#x7EA7;&#x8BA1;&#x7B97;&#x7A0B;&#x5E8F;&#x4E2D;&#x5FC3;&#x5F00;&#x53D1;&#x3002;&#x6B64;&#x540E;&#xFF0C;Apache &#x88AB;&#x5F00;&#x653E;&#x6E90;&#x4EE3;&#x7801;&#x56E2;&#x4F53;&#x7684;&#x6210;&#x5458;&#x4E0D;&#x65AD;&#x7684;&#x53D1;&#x5C55;&#x548C;&#x52A0;&#x5F3A;&#x3002;Apache &#x670D;&#x52A1;&#x5668;&#x62E5;&#x6709;&#x7262;&#x9760;&#x53EF;&#x4FE1;&#x7684;&#x7F8E;&#x8A89;&#xFF0C;&#x5DF2;&#x7528;&#x5728;&#x8D85;&#x8FC7;&#x534A;&#x6570;&#x7684;&#x56E0;&#x7279;&#x7F51;&#x7AD9;&#x4E2D;&#xFF0D;&#x7279;&#x522B;&#x662F;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x6700;&#x70ED;&#x95E8;&#x548C;&#x8BBF;&#x95EE;&#x91CF;&#x6700;&#x5927;&#x7684;&#x7F51;&#x7AD9;&#x3002;</p>
<p>&#x5F00;&#x59CB;&#xFF0C;Apache&#x53EA;&#x662F;Netscape&#x7F51;&#x9875;&#x670D;&#x52A1;&#x5668;&#xFF08;&#x73B0;&#x5728;&#x662F;Sun ONE&#xFF09;&#x7684;&#x4E4B;&#x5916;&#x7684;&#x5F00;&#x653E;&#x6E90;&#x4EE3;&#x7801;&#x9009;&#x62E9;&#x3002;&#x6E10;&#x6E10;&#x7684;&#xFF0C;&#x5B83;&#x5F00;&#x59CB;&#x5728;&#x529F;&#x80FD;&#x548C;&#x901F;&#x5EA6;&#x3002;&#x8D85;&#x8D8A;&#x5176;&#x4ED6;&#x7684;&#x57FA;&#x4E8E;Unix&#x7684;HTTP&#x670D;&#x52A1;&#x5668;&#x3002;1996&#x5E74;4&#x6708;&#x4EE5;&#x6765;&#xFF0C;Apache&#x4E00;&#x76F4;&#x662F;Internet&#x4E0A;&#x6700;&#x6D41;&#x884C;&#x7684;HTTP&#x670D;&#x52A1;&#x5668;: 1999&#x5E74;5&#x6708;&#x5B83;&#x5728; 57% &#x7684;&#x7F51;&#x9875;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8FD0;&#x884C;&#xFF1B;&#x5230;&#x4E86;2005&#x5E74;7&#x6708;&#x8FD9;&#x4E2A;&#x6BD4;&#x4F8B;&#x4E0A;&#x5347;&#x5230;&#x4E86;69%&#x3002;</p>
<p>&#x4F5C;&#x8005;&#x5BA3;&#x79F0;&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x540D;&#x5B57;&#x597D;&#x8BB0;&#x624D;&#x5728;&#x6700;&#x521D;&#x9009;&#x62E9;&#x5B83;&#xFF0C;&#x4F46;&#x662F;&#x6D41;&#x4F20;&#x6700;&#x5E7F;&#x7684;&#x89E3;&#x91CA;&#x662F;&#xFF08;&#x4E5F;&#x662F;&#x6700;&#x663E;&#x800C;&#x6613;&#x89C1;&#x7684;&#xFF09;:&#x8FD9;&#x4E2A;&#x540D;&#x5B57;&#x6765;&#x81EA;&#x8FD9;&#x4E48;&#x4E00;&#x4E2A;&#x4E8B;&#x5B9E;:&#x5F53;Apache&#x5728;1995&#x5E74;&#x521D;&#x5F00;&#x53D1;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5B83;&#x662F;&#x7531;&#x5F53;&#x65F6;&#x6700;&#x6D41;&#x884C;&#x7684;HTTP&#x670D;&#x52A1;&#x5668;NCSA HTTPd 1.3 &#x7684;&#x4EE3;&#x7801;&#x4FEE;&#x6539;&#x800C;&#x6210;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x662F;&#x201C;&#x4E00;&#x4E2A;&#x4FEE;&#x8865;&#x7684;&#xFF08;a patchy&#xFF09;&#x201D;&#x670D;&#x52A1;&#x5668;&#x3002;&#x7136;&#x800C;&#x5728;&#x670D;&#x52A1;&#x5668;&#x5B98;&#x65B9;&#x7F51;&#x7AD9;&#x7684;FAQ&#x4E2D;&#x662F;&#x8FD9;&#x4E48;&#x89E3;&#x91CA;&#x7684;:&#x201C;&#x2018;Apache&#x2019;&#x8FD9;&#x4E2A;&#x540D;&#x5B57;&#x662F;&#x4E3A;&#x4E86;&#x7EAA;&#x5FF5;&#x540D;&#x4E3A;Apache(&#x5370;&#x5730;&#x8BED;)&#x7684;&#x7F8E;&#x6D32;&#x5370;&#x7B2C;&#x5B89;&#x4EBA;&#x571F;&#x8457;&#x7684;&#x4E00;&#x652F;&#xFF0C;&#x4F17;&#x6240;&#x5468;&#x77E5;&#x4ED6;&#x4EEC;&#x62E5;&#x6709;&#x9AD8;&#x8D85;&#x7684;&#x4F5C;&#x6218;&#x7B56;&#x7565;&#x548C;&#x65E0;&#x7A77;&#x7684;&#x8010;&#x6027;&#x201D;&#x3002;</p>
<p>Apache&#x7684;&#x8F6F;&#x4EF6;&#x540D;&#x79F0;&#x5C31;&#x53EB;&#x505A;httpd&#xFF0C;&#x8FD9;&#x91CC;&#x8981;&#x6CE8;&#x610F;&#x4E00;&#x4E0B;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4EE5;el6&#x4F5C;&#x4E3A;&#x670D;&#x52A1;&#x5668;&#xFF0C;el7&#x4F5C;&#x4E3A;&#x5BA2;&#x6237;&#x7AEF;&#x3002;</p>
<h3 id="Apache&#x7684;&#x8F6F;&#x4EF6;&#x7ED3;&#x6784;"><a href="#Apache&#x7684;&#x8F6F;&#x4EF6;&#x7ED3;&#x6784;" class="headerlink" title="Apache&#x7684;&#x8F6F;&#x4EF6;&#x7ED3;&#x6784;"></a>Apache&#x7684;&#x8F6F;&#x4EF6;&#x7ED3;&#x6784;</h3><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">apache</span><br><span class="line">&#x8F6F;&#x4EF6;			 httpd</span><br><span class="line">					rhel6	httpd-2.2.15-29.el6_4.x86_64</span><br><span class="line">					rhel7	httpd-2.4.6-17.el7.x86_64</span><br><span class="line">service		httpd</span><br><span class="line">daemon		httpd</span><br><span class="line">&#x7AEF;&#x53E3;			80</span><br><span class="line">&#x914D;&#x7F6E;&#x6587;&#x4EF6;	/etc/httpd/conf/httpd.conf</span><br><span class="line">				/etc/httpd/conf.d/*.conf</span><br><span class="line">&#x6570;&#x636E;&#x6587;&#x4EF6;	/var/www/</span><br><span class="line">				/var/www/uplooking/	www.uplooking.com----&#x7F51;&#x7AD9;&#x6839;&#x76EE;&#x5F55;</span><br><span class="line">&#x65E5;&#x5FD7;&#x6587;&#x4EF6;	/var/log/httpd</span><br></pre></td></tr></table></figure></p>
<h3 id="Apache&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x65B9;&#x6848;"><a href="#Apache&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x65B9;&#x6848;" class="headerlink" title="Apache&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x65B9;&#x6848;"></a>Apache&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x65B9;&#x6848;</h3><ol>
<li>&#x57FA;&#x4E8E;&#x7AEF;&#x53E3;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">www.uplooking.com:80	----&gt;	/var/www/uplooking.com/</span><br><span class="line">www.uplooking.com:8080	----&gt;	/var/www/abc.com/</span><br></pre></td></tr></table></figure></li>
<li>&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">www.uplooking.com----/var/www/uplooking.com/</span><br><span class="line">www.abc.com----/var/www/abc.com/</span><br></pre></td></tr></table></figure><h3 id="Apache&#x5B9E;&#x8DF5;"><a href="#Apache&#x5B9E;&#x8DF5;" class="headerlink" title="Apache&#x5B9E;&#x8DF5;"></a>Apache&#x5B9E;&#x8DF5;</h3></li>
</ol>
<h4 id="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x7AEF;&#x53E3;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;"><a href="#&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x7AEF;&#x53E3;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;" class="headerlink" title="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x7AEF;&#x53E3;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;"></a>&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x7AEF;&#x53E3;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;</h4><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">	8080---&gt;</span><span class="hljs-bash">/var/www/8080.com/</span></span><br><span class="line">*******************************************</span><br><span class="line">1)&#x4FEE;&#x6539;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x6253;&#x5F00;&#x8981;&#x76D1;&#x542C;&#x7684;&#x7AEF;&#x53E3;&#x53F7;</span><br><span class="line">[root@rhel6 ~]# vim /etc/httpd/conf/httpd.conf</span><br><span class="line">Listen 80</span><br><span class="line">Listen 8080</span><br><span class="line">2)&#x4E3A;&#x4E0D;&#x540C;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">[root@rhel6 conf.d]# pwd</span><br><span class="line">/etc/httpd/conf.d</span><br><span class="line">[root@rhel6 conf.d]# vim 8080.conf</span><br><span class="line">&lt;VirtualHost *:8080&gt;</span><br><span class="line">    ServerAdmin booboo@8080.com</span><br><span class="line">    DocumentRoot /var/www/8080.com</span><br><span class="line">    ServerName www.8080.com</span><br><span class="line">    ErrorLog logs/8080.com-error_log</span><br><span class="line">    CustomLog logs/8080.com-access_log common</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line"></span><br><span class="line">3.&#x521B;&#x5EFA;&#x7F51;&#x7AD9;&#x6839;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x521B;&#x5EFA;&#x7F51;&#x7AD9;&#x9ED8;&#x8BA4;&#x9996;&#x9875;</span><br><span class="line">[root@rhel6 conf.d]# mkdir /var/www/8080.com</span><br><span class="line">[root@rhel6 conf.d]# echo 8080.com &gt; /var/www/8080.com/index.html</span><br><span class="line">4.&#x91CD;&#x542F;&#x670D;&#x52A1;</span><br><span class="line">[root@rhel6 conf.d]# service httpd start</span><br></pre></td></tr></table></figure></p>
<p>&#x62D3;&#x5C55;8081&#x548C;8082&#x7AEF;&#x53E3;</p>
<ol>
<li>&#x5173;&#x95ED;selinux</li>
<li>&#x914D;&#x7F6E;selinux&#x5B89;&#x5168;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x5141;&#x8BB8;httpd&#x76D1;&#x542C;8081&#x548C;8082&#x7AEF;&#x53E3;<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 conf.d]# semanage port -l|grep http</span><br><span class="line">http_cache_port_t              tcp      3128, 8080, 8118, 8123, 10001-10010</span><br><span class="line">http_cache_port_t              udp      3130</span><br><span class="line">http_port_t                    tcp      80, 81, 443, 488, 8008, 8009, 8443, 9000</span><br><span class="line">pegasus_http_port_t            tcp      5988</span><br><span class="line">pegasus_https_port_t           tcp      5989</span><br><span class="line"></span><br><span class="line">[root@rhel6 conf.d]# semanage port -a -t http_port_t -p tcp 8081</span><br><span class="line">[root@rhel6 conf.d]# semanage port -a -t http_port_t -p tcp 8082</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;2&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;"><a href="#&#x9879;&#x76EE;&#x5B9E;&#x8DF5;2&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;" class="headerlink" title="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;2&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;"></a>&#x9879;&#x76EE;&#x5B9E;&#x8DF5;2&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;</h4><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">	www.taobao.com		/var/www/taobao.com/</span><br><span class="line">	www.abc.com		/var/www/abc.com/</span><br><span class="line">*******************************************************</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment">####</span></span></span><br><span class="line">&#x670D;&#x52A1;&#x7AEF;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment">####</span></span></span><br><span class="line">1.&#x4FEE;&#x6539;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">[root@rhel6 conf.d]# vim /etc/httpd/conf/httpd.conf</span><br><span class="line">NameVirtualHost *:80</span><br><span class="line">2.&#x521B;&#x5EFA;&#x62D3;&#x5C55;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">[root@rhel6 conf.d]# vim taobao.conf</span><br><span class="line">&lt;VirtualHost *:80&gt;</span><br><span class="line">    ServerAdmin booboo@taobao.com</span><br><span class="line">    DocumentRoot /var/www/taobao.com</span><br><span class="line">    ServerName www.taobao.com</span><br><span class="line">    ErrorLog logs/taobao.com-error_log</span><br><span class="line">    CustomLog logs/taobao.com-access_log common</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line"></span><br><span class="line">&lt;Directory &quot;/var/www/taobao.com/&quot;&gt;</span><br><span class="line">    Options Indexes ==&gt;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5BF9;&#x5E94;&#x7684;index&#x6587;&#x4EF6;&#xFF0C;&#x5C31;&#x5C06;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x5176;&#x4ED6;&#x6587;&#x4EF6;&#x7F57;&#x5217;&#x51FA;&#x6765;&#x3002;</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line"></span><br><span class="line">[root@rhel6 conf.d]# vim abc.conf</span><br><span class="line">[root@rhel6 conf.d]# cat abc.conf</span><br><span class="line">&lt;VirtualHost *:80&gt;</span><br><span class="line">    ServerAdmin booboo@abc.com</span><br><span class="line">    DocumentRoot /var/www/abc.com</span><br><span class="line">    ServerName www.abc.com</span><br><span class="line">    ErrorLog logs/abc.com-error_log</span><br><span class="line">    CustomLog logs/abc.com-access_log common</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line"></span><br><span class="line">&lt;Directory &quot;/var/www/abc.com/&quot;&gt;</span><br><span class="line">    Options Indexes</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line"></span><br><span class="line">[root@rhel6 conf.d]# mkdir /var/www/taobao.com</span><br><span class="line">[root@rhel6 conf.d]# mkdir /var/www/abc.com</span><br><span class="line">[root@rhel6 conf.d]# echo www.taobao.com &gt; /var/www/taobao.com/index.html</span><br><span class="line">[root@rhel6 conf.d]# echo www.abc.com &gt; /var/www/abc.com/index.html</span><br><span class="line">[root@rhel6 conf.d]# service httpd restart</span><br><span class="line">==================================================================================================</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment">####</span></span></span><br><span class="line">&#x5BA2;&#x6237;&#x7AEF;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment">####</span></span></span><br><span class="line">1.&#x5B89;&#x88C5;elinks&#x8F6F;&#x4EF6;&#xFF0C;bash&#x4E0B;&#x7684;&#x4E00;&#x4E2A;&#x7F51;&#x7AD9;&#x6D4F;&#x89C8;&#x8F6F;&#x4EF6;</span><br><span class="line">[root@rhel7 mnt]# yum install -y elinks</span><br><span class="line">2.&#x6DFB;&#x52A0;&#x57DF;&#x540D;&#x89E3;&#x6790;</span><br><span class="line">[root@rhel7 mnt]# cat /etc/hosts</span><br><span class="line">127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line">::1         localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br><span class="line">172.25.0.11	www.taobao.com</span><br><span class="line">172.25.0.11	www.abc.com</span><br><span class="line">3.&#x901A;&#x8FC7;links&#x547D;&#x4EE4;&#x8BBF;&#x95EE;www.taobao.com&#x548C;www.abc.com</span><br><span class="line">[root@rhel7 mnt]# links www.taobao.com</span><br><span class="line">[root@rhel7 mnt]# links www.abc.com</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment">####</span></span></span><br><span class="line">-X &#x5E26;&#x56FE;&#x5F62;&#x5316;&#x754C;&#x9762;&#x7684;&#x8FDC;&#x7A0B;&#x767B;&#x5F55;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment">####</span></span></span><br><span class="line">[kiosk@foundation0 Desktop]$ ssh root@172.25.0.10 -X</span><br><span class="line">Last login: Fri Aug  5 03:14:10 2016</span><br><span class="line">/usr/bin/xauth:  file /root/.Xauthority does not exist</span><br><span class="line">[root@rhel7 ~]# firefox</span><br></pre></td></tr></table></figure></p>
<h4 id="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;3&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x9488;&#x5BF9;&#x67D0;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x505A;&#x9650;&#x5236;"><a href="#&#x9879;&#x76EE;&#x5B9E;&#x8DF5;3&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x9488;&#x5BF9;&#x67D0;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x505A;&#x9650;&#x5236;" class="headerlink" title="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;3&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x9488;&#x5BF9;&#x67D0;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x505A;&#x9650;&#x5236;"></a>&#x9879;&#x76EE;&#x5B9E;&#x8DF5;3&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x9488;&#x5BF9;&#x67D0;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x505A;&#x9650;&#x5236;</h4><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Directory&#x662F;&#x9488;&#x5BF9;&#x67D0;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x505A;&#x9650;&#x5236;&#x7684;&#x610F;&#x601D;&#x3002;</span><br><span class="line">	Options</span><br><span class="line">		Indexes&#x7684;&#x610F;&#x601D;&#x4EE3;&#x8868;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5BF9;&#x5E94;&#x7684;index&#x6587;&#x4EF6;&#xFF0C;&#x5C31;&#x5C06;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x5176;&#x4ED6;&#x6587;&#x4EF6;&#x7F57;&#x5217;&#x51FA;&#x6765;&#x3002;</span><br><span class="line">		Multiview&#x4EE3;&#x8868;&#x7684;&#x662F;&#x591A;&#x89C6;&#x56FE;</span><br><span class="line">		Follow sysmlink&#x4EE3;&#x8868;&#x5141;&#x8BB8;&#x8FDE;&#x63A5;&#x5230;&#x5176;&#x4ED6;&#x76EE;&#x5F55;&#x3002;</span><br><span class="line">	AllowOverride None</span><br><span class="line">	&#x6700;&#x5E38;&#x7528;&#x7684;&#x662F;&#xFF1A;</span><br><span class="line">	Order allow,deny</span><br><span class="line">	Allow from All</span><br><span class="line">	deny from 172.25.0.10==&gt;&#x8BE5;&#x76EE;&#x5F55;&#x5141;&#x8BB8;&#x6240;&#x6709;&#x4EBA;&#xFF0C;&#x9664;&#x4E86;172.25.0.11</span><br><span class="line">	&#x6216;&#x8005;</span><br><span class="line">	Order deny,allow</span><br><span class="line">	deny from All</span><br><span class="line">	allow from 172.25.0.10==&gt;&#x8BE5;&#x76EE;&#x5F55;&#x4E0D;&#x5141;&#x8BB8;&#x6240;&#x6709;&#x4EBA;&#xFF0C;&#x9664;&#x4E86;172.25.0.11</span><br></pre></td></tr></table></figure></p>
<h4 id="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;4&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;-&#x522B;&#x540D;"><a href="#&#x9879;&#x76EE;&#x5B9E;&#x8DF5;4&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;-&#x522B;&#x540D;" class="headerlink" title="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;4&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;_&#x522B;&#x540D;"></a>&#x9879;&#x76EE;&#x5B9E;&#x8DF5;4&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;_&#x522B;&#x540D;</h4><ul>
<li>&#x522B;&#x540D;        alias<ul>
<li>&#x4F5C;&#x7528;&#x5728;&#x8BBF;&#x95EE;&#x8BE5;&#x76EE;&#x5F55;&#x7684;&#x65F6;&#x5019;,&#x65E0;&#x8BBA;&#x4E4B;&#x524D;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x7AD9;&#x70B9;&#x540D;&#x662F;&#x4EC0;&#x4E48;,&#x4F1A;&#x7EDF;&#x4E00;&#x8F6C;&#x5230;&#x67D0;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x76EE;&#x5F55;&#x3002;</li>
</ul>
</li>
</ul>
<p><code>Alias /download/ /&quot;var/www/soft/&quot;</code></p>
<p>&#x8BBF;&#x95EE; download &#x76EE;&#x5F55;&#x65F6;,&#x65E0;&#x8BBA;&#x7AD9;&#x70B9;&#x540D;&#x662F;&#x4EC0;&#x4E48;,&#x90FD;&#x4F1A;&#x4EA4;&#x7ED9; var/www/soft/ &#x53BB;&#x5904;&#x7406;,&#x6CE8;&#x610F;:&#x4EE3;&#x8868;&#x76EE;&#x5F55;&#x65F6;,&#x6700;&#x540E;&#x4E00;&#x4E2A; / &#x4E0D;&#x80FD;&#x7701;&#x7565;</p>
<h4 id="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;4&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;-&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x8BBF;&#x95EE;"><a href="#&#x9879;&#x76EE;&#x5B9E;&#x8DF5;4&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;-&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x8BBF;&#x95EE;" class="headerlink" title="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;4&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;_&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x8BBF;&#x95EE;"></a>&#x9879;&#x76EE;&#x5B9E;&#x8DF5;4&#xFF1A;&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;_&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x8BBF;&#x95EE;</h4><ul>
<li>1&#xFF09;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x8BA4;&#x8BC1;    AllowOverride AuthConfig<ul>
<li>2&#xFF09;&#x521B;&#x5EFA;&#x8BA4;&#x8BC1;&#x6587;&#x4EF6;&#x548C;&#x7528;&#x6237;&#x5BC6;&#x7801;    htpasswd -cmb /etc/httpd/test booboo uplooking</li>
<li>3&#xFF09;&#x65B0;&#x589E;&#x7528;&#x6237;&#x548C;&#x5BC6;&#x7801;        htpasswd -bm /etc/httpd/test tom uplooking</li>
<li>4&#xFF09;&#x5220;&#x9664;&#x7528;&#x6237;        htpasswd -D /etc/httpd/test jack</li>
<li>5&#xFF09;&#x4FEE;&#x6539;&#x5BC6;&#x7801;        &#x5148;&#x5220;&#x9664;&#x518D;&#x521B;&#x5EFA;</li>
</ul>
</li>
</ul>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&#x8BBE;&#x7F6E;&#x7528;&#x6237;&#x548C;&#x5BC6;&#x7801;</span><br><span class="line">&lt;Directory &quot;/var/www/booboo.com/football/&quot;&gt;</span><br><span class="line">Options Indexes MultiViews FollowSymLinks</span><br><span class="line">AllowOverride AuthConfig</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">&#x4EC5;&#x6709;&#x7F51;&#x9875;&#x8BA4;&#x8BC1; ( &#x8D26;&#x53F7;&#x5BC6;&#x7801; ) &#x53EF;&#x8986;&#x5199; ;</span></span><br><span class="line">AuthName &quot;student&quot;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">&#x5728;&#x8981;&#x4F60;&#x8F93;&#x5165;&#x8D26;&#x53F7;&#x4E0E;&#x5BC6;&#x7801;&#x7684;&#x5BF9;&#x8BDD;&#x7A97;&#x53E3;&#x4E2D; , &#x51FA;&#x73B0;&#x7684;&#x300E;&#x63D0;&#x793A;&#x5B57;&#x7B26;&#x300F;</span></span><br><span class="line">AuthType basic</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x8BA4;&#x8BC1;&#x7684;&#x7C7B;&#x578B;</span></span><br><span class="line">AuthUserFile &quot;/etc/httpd/test&quot;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x8D26;&#x53F7;&#x5BC6;&#x7801;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span></span><br><span class="line">Require valid-user</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x540E;&#x9762;&#x63A5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7684;&#x8D26;&#x53F7; , &#x6B64;&#x5904;&#x662F;&#x8BA9;&#x8BE5;&#x5BC6;&#x7801;&#x6587;&#x4EF6;&#x5185;&#x7684;&#x7528;&#x6237;&#x90FD;&#x80FD;&#x591F;&#x767B;&#x5165;</span></span><br><span class="line">Order allow,deny</span><br><span class="line">Allow from all</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x901A;&#x8FC7;htpasswd&#x6DFB;&#x52A0;&#x7528;&#x6237;&#x548C;&#x5BC6;&#x7801;</span></span><br><span class="line">[root@rhel6 conf.d]# htpasswd -cmb /etc/httpd/test booboo uplooking</span><br><span class="line">Adding password for user student</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x518D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x548C;&#x5BC6;&#x7801;</span></span><br><span class="line">[root@rhel6 www]# htpasswd -bm /etc/httpd/test tom uplooking</span><br><span class="line">Adding password for user tom</span><br><span class="line">[root@rhel6 www]# htpasswd -bm /etc/httpd/test jack uplooking</span><br><span class="line">Adding password for user jack</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x67E5;&#x770B;&#x4FDD;&#x5B58;apache&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;</span></span><br><span class="line">[root@rhel6 www]# cat /etc/httpd/test</span><br><span class="line">booboo:$apr1$y6g/XYrn$eEOR4WeAPfONSLExj7x2D1</span><br><span class="line">tom:$apr1$epxVgzER$Or7.R0.5s3z8FbPKrOS1e1</span><br><span class="line">jack:$apr1$Alo3.7mf$3CmcCG9mXp7eEALUsa3YY1</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5220;&#x9664;&#x7528;&#x6237;</span></span><br><span class="line">[root@rhel6 www]# htpasswd -D /etc/httpd/test jack</span><br><span class="line">Deleting password for user jack</span><br><span class="line">[root@rhel6 www]# cat /etc/httpd/test</span><br><span class="line">booboo:$apr1$y6g/XYrn$eEOR4WeAPfONSLExj7x2D1</span><br><span class="line">tom:$apr1$epxVgzER$Or7.R0.5s3z8FbPKrOS1e1</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x4FEE;&#x6539;&#x7528;&#x6237;&#x5BC6;&#x7801;&#x53EA;&#x80FD;&#x5148;&#x5220;&#x9664;&#x518D;&#x521B;&#x5EFA;</span></span><br><span class="line">[root@rhel6 abc.com]# htpasswd --help</span><br><span class="line">Usage:</span><br><span class="line">	htpasswd [-cmdpsD] passwordfile username</span><br><span class="line">	htpasswd -b[cmdpsD] passwordfile username password</span><br><span class="line"></span><br><span class="line">	htpasswd -n[mdps] username</span><br><span class="line">	htpasswd -nb[mdps] username password</span><br><span class="line"> -c  Create a new file.</span><br><span class="line"> -n  Don\&apos;t update file; display results on stdout.</span><br><span class="line"> -m  Force MD5 encryption of the password.</span><br><span class="line"> -d  Force CRYPT encryption of the password (default).</span><br><span class="line"> -p  Do not encrypt the password (plaintext).</span><br><span class="line"> -s  Force SHA encryption of the password.</span><br><span class="line"> -b  Use the password from the command line rather than prompting for it.</span><br><span class="line"> -D  Delete the specified user.</span><br><span class="line">On Windows, NetWare and TPF systems the &apos;-m&apos; flag is used by default.</span><br><span class="line">On all other systems, the &apos;-p&apos; flag will probably not work.</span><br></pre></td></tr></table></figure></p>
<h4 id="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;5&#xFF1A;&#x5728;rhel7&#x4E2D;&#x642D;&#x5EFA;apahce&#xFF0C;&#x5B9E;&#x73B0;&#x4EE5;&#x4E0B;&#x529F;&#x80FD;"><a href="#&#x9879;&#x76EE;&#x5B9E;&#x8DF5;5&#xFF1A;&#x5728;rhel7&#x4E2D;&#x642D;&#x5EFA;apahce&#xFF0C;&#x5B9E;&#x73B0;&#x4EE5;&#x4E0B;&#x529F;&#x80FD;" class="headerlink" title="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;5&#xFF1A;&#x5728;rhel7&#x4E2D;&#x642D;&#x5EFA;apahce&#xFF0C;&#x5B9E;&#x73B0;&#x4EE5;&#x4E0B;&#x529F;&#x80FD;"></a>&#x9879;&#x76EE;&#x5B9E;&#x8DF5;5&#xFF1A;&#x5728;rhel7&#x4E2D;&#x642D;&#x5EFA;apahce&#xFF0C;&#x5B9E;&#x73B0;&#x4EE5;&#x4E0B;&#x529F;&#x80FD;</h4><ul>
<li><p>&#x914D;&#x7F6E;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A; <a href="http://www.abc.com" target="_blank" rel="noopener">www.abc.com</a> &#x548C; <a href="http://www.uplooking.com" target="_blank" rel="noopener">www.uplooking.com</a></p>
</li>
<li><p>&#x53EA;&#x5141;&#x8BB8;rhel6 172.25.0.11 &#x80FD;&#x591F;&#x8BBF;&#x95EE; <a href="http://www.uplooking.com" target="_blank" rel="noopener">www.uplooking.com</a> </p>
</li>
</ul>
<h2 id="178"><a href="#178" class="headerlink" title="178"></a><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">rhel6	rhel7</span><br><span class="line">2.2	2.4</span><br><span class="line">order	require</span><br><span class="line"></span><br><span class="line">&#x300B;eg1:&#x6240;&#x6709;&#x8BF7;&#x6C42;&#x90FD;&#x88AB;&#x62D2;&#x7EDD;</span><br><span class="line">order deny,allow //&#x5148;&#x62D2;&#x7EDD;&#xFF0C;&#x540E;&#x5141;&#x8BB8;</span><br><span class="line">deny from all	//&#x62D2;&#x7EDD;&#x6240;&#x6709;</span><br><span class="line">------------------------------</span><br><span class="line">require all denied //&#x62D2;&#x7EDD;&#x6240;&#x6709;</span><br><span class="line"></span><br><span class="line">&#x300B;eg2&#xFF1A;&#x6240;&#x6709;&#x8BF7;&#x6C42;&#x90FD;&#x5141;&#x8BB8;</span><br><span class="line">order allow&#xFF0C;deny //&#x5148;&#x5141;&#x8BB8;&#xFF0C;&#x540E;&#x62D2;&#x7EDD;</span><br><span class="line">allow from all</span><br><span class="line">------------------------------------</span><br><span class="line">require all granted</span><br><span class="line"></span><br><span class="line">&#x300B;&#x62D2;&#x7EDD;172.25.0.10/test.uplooking.com &#x7684;&#x8BF7;&#x6C42;</span><br><span class="line">order allow&#xFF0C;deny //&#x5148;&#x5141;&#x8BB8;&#xFF0C;&#x540E;&#x62D2;&#x7EDD;</span><br><span class="line">allow from all</span><br><span class="line">deny from 172.25.0.10</span><br><span class="line">-------------------------------------</span><br><span class="line">require  all granted</span><br><span class="line">require no ip 172.25.0.10</span><br><span class="line">require no host test.uplooking.com</span><br><span class="line"></span><br><span class="line">&#x300B;&#x53EA;&#x5141;&#x8BB8;172.25.3.10&#x548C;172.25.0.0/24 uplooking.com &#x7684;&#x8BF7;&#x6C42;</span><br><span class="line">order deny&#xFF0C;allow //&#x5148;&#x51B3;&#x7EDD;&#xFF0C;&#x540E;&#x5141;&#x8BB8;</span><br><span class="line">deny from all</span><br><span class="line">allow from 172.25.3.10</span><br><span class="line">allow from 172.25.0.0/24</span><br><span class="line">-------------------------------------</span><br><span class="line">require all denied</span><br><span class="line">require ip 172.25.3.10 172.25.0</span><br><span class="line">require host  uplooking.com</span><br></pre></td></tr></table></figure></h2><h3 id="Apache&#x914D;&#x7F6E;&#x6587;&#x4EF6;-etc-httpd-conf-httpd-conf"><a href="#Apache&#x914D;&#x7F6E;&#x6587;&#x4EF6;-etc-httpd-conf-httpd-conf" class="headerlink" title="Apache&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/httpd/conf/httpd.conf"></a>Apache&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/httpd/conf/httpd.conf</h3><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">1&#xFF09;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> ServerRoot &#x201C;/etc/httpd&#x201C;</span></span><br><span class="line">	ServerRoot&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;httpd&#x7684;&#x8FD0;&#x884C;&#x76EE;&#x5F55;&#xFF0C;httpd&#x5728;&#x542F;&#x52A8;&#x4E4B;&#x540E;&#x5C06;&#x81EA;&#x52A8;&#x5C06;&#x8FDB;&#x7A0B;&#x7684;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x6539;&#x53D8;&#x4E3A;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#xFF0C;&#x56E0;&#x6B64;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x662F;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x90A3;&#x4E48;&#x771F;&#x5B9E;&#x8DEF;&#x5F84;&#x5C31;&#x4F4D;&#x4E8E;&#x8FD9;&#x4E2A;ServerR oot&#x5B9A;&#x4E49;&#x7684;&#x8DEF;&#x5F84;&#x4E4B;&#x4E0B;&#x3002;</span><br><span class="line"></span><br><span class="line">2&#xFF09;</span><br><span class="line">hhhidFile /var/run/httpd.pid</span><br><span class="line">	PidFile&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x5C06;&#x8BB0;&#x5F55;httpd&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x7684;&#x8FDB;&#x7A0B;&#x53F7;&#xFF0C;&#x7531;&#x4E8E;httpd&#x80FD;&#x81EA;&#x52A8;&#x590D;&#x5236;&#x5176;&#x81EA;&#x8EAB;&#xFF0C;&#x56E0;&#x6B64;&#x7CFB;&#x7EDF;&#x4E2D;&#x6709;&#x591A;&#x4E2A;httpd&#x8FDB;&#x7A0B;&#xFF0C;&#x4F46;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E3A;&#x6700;&#x521D;&#x542F;&#x52A8;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x5B83;&#x4E3A;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#x7684;&#x7236;&#x8FDB;&#x7A0B;&#xFF0C;&#x5BF9;&#x8FD9;&#x4E2A;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#x5C06;&#x5F71;&#x54CD;&#x6240;&#x6709;&#x7684;httpd&#x8FDB;&#x7A0B;&#x3002;PidFILE&#x5B9A;&#x4E49;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#x5C31;&#x8BB0;&#x5F55;httpd&#x7236;&#x8FDB;&#x7A0B;&#x7684;&#x8FDB;&#x7A0B;&#x53F7;&#x3002;</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> Timeout 300</span></span><br><span class="line">	Timeout&#x5B9A;&#x4E49;&#x5BA2;&#x6237;&#x7A0B;&#x5E8F;&#x548C;&#x670D;&#x52A1;&#x5668;&#x8FDE;&#x63A5;&#x7684;&#x8D85;&#x65F6;&#x95F4;&#x9694;&#xFF0C;&#x8D85;&#x8FC7;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#xFF08;&#x79D2;&#xFF09;&#x540E;&#x670D;&#x52A1;&#x5668;&#x5C06;&#x65AD;&#x5F00;&#x4E0E;&#x5BA2;&#x6237;&#x673A;&#x7684;&#x8FDE;&#x63A5;&#x3002;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> KeepAlive On</span></span><br><span class="line">	&#x5728;HTTP 1.0&#x4E2D;&#xFF0C;&#x4E00;&#x6B21;&#x8FDE;&#x63A5;&#x53EA;&#x80FD;&#x4F5C;&#x4F20;&#x8F93;&#x4E00;&#x6B21;HTTP&#x8BF7;&#x6C42;&#xFF0C;&#x800C;KeepAlive&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x652F;&#x6301;HTTP 1.1&#x7248;&#x672C;&#x7684;&#x4E00;&#x6B21;&#x8FDE;&#x63A5;&#x3001;&#x591A;&#x6B21;&#x4F20;&#x8F93;&#x529F;&#x80FD;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x4E00;&#x6B21;&#x8FDE;&#x63A5;&#x4E2D;&#x4F20;&#x9012;&#x591A;&#x4E2A;HTTP&#x8BF7;&#x6C42;&#x3002;&#x4E0D;&#x8FC7;&#x53EA;&#x6709;&#x8F83;&#x65B0;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x624D;&#x652F;&#x6301;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> MaxKeepAliveRequests 100</span></span><br><span class="line">	MaxKeepAliveRequests&#x4E3A;&#x4E00;&#x6B21;&#x8FDE;&#x63A5;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x7684;HTTP&#x8BF7;&#x6C42;&#x7684;&#x6700;&#x5927;&#x8BF7;&#x6C42;&#x6B21;&#x6570;&#x3002;&#x5C06;&#x5176;&#x503C;&#x8BBE;&#x4E3A;0&#x5C06;&#x652F;&#x6301;&#x5728;&#x4E00;&#x6B21;&#x8FDE;&#x63A5;&#x5185;&#x8FDB;&#x884C;&#x65E0;&#x9650;&#x6B21;&#x7684;&#x4F20;&#x8F93;&#x8BF7;&#x6C42;&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#x6CA1;&#x6709;&#x5BA2;&#x6237;&#x7A0B;&#x5E8F;&#x5728;&#x4E00;&#x6B21;&#x8FDE;&#x63A5;&#x4E2D;&#x8BF7;&#x6C42;&#x592A;&#x591A;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x901A;&#x5E38;&#x8FBE;&#x4E0D;&#x5230;&#x8FD9;&#x4E2A;&#x4E0A;&#x9650;&#x5C31;&#x5B8C;&#x6210;&#x8FDE;&#x63A5;&#x4E86;&#x3002;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> KeepAliveTimeout 15</span></span><br><span class="line">	KeepAliveTimeout&#x6D4B;&#x8BD5;&#x4E00;&#x6B21;&#x8FDE;&#x63A5;&#x4E2D;&#x7684;&#x591A;&#x6B21;&#x8BF7;&#x6C42;&#x4F20;&#x8F93;&#x4E4B;&#x95F4;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#x4E86;&#x4E00;&#x6B21;&#x8BF7;&#x6C42;&#xFF0C;&#x4F46;&#x4E00;&#x76F4;&#x6CA1;&#x6709;&#x63A5;&#x6536;&#x5230;&#x5BA2;&#x6237;&#x7A0B;&#x5E8F;&#x7684;&#x4E0B;&#x4E00;&#x6B21;&#x8BF7;&#x6C42;&#xFF0C;&#x5728;&#x95F4;&#x9694;&#x8D85;&#x8FC7;&#x4E86;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x7684;&#x503C;&#x4E4B;&#x540E;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5C31;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x3002;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> ThreadsPerChild 50</span></span><br><span class="line">	&#x8BBE;&#x7F6E;&#x670D;&#x52A1;&#x5668;&#x4F7F;&#x7528;&#x8FDB;&#x7A0B;&#x7684;&#x6570;&#x76EE;&#x3002;&#x8FD9;&#x662F;&#x4EE5;&#x670D;&#x52A1;&#x5668;&#x7684;&#x54CD;&#x5E94;&#x901F;&#x5EA6;&#x4E3A;&#x51C6;&#x7684;, &#x6570;&#x76EE;&#x592A;&#x5927;&#x5219;&#x4F1A;&#x53D8;&#x6162;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> MaxRequestsPerChild 30</span></span><br><span class="line">	&#x4F7F;&#x7528;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x65B9;&#x5F0F;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x7684;Web&#x670D;&#x52A1;&#xFF0C;&#x5E38;&#x7528;&#x7684;&#x65B9;&#x5F0F;&#x662F;&#x4E00;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#x4E3A;&#x4E00;&#x6B21;&#x8FDE;&#x63A5;&#x670D;&#x52A1;&#xFF0C;&#x8FD9;&#x6837;&#x9020;&#x6210;&#x7684;&#x95EE;&#x9898;&#x5C31;&#x662F;&#x6BCF;&#x6B21;&#x8FDE;&#x63A5;&#x90FD;&#x9700;&#x8981;&#x751F;&#x6210;&#x3001;&#x9000;&#x51FA;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x7CFB;&#x7EDF;&#x64CD;&#x4F5C;&#xFF0C;&#x4F7F;&#x5F97;&#x8FD9;&#x4E9B;&#x989D;&#x5916;&#x7684;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x5360;&#x636E;&#x4E86;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x5927;&#x91CF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x3002;&#x56E0;&#x6B64;&#x6700;&#x597D;&#x7684;&#x65B9;&#x5F0F;&#x662F;&#x4E00;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x4E3A;&#x591A;&#x6B21;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x8FD9;&#x4E9B;&#x751F;&#x6210;&#x3001;&#x9000;&#x51FA;&#x8FDB;&#x7A0B;&#x7684;&#x7CFB;&#x7EDF;&#x6D88;&#x8017;&#xFF0C;Apache&#x5C31;&#x91C7;&#x7528;&#x4E86;&#x8FD9;&#x6837;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4E00;&#x6B21;&#x8FDE;&#x63A5;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x5B50;&#x8FDB;&#x7A0B;&#x5E76;&#x4E0D;&#x9000;&#x51FA;&#xFF0C;&#x800C;&#x662F;&#x505C;&#x7559;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x7B49;&#x5F85;&#x4E0B;&#x4E00;&#x6B21;&#x670D;&#x52A1;&#x8BF7;&#x6C42;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x6781;&#x5927;&#x7684;&#x63D0;&#x9AD8;&#x4E86;&#x6027;&#x80FD;&#x3002;&#x4F46;&#x7531;&#x4E8E;&#x5728;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x4E2D;&#x5B50;&#x8FDB;&#x7A0B;&#x8981;&#x4E0D;&#x65AD;&#x7684;&#x7533;&#x8BF7;&#x548C;&#x91CA;&#x653E;&#x5185;&#x5B58;&#xFF0C;&#x6B21;&#x6570;&#x591A;&#x4E86;&#x5C31;&#x4F1A;&#x9020;&#x6210;&#x4E00;&#x4E9B;&#x5185;&#x5B58;&#x5783;&#x573E;&#xFF0C;&#x5C31;&#x4F1A;&#x5F71;&#x54CD;&#x7CFB;&#x7EDF;&#x7684;&#x7A33;&#x5B9A;&#x6027;&#xFF0C;&#x5E76;&#x4E14;&#x5F71;&#x54CD;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x7684;&#x6709;&#x6548;&#x5229;&#x7528;&#x3002;&#x56E0;&#x6B64;&#x5728;&#x4E00;&#x4E2A;&#x526F;&#x672C;&#x5904;&#x7406;&#x8FC7;&#x4E00;&#x5B9A;&#x6B21;&#x6570;&#x7684;&#x8BF7;&#x6C42;&#x4E4B;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x8BA9;&#x8FD9;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#x526F;&#x672C;&#x9000;&#x51FA;&#xFF0C;&#x518D;&#x4ECE;&#x539F;&#x59CB;&#x7684;htt pd&#x8FDB;&#x7A0B;&#x4E2D;&#x91CD;&#x65B0;&#x590D;&#x5236;&#x4E00;&#x4E2A;&#x5E72;&#x51C0;&#x7684;&#x526F;&#x672C;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x63D0;&#x9AD8;&#x7CFB;&#x7EDF;&#x7684;&#x7A33;&#x5B9A;&#x6027;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#x5904;&#x7406;&#x670D;&#x52A1;&#x8BF7;&#x6C42;&#x6B21;&#x6570;&#x7531;MaxRe questPerChild&#x5B9A;&#x4E49;&#x3002; &#x7F3A;&#x7701;&#x7684;&#x8BBE;&#x7F6E;&#x503C;&#x4E3A;30&#xFF0C;&#x8FD9;&#x4E2A;&#x503C;&#x5BF9;&#x4E8E;&#x5177;&#x5907;&#x9AD8;&#x7A33;&#x5B9A;&#x6027;&#x7279;&#x70B9;&#x7684;FreeBSD&#x7CFB;&#x7EDF;&#x6765;&#x8BB2;&#x662F;&#x8FC7;&#x4E8E;&#x4FDD;&#x5B88;&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;1000&#x751A;&#x81F3;&#x66F4;&#x9AD8;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;0&#x652F;&#x6301;&#x6BCF;&#x4E2A;&#x526F;&#x672C;&#x8FDB;&#x884C;&#x65E0;&#x9650;&#x6B21;&#x7684;&#x670D;&#x52A1;&#x5904;&#x7406;&#x3002;&#x3000;&#x3000;&#x3000;&#x3000;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> ServerAdmin root@localhost</span></span><br><span class="line">	&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5E94;&#x8BE5;&#x6539;&#x53D8;&#x7684;&#x4E5F;&#x8BB8;&#x53EA;&#x6709;ServerAdmin&#xFF0C; &#x8FD9;&#x4E00;&#x9879;&#x7528;&#x4E8E;&#x914D;&#x7F6E;WWW&#x670D;&#x52A1;&#x5668;&#x7684;&#x7BA1;&#x7406;&#x5458;&#x7684;email&#x5730;&#x5740;&#xFF0C;&#x8FD9;&#x5C06;&#x5728;HTTP&#x670D;&#x52A1;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x7684;&#x6761;&#x4EF6;&#x4E0B;&#x8FD4;&#x56DE;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x4EE5;&#x4FBF;&#x8BA9;Web&#x4F7F;&#x7528;&#x8005;&#x548C;&#x7BA1;&#x7406;&#x5458;&#x8054;&#x7CFB;&#xFF0C;&#x62A5;&#x544A;&#x9519;&#x8BEF;&#x3002;&#x4E60;&#x60EF;&#x4E0A;&#x4F7F;&#x7528;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;webmaster&#x4F5C;&#x4E3A;WWW&#x670D;&#x52A1;&#x5668;&#x7684;&#x7BA1;&#x7406;&#x5458;&#xFF0C;&#x901A;&#x8FC7;&#x90AE;&#x4EF6;&#x670D;&#x52A1;&#x5668;&#x7684;&#x522B;&#x540D;&#x673A;&#x5236;&#xFF0C;&#x5C06;&#x53D1;&#x9001;&#x5230;webmaster &#x7684;&#x7535;&#x5B50;&#x90AE;&#x4EF6;&#x53D1;&#x9001;&#x7ED9;&#x771F;&#x6B63;&#x7684;Web&#x7BA1;&#x7406;&#x5458;&#x3002;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> ServerName localhost</span></span><br><span class="line">	&#x7F3A;&#x7701;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x8FD9;&#x4E2A;ServerName&#x53C2;&#x6570;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5C06;&#x81EA;&#x52A8;&#x901A;&#x8FC7;&#x540D;&#x5B57;&#x89E3;&#x6790;&#x8FC7;&#x7A0B;&#x6765;&#x83B7;&#x5F97;&#x81EA;&#x5DF1;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x7684;&#x540D;&#x5B57;&#x89E3;&#x6790;&#x6709;&#x95EE;&#x9898;&#xFF08;&#x901A;&#x5E38;&#x4E3A;&#x53CD;&#x5411;&#x89E3;&#x6790;&#x4E0D;&#x6B63;&#x786E;&#xFF09;&#xFF0C;&#x6216;&#x8005;&#x6CA1;&#x6709;&#x6B63;&#x5F0F;&#x7684;DNS&#x540D;&#x5B57;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x91CC;&#x6307;&#x5B9A;I P&#x5730;&#x5740;&#x3002;&#x5F53;ServerName&#x8BBE;&#x7F6E;&#x4E0D;&#x6B63;&#x786E;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x80FD;&#x6B63;&#x5E38;&#x542F;&#x52A8;&#x3002;</span><br><span class="line">&#x901A;&#x5E38;&#x4E00;&#x4E2A;Web&#x670D;&#x52A1;&#x5668;&#x53EF;&#x4EE5;&#x5177;&#x6709;&#x591A;&#x4E2A;&#x540D;&#x5B57;&#xFF0C;&#x5BA2;&#x6237;&#x6D4F;&#x89C8;&#x5668;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x540D;&#x5B57;&#x6216;IP&#x5730;&#x5740;&#x6765;&#x8BBF;&#x95EE;&#x8FD9;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4F46;&#x5728;&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x603B;&#x662F;&#x4EE5;&#x81EA;&#x5DF1;&#x7684;&#x6B63;&#x5F0F;&#x540D;&#x5B57;&#x56DE;&#x5E94;&#x6D4F;&#x89C8;&#x5668;&#x3002;ServerName&#x5C31;&#x5B9A;&#x4E49;&#x4E86;Web&#x670D;&#x52A1;&#x5668;&#x81EA;&#x5DF1;&#x627F;&#x8BA4;&#x7684;&#x6B63;&#x5F0F;&#x540D;&#x5B57;&#xFF0C;&#x4F8B;&#x5982;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x540D;&#x5B57;&#xFF08;&#x5728;DNS&#x4E2D;&#x5B9A;&#x4E49;&#x4E86;A&#x7C7B;&#x578B;&#xFF09;&#x4E3A;freebsd.exmaple.org.cn&#xFF0C;&#x540C;&#x65F6;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x8BB0;&#x5FC6;&#x8FD8;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x522B;&#x540D;&#xFF08;CNAME&#x8BB0;&#x5F55;&#xFF09;&#x4E3A;www.exmaple.org.cn&#xFF0C;&#x90A3;&#x4E48;Apache&#x81EA;&#x52A8;&#x89E3;&#x6790;&#x5F97;&#x5230;&#x7684;&#x540D;&#x5B57;&#x5C31;&#x4E3A;freebsd.example.org.cn&#xFF0C;&#x8FD9;&#x6837;&#x4E0D;&#x7BA1;&#x5BA2;&#x6237;&#x6D4F;&#x89C8;&#x5668;&#x4F7F;&#x7528;&#x54EA;&#x4E2A;&#x540D;&#x5B57;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x603B;&#x662F;&#x544A;&#x8BC9;&#x5BA2;&#x6237;&#x7A0B;&#x5E8F;&#x81EA;&#x5DF1;&#x4E3A;freebsd.example.org.cn&#x3002;&#x867D;&#x7136;&#x8FD9;&#x4E00;&#x822C;&#x5E76;&#x4E0D;&#x4F1A;&#x9020;&#x6210;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x662F;&#x8003;&#x8651;&#x5230;&#x67D0;&#x4E00;&#x5929;&#x670D;&#x52A1;&#x5668;&#x53EF;&#x80FD;&#x8FC1;&#x79FB;&#x5230;&#x5176;&#x4ED6;&#x8BA1;&#x7B97;&#x673A;&#x4E0A;&#xFF0C;&#x800C;&#x53EA;&#x60F3;&#x901A;&#x8FC7;&#x66F4;&#x6539;DNS&#x4E2D;&#x7684;www&#x522B;&#x540D;&#x914D;&#x7F6E;&#x5C31;&#x5B8C;&#x6210;&#x8FC1;&#x79FB;&#x4EFB;&#x52A1;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x60F3;&#x8BA9;&#x5BA2;&#x6237;&#x5728;&#x5176;&#x4E66;&#x7B7E;&#x4E2D;&#x4F7F;&#x7528; freebsd&#x8BB0;&#x5F55;&#x4E0B;&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x5C31;&#x5FC5;&#x987B;&#x4F7F;&#x7528;ServerName&#x6765;&#x91CD;&#x65B0;&#x6307;&#x5B9A;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6B63;&#x5F0F;&#x540D;&#x5B57;&#x3002;</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line">3&#xFF09;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> DocumentRoot &#x201C;/var/www/html&#x201C;</span></span><br><span class="line">	DocumentRoot&#x5B9A;&#x4E49;&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x5BF9;&#x5916;&#x53D1;&#x5E03;&#x7684;&#x8D85;&#x6587;&#x672C;&#x6587;&#x6863;&#x5B58;&#x653E;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x5BA2;&#x6237;&#x7A0B;&#x5E8F;&#x8BF7;&#x6C42;&#x7684;UR L&#x5C31;&#x88AB;&#x6620;&#x5C04;&#x4E3A;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x7F51;&#x9875;&#x6587;&#x4EF6;&#x3002;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x5B50;&#x76EE;&#x5F55;&#xFF0C;&#x4EE5;&#x53CA;&#x4F7F;&#x7528;&#x7B26;&#x53F7;&#x8FDE;&#x63A5;&#x6307;&#x51FA;&#x7684;&#x6587;&#x4EF6;&#x548C;&#x76EE;&#x5F55;&#x90FD;&#x80FD;&#x88AB;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;&#xFF0C;&#x53EA;&#x662F;&#x8981;&#x5728;URL&#x4E0A;&#x4F7F;&#x7528;&#x540C;&#x6837;&#x7684;&#x76F8;&#x5BF9;&#x76EE;&#x5F55;&#x540D;&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x7B26;&#x53F7;&#x8FDE;&#x63A5;&#x867D;&#x7136;&#x903B;&#x8F91;&#x4E0A;&#x4F4D;&#x4E8E;&#x6839;&#x6587;&#x6863;&#x76EE;&#x5F55;&#x4E4B;&#x4E0B;&#xFF0C;&#x4F46;&#x5B9E;&#x9645;&#x4E0A;&#x53EF;&#x4EE5;&#x4F4D;&#x4E8E;&#x8BA1;&#x7B97;&#x673A;&#x4E0A;&#x7684;&#x4EFB;&#x610F;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x4F7F;&#x5BA2;&#x6237;&#x7A0B;&#x5E8F;&#x80FD;&#x8BBF;&#x95EE;&#x90A3;&#x4E9B;&#x6839;&#x6587;&#x6863;&#x76EE;&#x5F55;&#x4E4B;&#x5916;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x8FD9;&#x5728;&#x589E;&#x52A0;&#x4E86;&#x7075;&#x6D3B;&#x6027;&#x7684;&#x540C;&#x65F6;&#x4F46;&#x51CF;&#x5C11;&#x4E86;&#x5B89;&#x5168;&#x6027;&#x3002;Apache&#x5728;&#x76EE;&#x5F55;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x4E2D;&#x63D0;&#x4F9B;&#x4E86;FollowSymLinks&#x9009;&#x9879;&#x6765;&#x6253;&#x5F00;&#x6216;&#x5173;&#x95ED;&#x652F;&#x6301;&#x7B26;&#x53F7;&#x8FDE;&#x63A5;&#x7684;&#x7279;&#x6027;&#x3002;</span><br><span class="line">4&#xFF09;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &lt;Directory /&gt;</span></span><br><span class="line">&#x3000;&#x3000; Options FollowSymLinks</span><br><span class="line">&#x3000;&#x3000; AllowOverride None</span><br><span class="line">&#x3000;&#x3000;&lt;/Directory&gt;</span><br><span class="line">	Apache&#x670D;&#x52A1;&#x5668;&#x53EF;&#x4EE5;&#x9488;&#x5BF9;&#x76EE;&#x5F55;&#x8FDB;&#x884C;&#x6587;&#x6863;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#xFF0C;&#x7136;&#x800C;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;&#x5728;&#x8BBE;&#x7F6E;&#x6587;&#x4EF6; httpd.conf&#xFF08;&#x6216;access.conf&#xFF09;&#x4E2D;&#x9488;&#x5BF9;&#x6BCF;&#x4E2A;&#x76EE;&#x5F55;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x662F;&#x5728;&#x6BCF;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;&#x8BBE;&#x7F6E;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x6587;&#x4EF6;&#xFF0C;&#x901A;&#x5E38;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x6587;&#x4EF6;&#x540D;&#x5B57;&#x4E3A;.htaccess&#x3002;&#x867D;&#x7136;&#x4F7F;&#x7528;&#x8FD9;&#x4E24;&#x4E2A;&#x65B9;&#x5F0F;&#x90FD;&#x80FD;&#x7528;&#x4E8E;&#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x8BBF;&#x95EE;&#xFF0C;&#x7136;&#x800C;&#x4F7F;&#x7528;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;&#x8981;&#x6C42;&#x6BCF;&#x6B21;&#x6539;&#x52A8;&#x540E;&#x91CD;&#x65B0;&#x542F;&#x52A8;httpd&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF0C;&#x6BD4;&#x8F83;&#x4E0D;&#x7075;&#x6D3B;&#xFF0C;&#x56E0;&#x6B64;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x5668;&#x7CFB;&#x7EDF;&#x7684;&#x6574;&#x4F53;&#x5B89;&#x5168;&#x63A7;&#x5236;&#x7B56;&#x7565;&#xFF0C;&#x800C;&#x4F7F;&#x7528;&#x6BCF;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;&#x7684;.htaccess&#x6587;&#x4EF6;&#x8BBE;&#x7F6E;&#x5177;&#x4F53;&#x76EE;&#x5F55;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x66F4;&#x4E3A;&#x7075;&#x6D3B;&#x65B9;&#x4FBF;.</span><br><span class="line">&#x3000;	&#x7531;&#x4E8E;Apache&#x5BF9;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x8BBE;&#x7F6E;&#x662F;&#x80FD;&#x591F;&#x88AB;&#x4E0B;&#x4E00;&#x7EA7;&#x76EE;&#x5F55;&#x7EE7;&#x627F;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5BF9;&#x6839;&#x76EE;&#x5F55;&#x7684;&#x8BBE;&#x7F6E;&#x5C06;&#x5F71;&#x54CD;&#x5230;&#x5B83;&#x7684;&#x4E0B;&#x7EA7;&#x76EE;&#x5F55;&#x3002;&#x6CE8;&#x610F;&#x7531;&#x4E8E;AllowOverride None&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;&#x4F7F;&#x5F97;Apache&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x9700;&#x8981;&#x67E5;&#x770B;&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x6587;&#x4EF6;&#xFF0C;&#x4E5F;&#x4E0D;&#x9700;&#x8981;&#x67E5;&#x770B;&#x4EE5;&#x4E0B;&#x5404;&#x7EA7;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x6587;&#x4EF6;&#xFF0C;&#x76F4;&#x81F3;httpd.conf&#xFF08;&#x6216;access.conf &#xFF09;&#x4E2D;&#x4E3A;&#x67D0;&#x4E2A;&#x76EE;&#x5F55;&#x6307;&#x5B9A;&#x4E86;&#x5141;&#x8BB8;Alloworride&#xFF0C;&#x5373;&#x5141;&#x8BB8;&#x67E5;&#x770B;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x6587;&#x4EF6;&#x3002;&#x7531;&#x4E8E;Apache&#x5BF9;&#x76EE;&#x5F55;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x662F;&#x91C7;&#x7528;&#x7684;&#x7EE7;&#x627F;&#x65B9;&#x5F0F;&#xFF0C;&#x5982;&#x679C;&#x4ECE;&#x6839;&#x76EE;&#x5F55;&#x5C31;&#x5141;&#x8BB8;&#x67E5;&#x770B;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x6587;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;Apache&#x5C31;&#x5FC5;&#x987B;&#x4E00;&#x7EA7;&#x4E00;&#x7EA7;&#x7684;&#x67E5;&#x770B;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x6587;&#x4EF6;&#xFF0C;&#x5BF9;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x4F1A;&#x9020;&#x6210;&#x5F71;&#x54CD;&#x3002;&#x800C;&#x7F3A;&#x7701;&#x5173;&#x95ED;&#x4E86;&#x6839;&#x76EE;&#x5F55;&#x7684;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#xFF0C;&#x5C31;&#x4F7F;&#x5F97;Apache&#x4ECE;httpd.conf&#x4E2D;&#x5177;&#x4F53;&#x6307;&#x5B9A;&#x7684;&#x76EE;&#x5F55;&#x5411;&#x4E0B;&#x641C;&#x5BFB;&#xFF0C;&#x51CF;&#x5C11;&#x4E86;&#x641C;&#x5BFB;&#x7684;&#x7EA7;&#x6570;&#xFF0C;&#x589E;&#x52A0;&#x4E86;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x3002;&#x56E0;&#x6B64;&#x5BF9;&#x4E8E;&#x7CFB;&#x7EDF;&#x6839;&#x76EE;&#x5F55;&#x8BBE;&#x7F6E;AllowOverride None&#x4E0D;&#x4F46;&#x5BF9;&#x4E8E;&#x7CFB;&#x7EDF;&#x5B89;&#x5168;&#x6709;&#x5E2E;&#x52A9;&#xFF0C;&#x4E5F;&#x6709;&#x76CA;&#x4E8E;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x3002;</span><br><span class="line">&#x3000;&#x3000;&lt;Directory /&gt;</span><br><span class="line">   Options Indexes FollowSymLinks</span><br><span class="line">&#x3000;&#x3000; AllowOverride None</span><br><span class="line">&#x3000;&#x3000; Order allow,deny</span><br><span class="line">&#x3000;&#x3000; Allow from all</span><br><span class="line">&#x3000;&#x3000;&lt;/Directory&gt;</span><br><span class="line">	&#x8FD9;&#x91CC;&#x5B9A;&#x4E49;&#x7684;&#x662F;&#x7CFB;&#x7EDF;&#x5BF9;&#x5916;&#x53D1;&#x5E03;&#x6587;&#x6863;&#x7684;&#x76EE;&#x5F55;&#x7684;&#x8BBF;&#x95EE;&#x8BBE;&#x7F6E;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684;AllowOverride&#x9009;&#x9879;&#xFF0C;&#x4EE5;&#x5B9A;&#x4E49;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x76EE;&#x5F55;&#x8BBE;&#x7F6E;&#x548C;&#x7528;&#x6237;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x5B89;&#x5168;&#x63A7;&#x5236;&#x6587;&#x4EF6;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x800C;Options&#x9009;&#x9879;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x8BE5;&#x76EE;&#x5F55;&#x7684;&#x7279;&#x6027;&#x3002;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">  ErrorLog /var/<span class="hljs-built_in">log</span>/httpd-error.log</span></span><br><span class="line">&#x3000;&#x3000;LogLevel warn</span><br><span class="line">&#x3000;&#x3000;LogFormat &#x201C;%h %l %u %t \&#x201C;%r\&#x201C; %&gt;s %b \&#x201C;%{Referer}i\&#x201C; \&#x201C;%{User-Agent}i\&#x201C;&#x201C; combined</span><br><span class="line">&#x3000;&#x3000;LogFormat &#x201C;%h %l %u %t \&#x201C;%r\&#x201C; %&gt;s %b&#x201C; common</span><br><span class="line">&#x3000;&#x3000;LogFormat &#x201C;%{Referer}i -&gt; %U&#x201C; referer</span><br><span class="line">&#x3000;&#x3000;LogFormat &#x201C;%{User-agent}i&#x201C; agent</span><br><span class="line"><span class="hljs-meta">&#x3000;&#x3000;#</span><span class="hljs-bash">CustomLog /var/<span class="hljs-built_in">log</span>/httpd-access.log common</span></span><br><span class="line"><span class="hljs-meta">&#x3000;&#x3000;#</span><span class="hljs-bash">CustomLog /var/<span class="hljs-built_in">log</span>/httpd-referer.log referer</span></span><br><span class="line"><span class="hljs-meta">&#x3000;&#x3000;#</span><span class="hljs-bash">CustomLog /var/<span class="hljs-built_in">log</span>/httpd-agent.log agent</span></span><br><span class="line">&#x3000;&#x3000;CustomLog /var/log/httpd-access.log combined</span><br><span class="line">	&#x8FD9;&#x91CC;&#x5B9A;&#x4E49;&#x4E86;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x5BF9;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x9519;&#x8BEF;&#x8BB0;&#x5F55;&#xFF0C;&#x7531;ErrorLog&#x3001;LogLevel &#x6765;&#x5B9A;&#x4E49;&#x4E0D;&#x540C;&#x7684;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x53CA;&#x5176;&#x8BB0;&#x5F55;&#x5185;&#x5BB9;&#x3002; &#x8FD9;&#x662F;&#x901A;&#x8FC7;&#x5728; CustomLog&#x4E2D;&#x6307;&#x5B9A;&#x4E0D;&#x540C;&#x7684;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#x6765;&#x5B8C;&#x6210;&#x7684;&#x3002;common&#x8868;&#x793A;&#x666E;&#x901A;&#x7684;&#x5BF9;&#x5355;&#x9875;&#x9762;&#x8BF7;&#x6C42;&#x8BBF;&#x95EE;&#x8BB0;&#x5F55;&#xFF0C;referer&#x8868;&#x793A;&#x6BCF;&#x4E2A;&#x9875;&#x9762;&#x7684;&#x5F15;&#x7528;&#x8BB0;&#x5F55;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x4E2D;&#x5305;&#x542B;&#x7684;&#x8BF7;&#x6C42;&#x6570;&#xFF0C;agent&#x8868;&#x793A;&#x5BF9;&#x5BA2;&#x6237;&#x673A;&#x7684;&#x7C7B;&#x578B;&#x8BB0;&#x5F55;&#xFF0C;&#x663E;&#x7136;&#x53EF;&#x4EE5;&#x5C06;&#x73B0;&#x6709;&#x7684;combined &#x5B9A;&#x4E49;&#x7684;&#x8BBE;&#x7F6E;&#x884C;&#x6CE8;&#x91CA;&#x6389;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;common&#x3001;referer&#x548C;agent&#x4F5C;&#x4E3A;CustomLog&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x6765;&#x4E3A;&#x4E0D;&#x540C;&#x79CD;&#x7C7B;&#x7684;&#x65E5;&#x5FD7;&#x5206;&#x522B;&#x6307;&#x5B9A;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x6587;&#x4EF6;&#x3002;&#x663E;&#x7136;&#xFF0C;LogFormat&#x662F;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x65E5;&#x5FD7;&#x8FDB;&#x884C;&#x8BB0;&#x5F55;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x683C;&#x5F0F;&#xFF0C; &#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x4E86;&#x4EE5;%&#x5F00;&#x5934;&#x7684;&#x5B8F;&#x5B9A;&#x4E49;&#xFF0C;&#x4EE5;&#x8BB0;&#x5F55;&#x4E0D;&#x540C;&#x7684;&#x5185;&#x5BB9;&#x3002;</span><br><span class="line">&#x5982;&#x679C;&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x662F;&#x76F8;&#x5BF9;&#x4E8E;ServerRoot&#x7684;&#x8DEF;&#x5F84;&#x3002;</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> Alias /icons/ &#x201C;/usr/<span class="hljs-built_in">local</span>/www/icons/&#x201C;</span></span><br><span class="line">&#x3000;&#x3000; Options Indexes MultiViews</span><br><span class="line">&#x3000;&#x3000; AllowOverride None</span><br><span class="line">&#x3000;&#x3000; Order allow,deny</span><br><span class="line">&#x3000;&#x3000; Allow from all</span><br><span class="line">	Alias&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5C06;URL&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x771F;&#x5B9E;&#x4F4D;&#x7F6E;&#x8FDB;&#x884C;&#x76F4;&#x63A5;&#x6620;&#x5C04;&#xFF0C;&#x4E00;&#x822C;&#x7684;&#x6587;&#x6863;&#x5C06;&#x5728;DocumentRoot &#x4E2D;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#xFF0C;&#x7136;&#x800C;&#x4F7F;&#x7528;Alias&#x5B9A;&#x4E49;&#x7684;&#x8DEF;&#x5F84;&#x5C06;&#x76F4;&#x63A5;&#x6620;&#x5C04;&#x5230;&#x76F8;&#x5E94;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x800C;&#x4E0D;&#x518D;&#x5230;DocumentRoot &#x4E0B;&#x9762;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x3002;&#x56E0;&#x6B64;Alias&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x6620;&#x5C04;&#x4E00;&#x4E9B;&#x516C;&#x7528;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x4F8B;&#x5982;&#x4FDD;&#x5B58;&#x4E86;&#x5404;&#x79CD;&#x5E38;&#x7528;&#x56FE;&#x6807;&#x7684;icons&#x8DEF;&#x5F84;&#x3002;&#x8FD9;&#x6837;&#x4F7F;&#x5F97;&#x9664;&#x4E86;&#x4F7F;&#x7528;&#x7B26;&#x53F7;&#x8FDE;&#x63A5;&#x4E4B;&#x5916;&#xFF0C;&#x6587;&#x6863;&#x6839;&#x76EE;&#x5F55;&#xFF08;DocumentRoot&#xFF09;&#x5916;&#x7684;&#x76EE;&#x5F55;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x4E86;Alias&#x6620;&#x5C04;&#xFF0C;&#x63D0;&#x4F9B;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;&#x3002;</span><br><span class="line">&#x5B9A;&#x4E49;&#x597D;&#x6620;&#x5C04;&#x7684;&#x8DEF;&#x5F84;&#x4E4B;&#x540E;&#xFF0C;&#x5E94;&#x8BE5;&#x9700;&#x8981;&#x4F7F;&#x7528;Directory&#x8BED;&#x53E5;&#x8BBE;&#x7F6E;&#x8BBF;&#x95EE;&#x9650;&#x5236;&#x3002;</span><br><span class="line"><span class="hljs-meta">&#x3000;&#x3000;#</span><span class="hljs-bash">NameVirtualHost 12.34.56.78:80</span></span><br><span class="line"><span class="hljs-meta">&#x3000;&#x3000;#</span><span class="hljs-bash">NameVirtualHost 12.34.56.78</span></span><br><span class="line"><span class="hljs-meta">&#x3000;&#x3000;#</span></span><br><span class="line"><span class="hljs-meta">&#x3000;&#x3000;#</span><span class="hljs-bash"> ServerAdmin webmaster@host.some_domain.com</span></span><br><span class="line"><span class="hljs-meta">&#x3000;&#x3000;#</span><span class="hljs-bash"> DocumentRoot /www/docs/host.some_domain.com</span></span><br><span class="line"><span class="hljs-meta">&#x3000;&#x3000;#</span><span class="hljs-bash"> ServerName host.some_domain.com</span></span><br><span class="line"><span class="hljs-meta">&#x3000;&#x3000;#</span><span class="hljs-bash"> ErrorLog logs/host.some_domain.com-error_log</span></span><br><span class="line"><span class="hljs-meta">&#x3000;&#x3000;#</span><span class="hljs-bash"> CustomLog logs/host.some_domain.com-access_log common</span></span><br><span class="line"><span class="hljs-meta">&#x3000;&#x3000;#</span></span><br><span class="line">	&#x8FD9;&#x4E2A;&#x5B57;&#x6BB5;&#x662F;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x7684;&#x76F8;&#x5173;&#x5185;&#x5BB9;&#xFF0C;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x662F;&#x5728;&#x4E00;&#x53F0;Web&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x53EF;&#x4EE5;&#x4E3A;&#x591A;&#x4E2A;&#x5355;&#x72EC;&#x57DF;&#x540D;&#x63D0;&#x4F9B;Web&#x670D;&#x52A1;&#xFF0C;&#x5E76;&#x4E14;&#x6BCF;&#x4E2A;&#x57DF;&#x540D;&#x90FD;&#x5B8C;&#x5168;&#x72EC;&#x7ACB;&#xFF0C;&#x5305;&#x62EC;&#x5177;&#x6709;&#x5B8C;&#x5168;&#x72EC;&#x7ACB;&#x7684;&#x6587;&#x6863;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x53CA;&#x8BBE;&#x7F6E;&#xFF0C;&#x8FD9;&#x6837;&#x57DF;&#x540D;&#x4E4B;&#x95F4;&#x5B8C;&#x5168;&#x72EC;&#x7ACB;&#xFF0C;&#x4E0D;&#x4F46;&#x4F7F;&#x7528;&#x6BCF;&#x4E2A;&#x57DF;&#x540D;&#x8BBF;&#x95EE;&#x5230;&#x7684;&#x5185;&#x5BB9;&#x5B8C;&#x5168;&#x72EC;&#x7ACB;&#xFF0C;&#x5E76;&#x4E14;&#x4F7F;&#x7528;&#x53E6;&#x4E00;&#x4E2A;&#x57DF;&#x540D;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#x5176;&#x4ED6;&#x57DF;&#x540D;&#x63D0;&#x4F9B;&#x7684;&#x7F51;&#x9875;&#x5185;&#x5BB9;&#x3002;</span><br></pre></td></tr></table></figure></p>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2016/12/23/booboo_easy_service/06_ntp_chrony/" itemprop="url">时间同步服务NTP和Chony</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2016-12-22T21:06:27.000Z" itemprop="datePublished">12月 23 2016</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/">技术培训</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/Linux%E7%AE%80%E6%98%93%E6%9C%8D%E5%8A%A1%E6%95%99%E7%A8%8B/">Linux简易服务教程</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            13 分钟 lesen (Über 1894 Wörter)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <table>
<thead>
<tr>
<th align="left">&#x670D;&#x52A1;</th>
<th align="left">&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;</th>
<th align="left">&#x6587;&#x4EF6;&#x5171;&#x4EAB;&#x670D;&#x52A1;</th>
<th align="left"></th>
<th align="left"></th>
<th align="left">web&#x670D;&#x52A1;</th>
</tr>
</thead>
<tbody><tr>
<td align="left"></td>
<td align="left">DNS</td>
<td align="left">FTP</td>
<td align="left">NFS</td>
<td align="left">SAMBA</td>
<td align="left">APACHE</td>
</tr>
<tr>
<td align="left">&#x8F6F;&#x4EF6;</td>
<td align="left">bind    bind-chroot</td>
<td align="left">vsftpd</td>
<td align="left">rpcbind nfs-utils</td>
<td align="left">samba    samba-common</td>
<td align="left">httpd</td>
</tr>
<tr>
<td align="left">&#x670D;&#x52A1;</td>
<td align="left">named</td>
<td align="left">vsftpd</td>
<td align="left">rpcbind nfs</td>
<td align="left">smb nmb</td>
<td align="left">httpd</td>
</tr>
<tr>
<td align="left">daemon</td>
<td align="left">named</td>
<td align="left">vsftpd</td>
<td align="left">rpcbind nfs</td>
<td align="left">smbd nmbd</td>
<td align="left">httpd</td>
</tr>
<tr>
<td align="left">&#x7AEF;&#x53E3;&#x53F7;</td>
<td align="left">53</td>
<td align="left">21</td>
<td align="left">111 2049</td>
<td align="left">137 138 139 445</td>
<td align="left">80 8080</td>
</tr>
<tr>
<td align="left">&#x914D;&#x7F6E;&#x6587;&#x4EF6;</td>
<td align="left">/etc/named.conf /etc/named.rfc1912.zones</td>
<td align="left">/etc/vsftpd/vsftpd.conf</td>
<td align="left">/etc/exports</td>
<td align="left">/etc/samba/smb.conf</td>
<td align="left">/etc/httpd/conf/httpd.conf</td>
</tr>
<tr>
<td align="left">&#x6570;&#x636E;&#x6587;&#x4EF6;</td>
<td align="left">/var/named/</td>
<td align="left">/var/ftp/</td>
<td align="left"></td>
<td align="left">/var/lib/samba</td>
<td align="left">/var/www</td>
</tr>
<tr>
<td align="left">&#x5BA2;&#x6237;&#x7AEF;</td>
<td align="left"></td>
<td align="left">lftp</td>
<td align="left">rpcbind</td>
<td align="left">samba-client</td>
<td align="left">elinks</td>
</tr>
<tr>
<td align="left">&#x547D;&#x4EE4;</td>
<td align="left">nslookup</td>
<td align="left">lftp</td>
<td align="left">nfs-utils mount</td>
<td align="left">smbclient</td>
<td align="left">links</td>
</tr>
</tbody></table>
<h3 id="Ntp&#x670D;&#x52A1;&#x7684;&#x4F5C;&#x7528;"><a href="#Ntp&#x670D;&#x52A1;&#x7684;&#x4F5C;&#x7528;" class="headerlink" title="Ntp&#x670D;&#x52A1;&#x7684;&#x4F5C;&#x7528;"></a>Ntp&#x670D;&#x52A1;&#x7684;&#x4F5C;&#x7528;</h3><p>&#x5927;&#x5BB6;&#x8BBE;&#x60F3;&#x4E00;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x7684;&#x4E3B;&#x673A;&#x65F6;&#x95F4;&#x4E0D;&#x51C6;&#xFF0C;&#x53EF;&#x4EE5;&#x600E;&#x4E48;&#x505A;&#xFF1F;&#x6709;&#x5C06;&#x786C;&#x4EF6;&#x65F6;&#x95F4;&#x548C;&#x8F6F;&#x4EF6;&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x7684;&#x529E;&#x6CD5;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>date -s</code>&#x53BB;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#xFF0C;&#x4F46;&#x662F;&#x4F60;&#x600E;&#x4E48;&#x77E5;&#x9053;&#x4F60;&#x8BBE;&#x7F6E;&#x7684;&#x65F6;&#x95F4;&#x5C31;&#x4E00;&#x5B9A;&#x51C6;&#x4E86;&#xFF0C;&#x6216;&#x8005;&#x8BF4;&#x4F60;&#x80FD;&#x786E;&#x5B9A;&#x786C;&#x4EF6;&#x65F6;&#x95F4;&#x4E00;&#x5B9A;&#x51C6;&#x4E48;&#xFF1F;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x5427;&#xFF1F;&#x90A3;&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x627E;&#x5929;&#x6587;&#x53F0;&#x6216;&#x8005;&#x4E00;&#x4E9B;&#x7F51;&#x7EDC;&#x4E0A;&#x7684;&#x65F6;&#x95F4;&#x670D;&#x52A1;&#x5668;&#x53BB;&#x505A;&#x540C;&#x6B65;&#xFF0C;&#x90A3;&#x8FD9;&#x65F6;&#x5019;&#x600E;&#x4E48;&#x53BB;&#x505A;&#x5462;&#xFF1F;</p>
<p>&#x8FD9;&#x91CC;&#x5C31;&#x7528;&#x5230;&#x4E00;&#x79CD;&#x670D;&#x52A1;&#x4E86;&#xFF0C;&#x8FD9;&#x79CD;&#x670D;&#x52A1;&#x53EB;&#x505A;ntp&#x670D;&#x52A1;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x79CD;&#x9488;&#x5BF9;&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x7684;&#x670D;&#x52A1;&#x3002;</p>
<h3 id="Ntp&#x670D;&#x52A1;&#x7684;&#x539F;&#x7406;"><a href="#Ntp&#x670D;&#x52A1;&#x7684;&#x539F;&#x7406;" class="headerlink" title="Ntp&#x670D;&#x52A1;&#x7684;&#x539F;&#x7406;"></a>Ntp&#x670D;&#x52A1;&#x7684;&#x539F;&#x7406;</h3><p>&#x5176;&#x5B9E;&#x66F4;&#x7EC6;&#x5316;&#x6765;&#x8BF4;&#xFF0C;NTP&#x670D;&#x52A1;&#x5668;&#xFF08;Network Time Protocol&#xFF09;&#x662F;&#x7528;&#x6765;&#x4F7F;&#x8BA1;&#x7B97;&#x673A;&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x5316;&#x7684;&#x4E00;&#x79CD;&#x534F;&#x8BAE;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x4F7F;&#x8BA1;&#x7B97;&#x673A;&#x5BF9;&#x5176;&#x670D;&#x52A1;&#x5668;&#x6216;&#x65F6;&#x949F;&#x6E90;&#xFF08;&#x5982;&#x77F3;&#x82F1;&#x949F;&#xFF0C;GPS&#x7B49;&#x7B49;)&#x505A;&#x540C;&#x6B65;&#x5316;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x9AD8;&#x7CBE;&#x51C6;&#x5EA6;&#x7684;&#x65F6;&#x95F4;&#x6821;&#x6B63;&#xFF08;LAN&#x4E0A;&#x4E0E;&#x6807;&#x51C6;&#x95F4;&#x5DEE;&#x5C0F;&#x4E8E;1&#x6BEB;&#x79D2;&#xFF0C;WAN&#x4E0A;&#x51E0;&#x5341;&#x6BEB;&#x79D2;&#xFF09;&#xFF0C;&#x4E14;&#x53EF;&#x4ECB;&#x7531;&#x52A0;&#x5BC6;&#x786E;&#x8BA4;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x9632;&#x6B62;&#x6076;&#x6BD2;&#x7684;&#x534F;&#x8BAE;&#x653B;&#x51FB;&#x3002;&#x65F6;&#x95F4;&#x6309;NTP&#x670D;&#x52A1;&#x5668;&#x7684;&#x7B49;&#x7EA7;&#x4F20;&#x64AD;&#x3002;&#x6309;&#x7167;&#x79BB;&#x5916;&#x90E8;UTC&#x6E90;&#x7684;&#x8FDC;&#x8FD1;&#x628A;&#x6240;&#x6709;&#x670D;&#x52A1;&#x5668;&#x5F52;&#x5165;&#x4E0D;&#x540C;&#x7684;Stratum&#xFF08;&#x5C42;&#xFF09;&#x4E2D;&#x3002;</p>
<p>Stratum&#x5C42;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x5206;&#x5C42;&#x5F0F;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x4E0B;&#x4E00;&#x5C42;&#x627E;&#x4E0A;&#x4E00;&#x5C42;&#x505A;&#x540C;&#x6B65;&#xFF0C;&#x4E0A;&#x4E00;&#x5C42;&#x8FD8;&#x6709;&#x4E0A;&#x4E00;&#x5C42;&#x3002;&#x4EE5;&#x6B64;&#x7C7B;&#x63A8;&#x3002;</p>
<h3 id="&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x670D;&#x52A1;&#x914D;&#x7F6E;"><a href="#&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x670D;&#x52A1;&#x914D;&#x7F6E;" class="headerlink" title="&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x670D;&#x52A1;&#x914D;&#x7F6E;"></a>&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x670D;&#x52A1;&#x914D;&#x7F6E;</h3><p>&#x670D;&#x52A1;&#x7AEF;</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">rhel6</th>
<th align="left">rhel7</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&#x8F6F;&#x4EF6;</td>
<td align="left">ntp</td>
<td align="left">chrony</td>
</tr>
<tr>
<td align="left">service</td>
<td align="left">ntpd</td>
<td align="left">chronyd</td>
</tr>
<tr>
<td align="left">daemon</td>
<td align="left">ntpd</td>
<td align="left">chronyd</td>
</tr>
<tr>
<td align="left">&#x914D;&#x7F6E;&#x6587;&#x4EF6;</td>
<td align="left">/etc/ntp.conf</td>
<td align="left">/etc/chrony.conf</td>
</tr>
<tr>
<td align="left">&#x6570;&#x636E;&#x6587;&#x4EF6;</td>
<td align="left">/var/lib/ntp</td>
<td align="left">/var/lib/chrony</td>
</tr>
<tr>
<td align="left">&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</td>
<td align="left">/var/log/ntpstats</td>
<td align="left">/var/log/chrony</td>
</tr>
</tbody></table>
<p>&#x5BA2;&#x6237;&#x7AEF;</p>
<table>
<thead>
<tr>
<th align="left">&#x547D;&#x4EE4;</th>
<th align="left">ntpdate</th>
<th align="left">timedatectl</th>
</tr>
</thead>
<tbody><tr>
<td align="left"></td>
<td align="left">ntpdate 172.25.0.11</td>
<td align="left">timedatectl set-ntp 1</td>
</tr>
</tbody></table>
<h3 id="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1&#xFF1A;&#x914D;&#x7F6E;ntp&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x670D;&#x52A1;&#x5668;"><a href="#&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1&#xFF1A;&#x914D;&#x7F6E;ntp&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x670D;&#x52A1;&#x5668;" class="headerlink" title="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1&#xFF1A;&#x914D;&#x7F6E;ntp&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x670D;&#x52A1;&#x5668;"></a>&#x9879;&#x76EE;&#x5B9E;&#x8DF5;1&#xFF1A;&#x914D;&#x7F6E;ntp&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x670D;&#x52A1;&#x5668;</h3><p>rhel6 &#x8F6F;&#x4EF6;</p>
<p>ntp-4.2.6p5-1.el6.x86_64</p>
<h4 id="&#x914D;&#x7F6E;&#x8BE6;&#x89E3;"><a href="#&#x914D;&#x7F6E;&#x8BE6;&#x89E3;" class="headerlink" title="&#x914D;&#x7F6E;&#x8BE6;&#x89E3;"></a>&#x914D;&#x7F6E;&#x8BE6;&#x89E3;</h4><p>NTP&#x5B89;&#x5168;&#x8BBE;&#x7F6E;(restrict)</p>
<p>&#x8FD0;&#x884C;&#x4E00;&#x4E2A;NTP Server&#x4E0D;&#x9700;&#x8981;&#x5360;&#x7528;&#x5F88;&#x591A;&#x7684;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;,&#x6240;&#x4EE5;&#x4E5F;&#x4E0D;&#x7528;&#x4E13;&#x95E8;&#x914D;&#x7F6E;&#x72EC;&#x7ACB;&#x7684;&#x670D;&#x52A1;&#x5668;,&#x5C31;&#x53EF;&#x4EE5;&#x7ED9;&#x8BB8;&#x591A;client&#x63D0;&#x4F9B;&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x670D;&#x52A1;, &#x4F46;&#x662F;&#x4E00;&#x4E9B;&#x57FA;&#x672C;&#x7684;&#x5B89;&#x5168;&#x8BBE;&#x7F6E;&#x8FD8;&#x662F;&#x5F88;&#x6709;&#x5FC5;&#x8981;&#x7684;&#x90A3;&#x4E48;&#x8FD9;&#x91CC;&#x4E00;&#x4E2A;&#x5F88;&#x7B80;&#x5355;&#x7684;&#x601D;&#x8DEF;&#x5C31;&#x662F;&#x7B2C;&#x4E00;&#x6211;&#x4EEC;&#x53EA;&#x5141;&#x8BB8;&#x5C40;&#x57DF;&#x7F51;&#x5185;&#x4E00;&#x90E8;&#x5206;&#x7684;&#x7528;&#x6237;&#x8FDE;&#x63A5;&#x5230;&#x6211;&#x4EEC;&#x7684;&#x670D;&#x52A1;&#x5668;. &#x7B2C;&#x4E8C;&#x4E2A;&#x5C31;&#x662F;&#x8FD9;&#x4E9B;client&#x4E0D;&#x80FD;&#x4FEE;&#x6539;&#x6211;&#x4EEC;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x65F6;&#x95F4;</p>
<p>driftfile /var/lib/ntp/drift  #&#x4FA6;&#x6D4B;BIOS&#x65F6;&#x949F;&#x4E0E;Linux&#x7CFB;&#x7EDF;&#x65F6;&#x95F4;&#x7684;&#x5DEE;&#x5F02;&#x5199;&#x5165;&#x6B21;&#x6587;&#x4EF6;&#x3002;</p>
<p>&#x5229;&#x7528;restrict &#x6765;&#x7BA1;&#x7406;&#x6743;&#x9650;&#x63A7;&#x5236;</p>
<p>Restrict [IP]  mask [netmask_IP] [parameter]</p>
<p>Parameter &#x7684;&#x53C2;&#x6570;&#x4E3B;&#x8981;&#x5982;&#x4E0B;&#xFF1A;</p>
<ul>
<li>ignore :&#x62D2;&#x7EDD;&#x6240;&#x6709;&#x7C7B;&#x578B;&#x7684;NTP&#x8054;&#x673A;&#x3002;</li>
<li>nomodify: &#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;ntpc &#x4E0E;ntpq &#x8FD9;&#x4E24;&#x4E2A;&#x7A0B;&#x5E8F;&#x6765;&#x4FEE;&#x6539;&#x670D;&#x52A1;&#x5668;&#x7684;&#x65F6;&#x95F4;&#x53C2;&#x6570;&#xFF0C;&#x4F46;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x900F;&#x8FC7;&#x8FD9;&#x90E8;&#x4E3B;&#x673A;&#x6765;&#x8FDB;&#x884C;&#x7F51;&#x7EDC;&#x6821;&#x65F6;&#xFF1B;</li>
<li>noquery:&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x80FD;&#x591F;&#x4F7F;&#x7528;ntpc &#x4E0E;ntpq &#x7B49;&#x6307;&#x4EE4;&#x6765;&#x67E5;&#x8BE2;&#x65F6;&#x95F4;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4E0D;&#x63D0;&#x4F9B;NTP&#x7684;&#x7F51;&#x7EDC;&#x6821;&#x65F6;&#x3002;</li>
<li>notrap:&#x4E0D;&#x63D0;&#x4F9B;trap &#x8FD9;&#x4E2A;&#x8FD0;&#x7A0B;&#x4E8B;&#x4EF6;&#x767B;&#x5165;&#x7684;&#x529F;&#x80FD;&#x3002;</li>
<li>notrust:&#x62D2;&#x7EDD;&#x6CA1;&#x6709;&#x8BA4;&#x8BC1;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x3002;</li>
<li>Kod:kod&#x6280;&#x672F;&#x53EF;&#x4EE5;&#x963B;&#x6B62;&#x201C;Kiss of Death &#x201C;&#x5305;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7834;&#x574F;&#x3002;&#x62D2;&#x7EDD;&#x670D;&#x52A1;&#x653B;&#x51FB;</li>
<li>Nopeer:&#x4E0D;&#x4E0E;&#x5176;&#x4ED6;&#x540C;&#x4E00;&#x5C42;&#x7684;NTP&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x3002;</li>
</ul>
<p>&#x5229;&#x7528;server &#x8BBE;&#x5B9A;&#x4E0A;&#x5C42;NTP&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;</p>
<p>server [IP or hostname] [prefer]</p>
<ul>
<li><p>perfer:&#x8868;&#x793A;&#x4F18;&#x5148;&#x7EA7;&#x6700;&#x9AD8;</p>
</li>
<li><p>burst &#xFF1A;&#x5F53;&#x4E00;&#x4E2A;&#x8FD0;&#x7A0B;NTP&#x670D;&#x52A1;&#x5668;&#x53EF;&#x7528;&#x65F6;&#xFF0C;&#x5411;&#x5B83;&#x53D1;&#x9001;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x5E76;&#x53D1;&#x5305;&#x8FDB;&#x884C;&#x68C0;&#x6D4B;&#x3002;</p>
</li>
<li><p>iburst &#xFF1A;&#x5F53;&#x4E00;&#x4E2A;&#x8FD0;&#x7A0B;NTP&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x53EF;&#x7528;&#x65F6;&#xFF0C;&#x5411;&#x5B83;&#x53D1;&#x9001;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x5E76;&#x53D1;&#x5305;&#x8FDB;&#x884C;&#x68C0;&#x6D4B;&#x3002;</p>
<p>&#x6CE8;&#xFF1A;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x5C0F;15&#x5206;&#x949F;&#x540E;&#x624D;&#x4F1A;&#x4E0E;&#x4E0A;&#x5C42;NTP&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x65F6;&#x95F4;&#x6821;&#x5BF9;&#x3002;</p>
</li>
</ul>
<blockquote>
<p>&#x8C01;&#x80FD;&#x6765;&#x540C;&#x6B65;&#x6211;&#x7684;&#x65F6;&#x95F4;&#xFF1F;</p>
</blockquote>
<p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x5BF9;&#x4E8E;&#x9ED8;&#x8BA4;&#x7684;client&#x62D2;&#x7EDD;&#x6240;&#x6709;&#x7684;&#x64CD;&#x4F5C;</p>
<p>&#x4EE3;&#x7801;:<br><code>restrict default kod nomodify notrap nopeer noquery</code></p>
<p>&#x7136;&#x540E;&#x5141;&#x8BB8;&#x672C;&#x673A;&#x5730;&#x5740;&#x4E00;&#x5207;&#x7684;&#x64CD;&#x4F5C;</p>
<p>&#x4EE3;&#x7801;:<br><code>restrict 127.0.0.1</code></p>
<p>&#x6700;&#x540E;&#x6211;&#x4EEC;&#x5141;&#x8BB8;&#x5C40;&#x57DF;&#x7F51;&#x5185;&#x6240;&#x6709;client&#x8FDE;&#x63A5;&#x5230;&#x8FD9;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x540C;&#x6B65;&#x65F6;&#x95F4;.&#x4F46;&#x662F;&#x62D2;&#x7EDD;&#x8BA9;&#x4ED6;&#x4EEC;&#x4FEE;&#x6539;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x65F6;&#x95F4;</p>
<p>&#x4EE3;&#x7801;:<br><code>restrict 172.25.0.0 mask 255.255.255.0 nomodify</code></p>
<blockquote>
<p>&#x6211;&#x53BB;&#x540C;&#x6B65;&#x8C01;&#x7684;&#x65F6;&#x95F4;&#xFF1F;</p>
</blockquote>
<p>server     &#x65F6;&#x95F4;&#x540C;&#x6B65;&#x670D;&#x52A1;&#x5668;    &#x5C42;&#x6570;&#x6BD4;&#x6211;&#x9AD8;&#x7684;&#xFF0C;&#x53CA;&#x6570;&#x5B57;&#x6BD4;&#x6211;&#x5C0F;&#x7684;</p>
<p>&#x4EE3;&#x7801;:<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">server  127.127.1.0     # local clock</span><br><span class="line">fudge   127.127.1.0 stratum 10</span><br></pre></td></tr></table></figure></p>
<p>####&#x3000;&#x8BE6;&#x7EC6;&#x6B65;&#x9AA4;</p>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x670D;&#x52A1;&#x5668;&#x7AEF;</span></span><br><span class="line"></span><br><span class="line">[root@rhel6 ~]# yum install -y ntp</span><br><span class="line">[root@rhel6 ~]# vim /etc/ntp.conf</span><br><span class="line">[root@rhel6 ~]# grep -v &quot;^#&quot; /etc/ntp.conf|grep -v &quot;^$&quot;</span><br><span class="line">driftfile /var/lib/ntp/drift</span><br><span class="line">restrict default kod nomodify notrap nopeer noquery</span><br><span class="line">restrict -6 default kod nomodify notrap nopeer noquery</span><br><span class="line">restrict 127.0.0.1</span><br><span class="line">restrict -6 ::1</span><br><span class="line">restrict 172.25.0.0 mask 255.255.255.0 nomodify</span><br><span class="line">server 172.25.0.11</span><br><span class="line">server  127.127.1.0     </span><br><span class="line">fudge   127.127.1.0 stratum 10</span><br><span class="line">includefile /etc/ntp/crypto/pw</span><br><span class="line">keys /etc/ntp/keys</span><br><span class="line">[root@rhel6 ~]# service ntpd start</span><br><span class="line">Starting ntpd:                                             [  OK  ]</span><br><span class="line">[root@rhel6 ~]# service iptables stop</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> &#x5BA2;&#x6237;&#x7AEF;</span></span><br><span class="line">[root@rhel7 ~]# which ntpdate</span><br><span class="line">/usr/sbin/ntpdate</span><br><span class="line">[root@rhel7 ~]# rpm -qf /usr/sbin/ntpdate</span><br><span class="line">ntpdate-4.2.6p5-18.el7.x86_64</span><br><span class="line">[root@rhel7 ~]# systemctl stop firewalld</span><br><span class="line">[root@rhel7 ~]# ntpdate 172.25.0.11</span><br><span class="line"> 2 Aug 06:36:51 ntpdate[8128]: step time server 172.25.0.11 offset -0.691491 sec</span><br><span class="line">[root@rhel7 ~]# date -s &quot;2016-08-01&quot;</span><br><span class="line">Mon Aug  1 00:00:00 EDT 2016</span><br><span class="line">[root@rhel7 ~]# date</span><br><span class="line">Mon Aug  1 00:00:01 EDT 2016</span><br><span class="line">[root@rhel7 ~]# ntpdate 172.25.0.11</span><br><span class="line"> 2 Aug 06:37:35 ntpdate[8140]: step time server 172.25.0.11 offset 110240.425235 sec</span><br><span class="line">[root@rhel7 ~]# date</span><br><span class="line">Tue Aug  2 06:37:37 EDT 2016</span><br></pre></td></tr></table></figure></p>
<h4 id="&#x4E00;&#x4E9B;&#x8865;&#x5145;&#x548C;&#x62FE;&#x9057;&#xFF08;&#x633A;&#x91CD;&#x8981;&#xFF09;"><a href="#&#x4E00;&#x4E9B;&#x8865;&#x5145;&#x548C;&#x62FE;&#x9057;&#xFF08;&#x633A;&#x91CD;&#x8981;&#xFF09;" class="headerlink" title="&#x4E00;&#x4E9B;&#x8865;&#x5145;&#x548C;&#x62FE;&#x9057;&#xFF08;&#x633A;&#x91CD;&#x8981;&#xFF09;"></a>&#x4E00;&#x4E9B;&#x8865;&#x5145;&#x548C;&#x62FE;&#x9057;&#xFF08;&#x633A;&#x91CD;&#x8981;&#xFF09;</h4><ol>
<li><p>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;driftfile&#x662F;&#x4EC0;&#x4E48;?<br>&#x6211;&#x4EEC;&#x6BCF;&#x4E00;&#x4E2A;system clock&#x7684;&#x9891;&#x7387;&#x90FD;&#x6709;&#x5C0F;&#x5C0F;&#x7684;&#x8BEF;&#x5DEE;,&#x8FD9;&#x4E2A;&#x5C31;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x673A;&#x5668;&#x8FD0;&#x884C;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x540E;&#x4F1A;&#x4E0D;&#x7CBE;&#x786E;.NTP&#x4F1A;&#x81EA;&#x52A8;&#x6765;&#x76D1;&#x6D4B;&#x6211;&#x4EEC;&#x65F6;&#x949F;&#x7684;&#x8BEF;&#x5DEE;&#x503C;&#x5E76;&#x4E88;&#x4EE5;&#x8C03;&#x6574;.&#x4F46;&#x95EE;&#x9898;&#x662F;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5197;&#x957F;&#x7684;&#x8FC7;&#x7A0B;,&#x6240;&#x4EE5;&#x5B83;&#x4F1A;&#x628A;&#x8BB0;&#x5F55;&#x4E0B;&#x6765;&#x7684;&#x8BEF;&#x5DEE;&#x5148;&#x5199;&#x5165;driftfile.&#x8FD9;&#x6837;&#x5373;&#x4F7F;&#x4F60;&#x91CD;&#x65B0;&#x5F00;&#x673A;&#x4EE5;&#x540E;&#x4E4B;&#x524D;&#x7684;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x4E5F;&#x5C31;&#x4E0D;&#x4F1A;&#x4E22;&#x5931;&#x4E86;</p>
</li>
<li><p>&#x5982;&#x4F55;&#x540C;&#x6B65;&#x786C;&#x4EF6;&#x65F6;&#x949F;?<br>NTP&#x4E00;&#x822C;&#x53EA;&#x4F1A;&#x540C;&#x6B65;system clock. &#x4F46;&#x662F;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4E5F;&#x8981;&#x540C;&#x6B65;RTC(hwclock)&#x7684;&#x8BDD;&#x90A3;&#x4E48;&#x53EA;&#x9700;&#x8981;&#x628A;&#x4E0B;&#x9762;&#x7684;&#x9009;&#x9879;&#x6253;&#x5F00;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;</p>
</li>
</ol>
<p>&#x4EE3;&#x7801;:<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> vi /etc/sysconfig/ntpd</span></span><br><span class="line">SYNC_HWCLOCK=yes</span><br></pre></td></tr></table></figure></p>
<ol start="3">
<li>&#x8BA9;rhel6&#x8FD0;&#x884C;ntpdate&#x66F4;&#x65B0;&#x65F6;&#x95F4;&#x65F6;&#xFF0C;rhel6&#x540C;&#x6B65;&#x5931;&#x8D25;&#xFF0C;&#x4F1A;&#x63D0;&#x793A;&#x7AEF;&#x53E3;&#x88AB;&#x5360;&#x7528;&#xFF1A;&#x5982;&#x4E0B;<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel6 ~]# ntpdate 172.25.0.11</span><br><span class="line"> 2 Aug 18:39:16 ntpdate[4831]: the NTP socket is in use, exiting</span><br></pre></td></tr></table></figure></li>
<li>&#x5229;&#x7528;crontab&#x8BA9;rhel7 NTP&#x5B9A;&#x65F6;&#x66F4;&#x65B0;&#x65F6;&#x95F4;<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 8 * * * /usr/sbin/ntpdate 172.25.0.11</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="chrony"><a href="#chrony" class="headerlink" title="chrony"></a>chrony</h3><p>chrony-1.29.1-1.el7.x86_64</p>
<p>RHEL&#x4ECE;7.0&#x5F00;&#x59CB;&#x6539;&#x7528;chrony&#x540C;&#x6B65;&#x65F6;&#x95F4;&#xFF0C;&#x539F;ntp&#x540C;&#x6B65;&#x65B9;&#x5F0F;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF0C;&#x4F46;&#x8981;&#x5B89;&#x88C5;ntp&#x670D;&#x52A1;&#x3002;</p>
<p>chronyd&#x662F;&#x4E00;&#x4E2A;&#x5728;&#x7CFB;&#x7EDF;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#x7684;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x3002;&#x4ED6;&#x6839;&#x636E;&#x7F51;&#x7EDC;&#x4E0A;&#x5176;&#x4ED6;&#x65F6;&#x95F4;&#x670D;&#x52A1;&#x5668;&#x65F6;&#x95F4;&#x6765;&#x6D4B;&#x91CF;&#x672C;&#x673A;&#x65F6;&#x95F4;&#x7684;&#x504F;&#x79FB;&#x91CF;&#x4ECE;&#x800C;&#x8C03;&#x6574;&#x7CFB;&#x7EDF;&#x65F6;&#x949F;&#x3002;&#x5BF9;&#x4E8E;&#x5B64;&#x7ACB;&#x7CFB;&#x7EDF;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x624B;&#x52A8;&#x5468;&#x671F;&#x6027;&#x7684;&#x8F93;&#x5165;&#x6B63;&#x786E;&#x65F6;&#x95F4;&#xFF08;&#x901A;&#x8FC7;chronyc&#xFF09;&#x3002;&#x5728;&#x8FD9;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;chronyd&#x51B3;&#x5B9A;&#x8BA1;&#x7B97;&#x673A;&#x5FEB;&#x6162;&#x7684;&#x6BD4;&#x4F8B;&#xFF0C;&#x5E76;&#x52A0;&#x4EE5;&#x7EA0;&#x6B63;&#x3002;chronyd&#x5B9E;&#x73B0;&#x4E86;NTP&#x534F;&#x8BAE;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x670D;&#x52A1;&#x5668;&#x6216;&#x5BA2;&#x6237;&#x7AEF;&#x3002;</p>
<h4 id="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;2&#xFF1A;&#x914D;&#x7F6E;chrony&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x670D;&#x52A1;&#x5668;"><a href="#&#x9879;&#x76EE;&#x5B9E;&#x8DF5;2&#xFF1A;&#x914D;&#x7F6E;chrony&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x670D;&#x52A1;&#x5668;" class="headerlink" title="&#x9879;&#x76EE;&#x5B9E;&#x8DF5;2&#xFF1A;&#x914D;&#x7F6E;chrony&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x670D;&#x52A1;&#x5668;"></a>&#x9879;&#x76EE;&#x5B9E;&#x8DF5;2&#xFF1A;&#x914D;&#x7F6E;chrony&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x670D;&#x52A1;&#x5668;</h4><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# yum install -y chrony</span><br><span class="line"></span><br><span class="line">[root@rhel7 ~]# vim /etc/chrony.conf</span><br><span class="line">[root@rhel7 ~]# grep -v &quot;^#&quot; /etc/chrony.conf |grep -v &quot;^$&quot;</span><br><span class="line">server 172.25.0.10</span><br><span class="line">allow 172.25.0.0/24</span><br><span class="line">stratumweight 0</span><br><span class="line">driftfile /var/lib/chrony/drift</span><br><span class="line">rtcsync</span><br><span class="line">makestep 10 3</span><br><span class="line">bindcmdaddress 127.0.0.1</span><br><span class="line">bindcmdaddress ::1</span><br><span class="line">keyfile /etc/chrony.keys</span><br><span class="line">commandkey 1</span><br><span class="line">generatecommandkey</span><br><span class="line">noclientlog</span><br><span class="line">logchange 0.5</span><br><span class="line">logdir /var/log/chrony</span><br><span class="line">[root@rhel7 ~]# timedatectl</span><br><span class="line">      Local time: Tue 2016-08-02 07:24:15 EDT</span><br><span class="line">  Universal time: Tue 2016-08-02 11:24:15 UTC</span><br><span class="line">        RTC time: Tue 2016-08-02 11:24:15</span><br><span class="line">        Timezone: America/New_York (EDT, -0400)</span><br><span class="line">     NTP enabled: yes</span><br><span class="line">NTP synchronized: yes</span><br><span class="line"> RTC in local TZ: no</span><br><span class="line">      DST active: yes</span><br><span class="line"> Last DST change: DST began at</span><br><span class="line">                  Sun 2016-03-13 01:59:59 EST</span><br><span class="line">                  Sun 2016-03-13 03:00:00 EDT</span><br><span class="line"> Next DST change: DST ends (the clock jumps one hour backwards) at</span><br><span class="line">                  Sun 2016-11-06 01:59:59 EDT</span><br><span class="line">                  Sun 2016-11-06 01:00:00 EST</span><br></pre></td></tr></table></figure></p>
<h3 id="&#x9879;&#x76EE;&#x6C47;&#x603B;"><a href="#&#x9879;&#x76EE;&#x6C47;&#x603B;" class="headerlink" title="&#x9879;&#x76EE;&#x6C47;&#x603B;"></a>&#x9879;&#x76EE;&#x6C47;&#x603B;</h3><p><img src="/2016/12/23/booboo_easy_service/06_ntp_chrony/ntp-lab_Page_1.jpg" alt="ntp-lab_Page_1"></p>
<p><img src="/2016/12/23/booboo_easy_service/06_ntp_chrony/ntp-lab_Page_2.jpg" alt="ntp-lab_Page_2"></p>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2016/12/23/booboo_easy_service/07_iptables_firewalld/" itemprop="url">防火墙 iptables</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2016-12-22T21:06:27.000Z" itemprop="datePublished">12月 23 2016</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/">技术培训</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/Linux%E7%AE%80%E6%98%93%E6%9C%8D%E5%8A%A1%E6%95%99%E7%A8%8B/">Linux简易服务教程</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            8 分钟 lesen (Über 1243 Wörter)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <h3 id="&#x9632;&#x706B;&#x5899;&#x7684;&#x4F5C;&#x7528;"><a href="#&#x9632;&#x706B;&#x5899;&#x7684;&#x4F5C;&#x7528;" class="headerlink" title="&#x9632;&#x706B;&#x5899;&#x7684;&#x4F5C;&#x7528;"></a>&#x9632;&#x706B;&#x5899;&#x7684;&#x4F5C;&#x7528;</h3><p>&#x9632;&#x706B;&#x5899;&#x662F;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x5DE5;&#x4F5C;&#x5728;&#x7F51;&#x7EDC;&#x8FB9;&#x7F18;&#xFF08;&#x4E3B;&#x673A;&#x8FB9;&#x7F18;&#xFF09;&#xFF0C;&#x5BF9;&#x8FDB;&#x51FA;&#x7F51;&#x7EDC;&#x6570;&#x636E;&#x5305;&#x57FA;&#x4E8E;&#x4E00;&#x5B9A;&#x7684;&#x89C4;&#x5219;&#x68C0;&#x67E5;&#xFF0C;&#x5E76;&#x5728;&#x5339;&#x914D;&#x67D0;&#x89C4;&#x5219;&#x65F6;&#x7531;&#x89C4;&#x5219;&#x5B9A;&#x4E49;&#x7684;&#x5904;&#x7406;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x7684;&#x4E00;&#x7EC4;&#x529F;&#x80FD;&#x7684;&#x7EC4;&#x4EF6;&#x3002;</p>
<h3 id="&#x9632;&#x706B;&#x5899;&#x7C7B;&#x578B;"><a href="#&#x9632;&#x706B;&#x5899;&#x7C7B;&#x578B;" class="headerlink" title="&#x9632;&#x706B;&#x5899;&#x7C7B;&#x578B;"></a>&#x9632;&#x706B;&#x5899;&#x7C7B;&#x578B;</h3><p>&#x6839;&#x636E;&#x5DE5;&#x4F5C;&#x7684;&#x5C42;&#x6B21;&#x7684;&#x4E0D;&#x540C;&#x6765;&#x5212;&#x5206;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x9632;&#x706B;&#x5899;&#x5DE5;&#x4F5C;&#x5728;OSI&#x7B2C;&#x4E09;&#x5C42;&#xFF0C;&#x5373;&#x7F51;&#x7EDC;&#x5C42;&#x9632;&#x706B;&#x5899;&#xFF0C;&#x5DE5;&#x4F5C;&#x5728;OSI&#x7B2C;&#x4E03;&#x5C42;&#x7684;&#x79F0;&#x4E3A;&#x5E94;&#x7528;&#x5C42;&#x9632;&#x706B;&#x5899;&#xFF0C;&#x6216;&#x8005;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#xFF08;&#x4EE3;&#x7406;&#x7F51;&#x5173;&#xFF09;&#x3002;</p>
<p>&#x7F51;&#x7EDC;&#x5C42;&#x9632;&#x706B;&#x5899;&#x53C8;&#x79F0;&#x5305;&#x8FC7;&#x6EE4;&#x9632;&#x706B;&#x5899;&#xFF0C;&#x5728;&#x7F51;&#x7EDC;&#x5C42;&#x5BF9;&#x6570;&#x636E;&#x5305;&#x8FDB;&#x884C;&#x9009;&#x62E9;&#xFF0C;&#x9009;&#x62E9;&#x7684;&#x4F9D;&#x636E;&#x662F;&#x7CFB;&#x7EDF;&#x5185;&#x8BBE;&#x7F6E;&#x7684;&#x8FC7;&#x6EE4;&#x903B;&#x8F91;&#xFF0C;&#x901A;&#x8FC7;&#x68C0;&#x67E5;&#x6570;&#x636E;&#x6D41;&#x4E2D;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x7684;&#x6E90;&#x5730;&#x5740;&#xFF0C;&#x76EE;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x6240;&#x7528;&#x7AEF;&#x53E3;&#x53F7;&#x548C;&#x534F;&#x8BAE;&#x72B6;&#x6001;&#x7B49;&#x56E0;&#x7D20;&#x6765;&#x786E;&#x5B9A;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x8BE5;&#x6570;&#x636E;&#x5305;&#x7684;&#x901A;&#x8FC7;&#xFF0C;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x5305;&#x7684;&#x6D41;&#x5411;&#x7B49;&#x3002;</p>
<p>&#x8FD8;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x786C;&#x4EF6;&#x9632;&#x706B;&#x5899;&#x548C;&#x8F6F;&#x4EF6;&#x9632;&#x706B;&#x5899;</p>
<h3 id="&#x8F6F;&#x4EF6;&#x9632;&#x706B;&#x5899;"><a href="#&#x8F6F;&#x4EF6;&#x9632;&#x706B;&#x5899;" class="headerlink" title="&#x8F6F;&#x4EF6;&#x9632;&#x706B;&#x5899;"></a>&#x8F6F;&#x4EF6;&#x9632;&#x706B;&#x5899;</h3><ul>
<li>EL6&#x4E0A;&#x7684;&#x9632;&#x706B;&#x5899;&#x53EB;&#x505A;iptables&#x3002;</li>
<li>EL7&#x4E0A;&#x7684;&#x9632;&#x706B;&#x5899;&#x53EB;&#x505A;firewalld&#x3002;</li>
</ul>
<h3 id="iptables&#x8BED;&#x6CD5;"><a href="#iptables&#x8BED;&#x6CD5;" class="headerlink" title="iptables&#x8BED;&#x6CD5;"></a>iptables&#x8BED;&#x6CD5;</h3><p>iptables -t table CMD chain rule-matcher -j target</p>
<pre><code>&#x8868;      &#x52A8;&#x4F5C; &#x94FE;    &#x89C4;&#x5219;&#x5339;&#x914D;       &#x6267;&#x884C;&#x64CD;&#x4F5C;</code></pre><h4 id="&#x8868;table"><a href="#&#x8868;table" class="headerlink" title="&#x8868;table"></a>&#x8868;table</h4><p>&#x4F7F;&#x7528; -t &#x6765;&#x6307;&#x5B9A;&#x8868;,&#x5982;&#x679C;&#x7701;&#x7565;,&#x5219;&#x4EE3;&#x8868;&#x5BF9; filter &#x8868;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;</p>
<ul>
<li>filter &#x8868;:&#x7528;&#x4E8E;&#x8FC7;&#x6EE4;&#x6570;&#x636E;&#x5305;</li>
<li>nat &#x8868;:&#x7528;&#x4E8E;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5305;&#x7684;&#x6765;&#x6E90;&#x548C;&#x76EE;&#x7684;&#x5730;</li>
<li>mangle &#x8868;:&#x7528;&#x6237;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5305;&#x7684;&#x751F;&#x5B58;&#x5468;&#x671F;&#x7B49;&#x7B49;</li>
<li>raw &#x8868;:&#x8DDF;&#x8E2A;&#x673A;&#x5236;</li>
</ul>
<h4 id="CMD&#x52A8;&#x4F5C;"><a href="#CMD&#x52A8;&#x4F5C;" class="headerlink" title="CMD&#x52A8;&#x4F5C;"></a>CMD&#x52A8;&#x4F5C;</h4><ul>
<li>A &#x8FFD;&#x52A0;</li>
<li>I &#x63D2;&#x5165;</li>
<li>D &#x5220;&#x9664;</li>
<li>L &#x7F57;&#x5217;</li>
<li>F &#x6E05;&#x7A7A;</li>
</ul>
<h4 id="&#x8868;&#x5F53;&#x4E2D;&#x5305;&#x542B;&#x94FE;chain"><a href="#&#x8868;&#x5F53;&#x4E2D;&#x5305;&#x542B;&#x94FE;chain" class="headerlink" title="&#x8868;&#x5F53;&#x4E2D;&#x5305;&#x542B;&#x94FE;chain"></a>&#x8868;&#x5F53;&#x4E2D;&#x5305;&#x542B;&#x94FE;chain</h4><p>&#x94FE;&#x662F;&#x7528;&#x6765;&#x533A;&#x5206;&#x6570;&#x636E;&#x5305;&#x7684;&#x6D41;&#x5411;&#x72B6;&#x6001;</p>
<ul>
<li>INPUT &#x5165;&#x7AD9;&#x7684;&#x6570;&#x636E;&#x5305;</li>
<li>OUTPUT &#x51FA;&#x7AD9;&#x7684;&#x6570;&#x636E;&#x5305;</li>
<li>PREROUTING &#x8DEF;&#x7531;&#x5224;&#x65AD;&#x4E4B;&#x524D;&#x7684;&#x6570;&#x636E;&#x5305;</li>
<li>POSTROUTING &#x8DEF;&#x7531;&#x5224;&#x65AD;&#x4E4B;&#x540E;&#x7684;&#x6570;&#x636E;&#x5305;</li>
<li>FORWARD &#x7B2C;&#x4E00;&#x6B21;&#x8DEF;&#x7531;&#x5224;&#x65AD;&#x4E4B;&#x540E;,&#x5230;&#x6700;&#x540E;&#x4E00;&#x8BCD;&#x8DEF;&#x7531;&#x5224;&#x65AD;&#x4E4B;&#x524D;</li>
</ul>
<h4 id="&#x89C4;&#x5219;rule"><a href="#&#x89C4;&#x5219;rule" class="headerlink" title="&#x89C4;&#x5219;rule"></a>&#x89C4;&#x5219;rule</h4><p>&#x662F;&#x7528;&#x6765;&#x5224;&#x65AD;&#x6570;&#x636E;&#x5305;&#x7684;&#x5177;&#x4F53;&#x60C5;&#x51B5;</p>
<ul>
<li>-p &#x534F;&#x8BAE;</li>
<li>-s &#x6765;&#x6E90;</li>
<li>-d &#x76EE;&#x7684;&#x5730;</li>
<li>&#x2013;sport &#x6765;&#x6E90;&#x7AEF;&#x53E3;</li>
<li>&#x2013;dport &#x76EE;&#x7684;&#x7AEF;&#x53E3;</li>
<li>-i &#x5165;&#x7AD9;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;</li>
<li>-o &#x51FA;&#x7AD9;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;</li>
<li>! &#x53D6;&#x53CD;</li>
</ul>
<h4 id="&#x6267;&#x884C;&#x64CD;&#x4F5C;target"><a href="#&#x6267;&#x884C;&#x64CD;&#x4F5C;target" class="headerlink" title="&#x6267;&#x884C;&#x64CD;&#x4F5C;target"></a>&#x6267;&#x884C;&#x64CD;&#x4F5C;target</h4><ul>
<li>ACCEPT &#x63A5;&#x53D7;</li>
<li>DROP &#x4E22;&#x5F03;</li>
<li>REJECT &#x62D2;&#x7EDD;</li>
<li>DNAT &#x76EE;&#x6807;&#x5730;&#x5740;&#x8F6C;&#x6362;</li>
<li>SNAT &#x6E90;&#x5730;&#x5740;&#x8F6C;&#x6362;</li>
</ul>
<h3 id="&#x5E94;&#x7528;&#x5B9E;&#x4F8B;"><a href="#&#x5E94;&#x7528;&#x5B9E;&#x4F8B;" class="headerlink" title="&#x5E94;&#x7528;&#x5B9E;&#x4F8B;"></a>&#x5E94;&#x7528;&#x5B9E;&#x4F8B;</h3><ol start="0">
<li>&#x67E5;&#x770B;&#x89C4;&#x5219;    <code>iptables -L</code></li>
<li>&#x89C4;&#x5219;&#x6E05;&#x7A7A;    <code>iptables -F</code></li>
<li>&#x9884;&#x9009;&#x7B56;&#x7565;    <code>iptables -P INPUT ACCEPT</code></li>
<li>&#x4FDD;&#x5B58;&#x7B56;&#x7565;    <code>service iptables save</code> or <code>iptables-save &gt; /etc/sysconfig/iptables</code></li>
<li>&#x5F00;&#x673A;&#x540E;&#x91CD;&#x65B0;&#x5BFC;&#x5165;    <code>iptables-restore &lt; /etc/sysconfig/iptables</code></li>
</ol>
<blockquote>
<p>&#x53EA;&#x5141;&#x8BB8;172.25.0.250&#x548C;&#x4F60;&#x81EA;&#x5DF1;&#x7684;&#x670D;&#x52A1;&#x5668;&#x80FD;&#x591F;&#x8BBF;&#x95EE;ftp&#x670D;&#x52A1;&#xFF08;rhel6&#xFF09;</p>
</blockquote>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iptables -A INPUT -s 172.25.0.250 -p tcp --dport 21 -j  ACCEPT</span><br><span class="line">iptables -A INPUT -s 172.25.0.11 -p tcp --dport 21 -j ACCEPT</span><br><span class="line">iptables -A INPUT -p tcp --dport 21 -j DROP</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>&#x7981;&#x6B62;ping&#x5305;</p>
</blockquote>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -A INPUT -p icmp -j DROP</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>&#x4EC5;&#x5141;&#x8BB8;172.25.0.0/24&#x7F51;&#x6BB5;&#x548C;172.25.15.0/24&#x7F51;&#x6BB5;&#x7528;&#x6237;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x6211;&#x7684;&#x90AE;&#x4EF6;&#x670D;&#x52A1;&#x5668;</p>
</blockquote>
<p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iptables -A INPUT -s 172.25.0.0/24 -p tcp --dport 25 -j ACCEPT</span><br><span class="line">iptables -A INPUT -s 172.25.15.0/24 -p tcp --dport 25 -j ACCEPT</span><br><span class="line">iptables -A INPUT -p tcp --dport 25 -j DROP</span><br></pre></td></tr></table></figure></p>
<h3 id="&#x8BFE;&#x5802;&#x7EC3;&#x4E60;&#x9898;&#x76EE;"><a href="#&#x8BFE;&#x5802;&#x7EC3;&#x4E60;&#x9898;&#x76EE;" class="headerlink" title="&#x8BFE;&#x5802;&#x7EC3;&#x4E60;&#x9898;&#x76EE;"></a>&#x8BFE;&#x5802;&#x7EC3;&#x4E60;&#x9898;&#x76EE;</h3><p>rhel6 172.25.x.11</p>
<ol>
<li><p>&#x6E05;&#x7A7A;&#x89C4;&#x5219;</p>
</li>
<li><p>&#x9884;&#x8BBE;filter&#x8868;INPUT&#x662F;ACCEPT</p>
</li>
<li><p>&#x4EC5;&#x5141;&#x8BB8;172.25.254.250&#x548C;172.25.254.X &#x80FD;&#x591F;ssh&#x5230;&#x6211;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF08;rhel6 172.25.X.11&#xFF09;&#x4E0A;<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iptables -A INPUT -s 172.25.254.250 -p tcp --dport 22 -j ACCEPT</span><br><span class="line">iptables -A INPUT -s 172.25.254.16 -p tcp --dport 22 -j ACCEPT</span><br><span class="line">iptables -A INPUT -p tcp --dport 22 -j DROP</span><br></pre></td></tr></table></figure></p>
</li>
<li><p>&#x4EC5;&#x5141;&#x8BB8;172.25.254.0/24&#x548C;172.25.X.0/24&#x80FD;&#x591F;ping&#x6211;&#x7684;&#x670D;&#x52A1;&#x5668;<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iptables -A INPUT -s 172.25.254.0/24 -p icmp -j ACCEPT</span><br><span class="line">iptables -A INPUT -s 172.25.16.0/24 -p icmp -j ACCEPT</span><br><span class="line">iptables -A INPUT -p icpm -j DROP</span><br></pre></td></tr></table></figure></p>
</li>
<li><p>&#x4E0D;&#x5141;&#x8BB8;172.25.254.254&#x8BBF;&#x95EE;&#x6211;&#x7684;&#x90AE;&#x4EF6;&#x670D;&#x52A1;&#x5668;<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -A INPUT -s 172.25.254.254 -p tcp --dport 25 -j DROP</span><br></pre></td></tr></table></figure></p>
</li>
<li><p>&#x4FDD;&#x5B58;&#x89C4;&#x5219;<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rhel6</span><br><span class="line">servcie iptables save</span><br><span class="line">iptables-save &gt; /etc/sysconfig/iptables</span><br></pre></td></tr></table></figure></p>
</li>
<li><p>&#x67E5;&#x770B;&#x89C4;&#x5219;<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -L</span><br></pre></td></tr></table></figure></p>
</li>
<li><p>&#x5173;&#x673A;&#x91CD;&#x542F;<br><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables-restore &lt; /etc/sysconfig/iptables</span><br></pre></td></tr></table></figure></p>
</li>
</ol>
<h3 id="Firewalld&#x7684;&#x7528;&#x6CD5;"><a href="#Firewalld&#x7684;&#x7528;&#x6CD5;" class="headerlink" title="Firewalld&#x7684;&#x7528;&#x6CD5;"></a>Firewalld&#x7684;&#x7528;&#x6CD5;</h3><p>Firewalld&#x662F;el7&#x9ED8;&#x8BA4;&#x7684;&#x9632;&#x706B;&#x5899;&#xFF0C;&#x548C;iptables&#x51B2;&#x7A81;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x4F7F;&#x7528;&#x5176;&#x4E2D;&#x4E4B;&#x4E00;&#xFF0C;&#x9700;&#x8981;&#x5173;&#x95ED;&#x53E6;&#x5916;&#x4E00;&#x4E2A;</p>
<p>&#x8FD0;&#x884C;&#x3001;&#x505C;&#x6B62;&#x3001;&#x7981;&#x7528;firewalld:</p>
<ul>
<li>&#x542F;&#x52A8;&#xFF1A;<code>systemctl start  firewalld</code></li>
<li>&#x67E5;&#x770B;&#x72B6;&#x6001;&#xFF1A;<code>systemctl status firewalld</code> &#x6216;&#x8005; <code>firewall-cmd --state</code></li>
<li>&#x505C;&#x6B62;&#xFF1A;<code>systemctl disable firewalld</code></li>
<li>&#x7981;&#x7528;&#xFF1A;<code>systemctl stop firewalld</code></li>
</ul>
<p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;</p>
<ol>
<li>firewall-config&#x56FE;&#x5F62;&#x5316;&#x5DE5;&#x5177; &#x6765;&#x63A7;&#x5236;</li>
<li>firewall-cmd  &#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;</li>
</ol>
<h4 id="Firewall-config"><a href="#Firewall-config" class="headerlink" title="Firewall-config"></a>Firewall-config</h4><ol>
<li>Configuration    runtime&#x548C;permanent  &#x5206;&#x522B;&#x662F;&#x8FD0;&#x884C;&#x65F6;&#x548C;&#x6C38;&#x4E45;</li>
<li>zone &#x9ED8;&#x8BA4;&#x533A;&#x57DF;&#x914D;&#x7F6E;</li>
</ol>
<ul>
<li>Trusted&#xFF1A;&#x5141;&#x8BB8;&#x6240;&#x6709;&#x4F20;&#x5165;&#x6570;&#x636E;&#x5305;</li>
<li>drop&#xFF1A;&#x9ED8;&#x8BA4;&#x4E22;&#x5F03;&#x6240;&#x6709;&#x5305;</li>
<li>block&#xFF1A;&#x62D2;&#x7EDD;&#x6240;&#x6709;&#x5916;&#x90E8;&#x8FDE;&#x63A5;&#xFF0C;&#x5141;&#x8BB8;&#x5185;&#x90E8;&#x53D1;&#x8D77;&#x7684;&#x8FDE;&#x63A5;</li>
<li>public&#xFF1A;&#x6307;&#x5B9A;&#x5916;&#x90E8;&#x8FDE;&#x63A5;&#x53EF;&#x4EE5;&#x8FDB;&#x5165;</li>
<li>external&#xFF1A;&#x8FD9;&#x4E2A;&#x4E0D;&#x592A;&#x660E;&#x767D;&#xFF0C;&#x529F;&#x80FD;&#x4E0A;&#x548C;&#x4E0A;&#x9762;&#x76F8;&#x540C;&#xFF0C;&#x5141;&#x8BB8;&#x6307;&#x5B9A;&#x7684;&#x5916;&#x90E8;&#x8FDE;&#x63A5;</li>
<li>dmz&#xFF1A;&#x548C;&#x786C;&#x4EF6;&#x9632;&#x706B;&#x5899;&#x4E00;&#x6837;&#xFF0C;&#x53D7;&#x9650;&#x5236;&#x7684;&#x516C;&#x5171;&#x8FDE;&#x63A5;&#x53EF;&#x4EE5;&#x8FDB;&#x5165;</li>
<li>work&#xFF1A;&#x5DE5;&#x4F5C;&#x533A;&#xFF0C;&#x6982;&#x5FF5;&#x548C;workgoup&#x4E00;&#x6837;&#xFF0C;&#x4E5F;&#x662F;&#x6307;&#x5B9A;&#x7684;&#x5916;&#x90E8;&#x8FDE;&#x63A5;&#x5141;&#x8BB8;</li>
<li>home&#xFF1A;&#x7C7B;&#x4F3C;&#x5BB6;&#x5EAD;&#x7EC4;</li>
<li>internal&#xFF1A;&#x4FE1;&#x4EFB;&#x6240;&#x6709;&#x8FDE;&#x63A5;</li>
</ul>
<ol start="3">
<li>&#x5BCC;&#x89C4;&#x5219;&#xFF1A;&#x53EF;&#x7528;&#x4E8E;&#x8868;&#x8FBE;&#x57FA;&#x672C;&#x7684;&#x5141;&#x8BB8;&#x548C;&#x62D2;&#x7EDD;&#x89C4;&#x5219;&#x3002;<br>Configuration  permenent</li>
</ol>
<p><img src="/2016/12/23/booboo_easy_service/07_iptables_firewalld/21.png" alt="21"></p>
<p>&#x5DE6;&#x4E0A;&#x89D2;&#xFF1A;Option  reloade firewall<br>Ssh&#x5C31;&#x65E0;&#x6CD5;&#x767B;&#x9646;&#x4E86;</p>
<h4 id="firewall-cmd"><a href="#firewall-cmd" class="headerlink" title="firewall-cmd"></a>firewall-cmd</h4><p><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --permanent --zone=public --add-rich-rule=\&apos;rule family=ipv4 service name=&quot;ssh&quot; source address=192.168.137.11 log prefix=&quot;ssh&quot; level=&quot;notice&quot; limit value=&quot;3/m&quot; reject\&apos;</span><br></pre></td></tr></table></figure></p>
<p>&#x5C06;&#x6765;&#x81EA;&#x4E8E;192.168.137.11&#x7684;ssh&#x62D2;&#x7EDD;&#x6389;&#xFF0C;&#x5E76;&#x4E14;&#x5C06;notice&#x4EE5;&#x4E0A;&#x7684;&#x65E5;&#x5FD7;&#x5199;&#x5165;&#x5230;ssh&#x65E5;&#x5FD7;&#x5F53;&#x4E2D;&#xFF0C;&#x9650;&#x5236;&#x6BCF;&#x5206;&#x949F;&#x6700;&#x591A;&#x4E09;&#x6761;&#x8BB0;&#x5F55;&#x3002;</p>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2016/12/23/booboo_easy_service/ule-online/" itemprop="url">Linux简易服务上机考试</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2016-12-22T21:06:27.000Z" itemprop="datePublished">12月 23 2016</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/">技术培训</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%9F%B9%E8%AE%AD/Linux%E7%AE%80%E6%98%93%E6%9C%8D%E5%8A%A1%E6%95%99%E7%A8%8B/">Linux简易服务教程</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            5 分钟 lesen (Über 777 Wörter)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p>##&#x3000;&#x6CE8;&#x610F;&#x4E8B;&#x9879;</p>
<ol>
<li>&#x786E;&#x4FDD;&#x5728;&#x91CD;&#x542F;&#x4E3B;&#x673A;&#x540E;&#x6240;&#x6709;&#x914D;&#x7F6E;&#x4ECD;&#x7136;&#x751F;&#x6548;&#x3002;</li>
<li>selinux&#x5FC5;&#x987B;&#x4E3A;Enforing&#x6A21;&#x5F0F;&#xFF0C;&#x9632;&#x706B;&#x5899;&#x5FC5;&#x987B;&#x5F00;&#x59CB;&#x3002;&#x9ED8;&#x8BA4;&#x7B56;&#x7565;&#x5FC5;&#x987B;&#x6E05;&#x7A7A;&#x3002;</li>
<li>&#x8BBE;&#x7F6E;&#x4E3B;&#x673A;&#x540D;&#x4E3A; stuXXX&#xFF08;&#x201C;X&#x201D;&#x4E3A;&#x4F60;&#x7684; foundation &#x673A;&#x5668; ip &#x5730;&#x5740;&#x6700;&#x540E;&#x4E00;&#x4F4D;&#x3002;&#x4F8B;&#x5982;&#xFF1A;&#x4F60;&#x7684; ip &#x5730;&#x5740;&#x4E3A;172.25.254.30&#xFF0C;&#x5219;&#x4F60;&#x7684;&#x4E3B;&#x673A;&#x540D;&#x4E3A;stu30&#xFF09;</li>
<li>&#x4E0D;&#x5141;&#x8BB8;ssh&#x767B;&#x5F55;&#x5230;&#x5176;&#x4ED6;&#x4E3B;&#x673A;&#xFF0C;&#x5DF2;&#x7ECF;&#x53D1;&#x73B0;&#x6309;0&#x5206;&#x8BA1;&#x7B97;&#x8003;&#x8BD5;&#x5F97;&#x5206;&#x3002;</li>
<li>&#x8003;&#x8BD5;&#x6EE1;&#x5206;&#x4E3A;100&#x5206;&#x5236;&#xFF0C;70&#x5206;&#x4E3A;&#x53CA;&#x683C;&#xFF0C;90&#x5206;&#x4E3A;&#x4F18;&#x79C0;&#xFF0C;&#x6240;&#x6709;&#x8003;&#x9898;&#x9700;&#x8981;&#x6309;&#x7167;&#x8981;&#x6C42;&#x5B8C;&#x6210;&#x3002;</li>
</ol>
<h2 id="&#x8003;&#x8BD5;&#x5185;&#x5BB9;"><a href="#&#x8003;&#x8BD5;&#x5185;&#x5BB9;" class="headerlink" title="&#x8003;&#x8BD5;&#x5185;&#x5BB9;"></a>&#x8003;&#x8BD5;&#x5185;&#x5BB9;</h2><h3 id="find&#x67E5;&#x627E;&#x6587;&#x4EF6;"><a href="#find&#x67E5;&#x627E;&#x6587;&#x4EF6;" class="headerlink" title="find&#x67E5;&#x627E;&#x6587;&#x4EF6;"></a>find&#x67E5;&#x627E;&#x6587;&#x4EF6;</h3><p>&#x4F7F;&#x7528;find&#x67E5;&#x627E;/etc&#x76EE;&#x5F55;&#x4E0B;&#x6587;&#x4EF6;&#x540D;&#x4EE5;.conf&#x7ED3;&#x5C3E;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x590D;&#x5236;&#x5230;/tmp/etc&#x76EE;&#x5F55;&#x4E0B;&#x3002;&#xFF08;10&#x5206;&#xFF09;</p>
<p>###&#x3000;autofs&#x81EA;&#x52A8;&#x6302;&#x8F7D;&#x3000;</p>
<p>&#x914D;&#x7F6E;autofs&#xFF0C;&#x5F53;&#x6267;&#x884C;cd /opt/server &#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x81EA;&#x52A8;&#x5C06;172.25.254.250:/content &#x6302;&#x8F7D;&#x5230;&#x6B64;&#x76EE;&#x5F55;&#x3002;&#xFF08;10&#x5206;&#xFF09;</p>
<h3 id="&#x7528;&#x6237;&#x548C;&#x7EC4;&#x7684;&#x7BA1;&#x7406;"><a href="#&#x7528;&#x6237;&#x548C;&#x7EC4;&#x7684;&#x7BA1;&#x7406;" class="headerlink" title="&#x7528;&#x6237;&#x548C;&#x7EC4;&#x7684;&#x7BA1;&#x7406;"></a>&#x7528;&#x6237;&#x548C;&#x7EC4;&#x7684;&#x7BA1;&#x7406;</h3><p>&#x521B;&#x5EFA;test1 test2 test3&#x7528;&#x6237;&#xFF0C;uid=gid&#x5206;&#x522B;&#x4E3A;801 802 803&#xFF0C;&#x5C06;&#x4ED6;&#x4EEC;&#x52A0;&#x5165;&#x5230;test&#x7EC4;&#xFF08;&#x672C;&#x673A;&#x65E0;test&#x7528;&#x6237;&#xFF09;&#xFF0C;&#x7EC4;test&#x4E3A;&#x8FD9;&#x4E9B;&#x7528;&#x6237;&#x7684;&#x9644;&#x52A0;&#x7EC4;&#x3002;&#x521B;&#x5EFA;/tmp/test&#x76EE;&#x5F55;&#xFF0C;&#x8BE5;&#x76EE;&#x5F55;&#x53EA;&#x6709;test1 test2 test3&#x7528;&#x6237;&#x53EF;&#x8BFB;&#x5199;&#xFF0C;&#xFF08;root&#x4E0D;&#x53D7;&#x9650;&#x5236;&#xFF09;&#x3002;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x6240;&#x521B;&#x5EFA;&#x6587;&#x4EF6;group&#x5C06;&#x81EA;&#x52A8;&#x6539;&#x53D8;&#x4E3A;test&#x7EC4;&#xFF0C;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x6587;&#x4EF6;&#x53EA;&#x6709;owner&#x53EF;&#x5220;&#x9664;&#x3002;&#xFF08;10&#x5206;&#xFF09;</p>
<h3 id="Apache&#x642D;&#x5EFA;&#x7F51;&#x7AD9;&#x670D;&#x52A1;"><a href="#Apache&#x642D;&#x5EFA;&#x7F51;&#x7AD9;&#x670D;&#x52A1;" class="headerlink" title="Apache&#x642D;&#x5EFA;&#x7F51;&#x7AD9;&#x670D;&#x52A1;"></a>Apache&#x642D;&#x5EFA;&#x7F51;&#x7AD9;&#x670D;&#x52A1;</h3><h4 id="&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;"><a href="#&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;" class="headerlink" title="&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;"></a>&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;</h4><p>&#x521B;&#x5EFA;&#x4E24;&#x4E2A;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x7F51;&#x7AD9;<a href="http://www.test.com&#x548C;www.stuXXX.com" target="_blank" rel="noopener">www.test.com&#x548C;www.stuXXX.com</a></p>
<h4 id="DNS&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;"><a href="#DNS&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;" class="headerlink" title="DNS&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;"></a>DNS&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;</h4><p>&#x914D;&#x7F6E;&#x76F8;&#x5E94;&#x7684;DNS&#x6B63;&#x3001;&#x53CD;&#x89E3;&#x6790;,&#x7F51;&#x7AD9;&#x7684;&#x9ED8;&#x8BA4;&#x9996;&#x9875;&#x5185;&#x5BB9;&#x5206;&#x522B;&#x4E3A; <a href="http://www.test.com" target="_blank" rel="noopener">www.test.com</a> &#x548C;<a href="http://www.stuXXX.com&#x3002;&#xFF08;10&#x5206;&#xFF09;" target="_blank" rel="noopener">www.stuXXX.com&#x3002;&#xFF08;10&#x5206;&#xFF09;</a></p>
<h4 id="LVM&#x903B;&#x8F91;&#x5377;&#x7BA1;&#x7406;"><a href="#LVM&#x903B;&#x8F91;&#x5377;&#x7BA1;&#x7406;" class="headerlink" title="LVM&#x903B;&#x8F91;&#x5377;&#x7BA1;&#x7406;"></a>LVM&#x903B;&#x8F91;&#x5377;&#x7BA1;&#x7406;</h4><p>&#x5236;&#x4F5C;&#x4E24;&#x4E2A;lv&#xFF0C;/dev/vg_web/lv_test &#x548C;/dev/vg_web/lv_stu&#x3002;&#x6BCF;&#x4E2A;&#x903B;&#x8F91;&#x5377;200M&#x3002;&#x5206;&#x522B;&#x4F5C;&#x4E3A;&#x4EE5;/var/www/test.com &#x548C; /var/www/stuXXX.com&#x4E0A;&#x4E24;&#x4E2A;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x7684;&#x4E3B;&#x76EE;&#x5F55;(Document root)(10&#x5206;)</p>
<h4 id="web&#x9875;&#x9762;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;"><a href="#web&#x9875;&#x9762;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;" class="headerlink" title="web&#x9875;&#x9762;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;"></a>web&#x9875;&#x9762;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;</h4><p>&#x914D;&#x7F6E;&#x9875;&#x9762;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#xFF0C;&#x4F7F;<a href="http://www.stuXXX.com" target="_blank" rel="noopener">www.stuXXX.com</a> &#x5FC5;&#x987B;&#x901A;&#x8FC7;&#x7528;&#x6237;&#x540D;jack&#xFF0C;&#x5BC6;&#x7801;uplooking&#x9A8C;&#x8BC1;&#x624D;&#x80FD;&#x8BBF;&#x95EE;&#x3002;&#xFF08;10&#x5206;&#xFF09;</p>
<h3 id="Samba&#x6587;&#x4EF6;&#x5171;&#x4EAB;&#x670D;&#x52A1;"><a href="#Samba&#x6587;&#x4EF6;&#x5171;&#x4EAB;&#x670D;&#x52A1;" class="headerlink" title="Samba&#x6587;&#x4EF6;&#x5171;&#x4EAB;&#x670D;&#x52A1;"></a>Samba&#x6587;&#x4EF6;&#x5171;&#x4EAB;&#x670D;&#x52A1;</h3><p>&#x914D;&#x7F6E;samba&#xFF0C;&#x4F7F;user1&#xFF08;&#x81EA;&#x5DF1;&#x65B0;&#x5EFA;&#xFF09;&#x7528;&#x6237;&#x5BC6;&#x7801;&#x4E3A;redhat&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;smbclient&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x5230;&#x81EA;&#x5DF1;&#x7684;&#x5BB6;&#x76EE;&#x5F55;&#x548C;/samba&#xFF08;&#x81EA;&#x5DF1;&#x65B0;&#x5EFA;&#xFF09;&#x76EE;&#x5F55;&#xFF0C;/samba&#x5171;&#x4EAB;&#x540D;&#x4E3A;pub&#x3002;&#xFF08;10&#x5206;</p>
<h3 id="FTP&#x6587;&#x4EF6;&#x5171;&#x4EAB;&#x670D;&#x52A1;"><a href="#FTP&#x6587;&#x4EF6;&#x5171;&#x4EAB;&#x670D;&#x52A1;" class="headerlink" title="FTP&#x6587;&#x4EF6;&#x5171;&#x4EAB;&#x670D;&#x52A1;"></a>FTP&#x6587;&#x4EF6;&#x5171;&#x4EAB;&#x670D;&#x52A1;</h3><p>&#x914D;&#x7F6E;vsftpd&#x4F7F;student&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;ftp&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x81EA;&#x5DF1;&#x5BB6;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x540C;&#x65F6;&#x5BF9;student&#x7528;&#x6237;&#x542F;&#x7528;chroot&#x529F;&#x80FD;&#xFF0C;&#x5E76;&#x4E14;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x5230;/var/ftp/test&#x76EE;&#x5F55;&#x4E0B;&#x3002;&#xFF08;10&#x5206;&#xFF09;</p>
<h3 id="&#x5468;&#x671F;&#x6027;&#x8BA1;&#x5212;&#x4EFB;&#x52A1;"><a href="#&#x5468;&#x671F;&#x6027;&#x8BA1;&#x5212;&#x4EFB;&#x52A1;" class="headerlink" title="&#x5468;&#x671F;&#x6027;&#x8BA1;&#x5212;&#x4EFB;&#x52A1;"></a>&#x5468;&#x671F;&#x6027;&#x8BA1;&#x5212;&#x4EFB;&#x52A1;</h3><p>&#x5BF9; natasha &#x7528;&#x6237;&#x914D;&#x7F6E;&#x8BA1;&#x5212;&#x4EFB;&#x52A1;,&#x8981;&#x6C42;&#x5728;&#x672C;&#x5730;&#x65F6;&#x95F4;&#x7684;&#x6BCF;&#x5929; 14:23 &#x5206;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4; &#xFF08;10&#x5206;&#xFF09;</p>
<p>/bin/echo &#x201C;hi uplooking&#x201D;</p>
<h3 id="iptables&#x9632;&#x706B;&#x5899;"><a href="#iptables&#x9632;&#x706B;&#x5899;" class="headerlink" title="iptables&#x9632;&#x706B;&#x5899;"></a>iptables&#x9632;&#x706B;&#x5899;</h3><p>iptables&#xFF08;10&#x5206;&#xFF09;</p>
<ol>
<li>&#x6E05;&#x7A7A;iptables filter&#x8868;&#x7684;&#x9ED8;&#x8BA4;&#x7B56;&#x7565;&#xFF08;2&#x5206;&#xFF09;</li>
<li>&#x53EA;&#x5141;&#x8BB8;172.25.0.250&#x548C;&#x4F60;&#x4F7F;&#x7528;&#x81EA;&#x5DF1;&#x642D;&#x5EFA;&#x7684;&#x7684;ftp&#x670D;&#x52A1;&#xFF08;2&#x5206;&#xFF09;</li>
<li>&#x7981;&#x6B62;ping&#x5305;&#xFF08;2&#x5206;&#xFF09;</li>
<li>&#x4EC5;&#x5141;&#x8BB8;172.25.0.0/24&#x7F51;&#x6BB5;&#x548C;&#x4F60;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x6BB5;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x4F60;&#x7684;web&#x670D;&#x52A1;&#x5668;&#xFF08;2&#x5206;&#xFF09;</li>
<li>&#x4FDD;&#x5B58;iptables&#x914D;&#x7F6E;&#xFF08;2&#x5206;&#xFF09;</li>
</ol>

    
    </div>
    
    
</article>




    
    
    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2020 BoobooWei&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            <div class="column is-narrow">
                <div class="columns is-mobile is-multiline is-centered">
                
                    
                <a class="column is-narrow has-text-black" title="GitHub" href="https://github.com/ppoffice/hexo-theme-minos" target="_blank" rel="noopener">
                    
                    GitHub
                    
                </a>
                
                </div>
            </div>
            
            
        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/" target="_blank" rel="noopener">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("zh-CN");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
</script>

    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>

    
    

    



<script src="/js/script.js"></script>


    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Suche etwas..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Seiten',
                CATEGORIES: 'Kategorien',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>

<script src="/js/insight.js"></script>

    
</body>
</html>