<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Linux 文件和目录 | Amy and Booboo</title>
  <meta name="keywords" content=" 培训 , Linux ">
  <meta name="description" content="Linux 文件和目录 | Amy and Booboo">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="除了自己的无知，我什么都不懂。－苏格拉底">
<meta property="og:type" content="website">
<meta property="og:title" content="Amy and Booboo">
<meta property="og:url" content="http://www.toberoot.com/about/index.html">
<meta property="og:site_name" content="Amy and Booboo">
<meta property="og:description" content="除了自己的无知，我什么都不懂。－苏格拉底">
<meta property="article:published_time" content="2020-03-22T14:48:00.876Z">
<meta property="article:modified_time" content="2020-03-22T14:48:00.875Z">
<meta property="article:author" content="BoobooWei">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/influx.svg">

<link href="/css/style.css?v=1.0.1" rel="stylesheet">

<link href="/css/hl_theme/github.css?v=1.0.1" rel="stylesheet">

<link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
<link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="/js/jquery.autocomplete.min.js?v=1.0.1" ></script>

<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>



<script src="//cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.0.1" ></script>

<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Amy and Booboo" type="application/atom+xml">
</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="false">
  <input class="theme_blog_path" value="">
</div>

<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/my.png" />
</a>
<div class="author">
    <span>BoobooWei</span>
</div>

<div class="icon">
    
        
        <a title="email" href="mailto:rgweiyaping@hotmail.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
</div>




<ul>
    <li><div class="all active">全部文章<small>(54)</small></div></li>
    
        
            
            <li><div data-rel="往昔追忆"><i class="fold iconfont icon-right"></i>往昔追忆<small>(6)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="小二班">小二班<small>(6)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
            <li><div data-rel="技术培训"><i class="fold iconfont icon-right"></i>技术培训<small>(41)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="Linux简易服务教程">Linux简易服务教程<small>(9)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="LinuxShell脚本教程">LinuxShell脚本教程<small>(7)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Linux系统基础培训">Linux系统基础培训<small>(14)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="MySQL基础管理教程">MySQL基础管理教程<small>(11)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="技术广角"><i class="fold iconfont icon-right"></i>技术广角<small>(7)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="Python">Python<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="MySQL">MySQL<small>(3)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Hexo">Hexo<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Oracle">Oracle<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="MongoDB">MongoDB<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    </div>
    <div><a class="about  hasFriend  site_url"  href="/about">关于</a><a style="width: 50%"  class="friends">友链</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="54">
<input type="hidden" id="yelog_site_word_count" value="305.8k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="back-title-list"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
            <li><a target="_blank" href="https://www.changhai.org/">科普作家卢昌海</a></li>
            
            <li><a target="_blank" href="https://github.com/booboowei">GitHub</a></li>
            
            <li><a target="_blank" href="https://applegit11.github.io/">AppleHuang</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <form onkeydown="if(event.keyCode === 13){return false;}">
        <input id="local-search-input" class="search" type="text" placeholder="Search..." />
        <i class="cross"></i>
        <span>
            <label for="tagswitch">Tags:</label>
            <input id="tagswitch" type="checkbox" style="display: none" />
            <i id="tagsWitchIcon"></i>
        </span>
    </form>
    <div class="tags-list">
    
    <li class="article-tag-list-item">
        <a class="color5">宝宝成长</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">培训</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">LinuxShell脚本</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Linux基础服务</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Linux</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">MySQL基础管理</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">python</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">数据救援</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">锁故障</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">hexo</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">SQL优化</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">RDS</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">主从同步</a>
    </li>
    
    <div class="clearfix"></div>
</div>

    
    <nav id="title-list-nav">
        
        <a  class="往昔追忆 小二班 "
           href="/2018/09/10/amy_life/%E5%90%91%E6%9C%88%E4%BA%AE%E8%AF%B4%E6%99%9A%E5%AE%89/"
           data-tag="宝宝成长"
           data-author="" >
            <span class="post-title" title="向月亮说晚安">向月亮说晚安</span>
            <span class="post-date" title="2018-09-10 11:26:39">2018/09/10</span>
        </a>
        
        <a  class="往昔追忆 小二班 "
           href="/2018/09/30/amy_life/%E5%9B%BD%E5%BA%86%E5%89%8D%E5%AD%A6%E6%B4%97%E6%89%8B/"
           data-tag="宝宝成长"
           data-author="" >
            <span class="post-title" title="国庆前学洗手">国庆前学洗手</span>
            <span class="post-date" title="2018-09-30 10:43:53">2018/09/30</span>
        </a>
        
        <a  class="往昔追忆 小二班 "
           href="/2018/09/29/amy_life/%E5%AE%9D%E5%AE%9D%E4%BB%AC%E4%B8%8A%E7%8F%AD%E5%95%A6/"
           data-tag="宝宝成长"
           data-author="" >
            <span class="post-title" title="宝宝们上班啦">宝宝们上班啦</span>
            <span class="post-date" title="2018-09-29 10:43:41">2018/09/29</span>
        </a>
        
        <a  class="往昔追忆 小二班 "
           href="/2018/09/20/amy_life/%E5%AE%9D%E5%AE%9D%E4%BB%AC%E5%BC%80%E5%A7%8B%E6%BC%B1%E5%8F%A3%E4%BA%86/"
           data-tag="宝宝成长"
           data-author="" >
            <span class="post-title" title="宝宝们开始漱口了">宝宝们开始漱口了</span>
            <span class="post-date" title="2018-09-20 12:08:51">2018/09/20</span>
        </a>
        
        <a  class="往昔追忆 小二班 "
           href="/2018/09/19/amy_life/%E5%AE%B6%E9%95%BF%E4%BC%9A/"
           data-tag="宝宝成长"
           data-author="" >
            <span class="post-title" title="家长会">家长会</span>
            <span class="post-date" title="2018-09-19 11:40:55">2018/09/19</span>
        </a>
        
        <a  class="往昔追忆 小二班 "
           href="/2018/09/21/amy_life/%E6%9C%88%E9%A5%BC%E7%83%98%E5%9F%B9%E5%92%8C%E5%B0%8F%E5%B0%8F%E6%90%AC%E8%BF%90%E5%B7%A5/"
           data-tag="宝宝成长"
           data-author="" >
            <span class="post-title" title="月饼烘培和小小搬运工">月饼烘培和小小搬运工</span>
            <span class="post-date" title="2018-09-21 12:25:51">2018/09/21</span>
        </a>
        
        <a  class="技术培训 LinuxShell脚本教程 "
           href="/2016/12/23/booboo_bash_shell_scripts/00_shell_variables/"
           data-tag="培训,LinuxShell脚本"
           data-author="" >
            <span class="post-title" title="LINUX Shell Scripts 第一课 简介和变量">LINUX Shell Scripts 第一课 简介和变量</span>
            <span class="post-date" title="2016-12-22 21:06:27">2016/12/22</span>
        </a>
        
        <a  class="技术培训 LinuxShell脚本教程 "
           href="/2016/12/23/booboo_bash_shell_scripts/04_shell_brackets/"
           data-tag="培训,LinuxShell脚本"
           data-author="" >
            <span class="post-title" title="LINUX Shell Scripts 第五课 各种括号的作用">LINUX Shell Scripts 第五课 各种括号的作用</span>
            <span class="post-date" title="2016-12-22 21:06:27">2016/12/22</span>
        </a>
        
        <a  class="技术培训 LinuxShell脚本教程 "
           href="/2016/12/23/booboo_bash_shell_scripts/02_shell_regular_expression/"
           data-tag="培训,LinuxShell脚本"
           data-author="" >
            <span class="post-title" title="LINUX Shell Scripts 第三课 正则表达式">LINUX Shell Scripts 第三课 正则表达式</span>
            <span class="post-date" title="2016-12-22 21:06:27">2016/12/22</span>
        </a>
        
        <a  class="技术培训 LinuxShell脚本教程 "
           href="/2016/12/23/booboo_bash_shell_scripts/01_shell_flow_control_statement/"
           data-tag="培训,LinuxShell脚本"
           data-author="" >
            <span class="post-title" title="LINUX Shell Scripts 第二课 流程控制语句">LINUX Shell Scripts 第二课 流程控制语句</span>
            <span class="post-date" title="2016-12-22 21:06:27">2016/12/22</span>
        </a>
        
        <a  class="技术培训 LinuxShell脚本教程 "
           href="/2016/12/23/booboo_bash_shell_scripts/03_shell_sed_awk/"
           data-tag="培训,LinuxShell脚本"
           data-author="" >
            <span class="post-title" title="LINUX Shell Scripts 第四课 Sed">LINUX Shell Scripts 第四课 Sed</span>
            <span class="post-date" title="2016-12-22 21:06:27">2016/12/22</span>
        </a>
        
        <a  class="技术培训 LinuxShell脚本教程 "
           href="/2016/12/23/booboo_bash_shell_scripts/shell%E4%B8%8A%E6%9C%BA/"
           data-tag="培训,LinuxShell脚本"
           data-author="" >
            <span class="post-title" title="LINUX Shell Scripts 第六课 上机考试">LINUX Shell Scripts 第六课 上机考试</span>
            <span class="post-date" title="2016-12-22 21:06:27">2016/12/22</span>
        </a>
        
        <a  class="技术培训 LinuxShell脚本教程 "
           href="/2016/12/23/booboo_bash_shell_scripts/shell%E7%AC%94%E8%AF%95/"
           data-tag="培训,LinuxShell脚本"
           data-author="" >
            <span class="post-title" title="LINUX Shell Scripts 第七课 笔试">LINUX Shell Scripts 第七课 笔试</span>
            <span class="post-date" title="2016-12-22 21:06:27">2016/12/22</span>
        </a>
        
        <a  class="技术培训 Linux简易服务教程 "
           href="/2016/12/23/booboo_easy_service/00_linux_classroom_env/"
           data-tag="培训,Linux基础服务"
           data-author="" >
            <span class="post-title" title="LINUX 基础服务课程环境使用说明">LINUX 基础服务课程环境使用说明</span>
            <span class="post-date" title="2016-12-22 21:06:27">2016/12/22</span>
        </a>
        
        <a  class="技术培训 Linux简易服务教程 "
           href="/2016/12/23/booboo_easy_service/01_dns/"
           data-tag="培训,Linux基础服务"
           data-author="" >
            <span class="post-title" title="DNS域名解析服务">DNS域名解析服务</span>
            <span class="post-date" title="2016-12-22 21:06:27">2016/12/22</span>
        </a>
        
        <a  class="技术培训 Linux简易服务教程 "
           href="/2016/12/23/booboo_easy_service/02_ftp/"
           data-tag="培训,Linux基础服务"
           data-author="" >
            <span class="post-title" title="FTP文件共享服务">FTP文件共享服务</span>
            <span class="post-date" title="2016-12-22 21:06:27">2016/12/22</span>
        </a>
        
        <a  class="技术培训 Linux简易服务教程 "
           href="/2016/12/23/booboo_easy_service/03_nfs/"
           data-tag="培训,Linux基础服务"
           data-author="" >
            <span class="post-title" title="NFS文件共享服务">NFS文件共享服务</span>
            <span class="post-date" title="2016-12-22 21:06:27">2016/12/22</span>
        </a>
        
        <a  class="技术培训 Linux简易服务教程 "
           href="/2016/12/23/booboo_easy_service/04_samba/"
           data-tag="培训,Linux基础服务"
           data-author="" >
            <span class="post-title" title="SAMBA文件共享服务">SAMBA文件共享服务</span>
            <span class="post-date" title="2016-12-22 21:06:27">2016/12/22</span>
        </a>
        
        <a  class="技术培训 Linux简易服务教程 "
           href="/2016/12/23/booboo_easy_service/05_apache/"
           data-tag="培训,Linux基础服务"
           data-author="" >
            <span class="post-title" title="APACHE WEB服务">APACHE WEB服务</span>
            <span class="post-date" title="2016-12-22 21:06:27">2016/12/22</span>
        </a>
        
        <a  class="技术培训 Linux简易服务教程 "
           href="/2016/12/23/booboo_easy_service/06_ntp_chrony/"
           data-tag="培训,Linux基础服务"
           data-author="" >
            <span class="post-title" title="时间同步服务NTP和Chony">时间同步服务NTP和Chony</span>
            <span class="post-date" title="2016-12-22 21:06:27">2016/12/22</span>
        </a>
        
        <a  class="技术培训 Linux简易服务教程 "
           href="/2016/12/23/booboo_easy_service/07_iptables_firewalld/"
           data-tag="培训,Linux基础服务"
           data-author="" >
            <span class="post-title" title="防火墙 iptables">防火墙 iptables</span>
            <span class="post-date" title="2016-12-22 21:06:27">2016/12/22</span>
        </a>
        
        <a  class="技术培训 Linux简易服务教程 "
           href="/2016/12/23/booboo_easy_service/ule-online/"
           data-tag="培训,Linux基础服务"
           data-author="" >
            <span class="post-title" title="Linux简易服务上机考试">Linux简易服务上机考试</span>
            <span class="post-date" title="2016-12-22 21:06:27">2016/12/22</span>
        </a>
        
        <a  class="技术培训 Linux系统基础培训 "
           href="/2016/12/22/booboo_linux_base/00-linux_history/"
           data-tag="培训,Linux"
           data-author="" >
            <span class="post-title" title="LINUX HISTORY">LINUX HISTORY</span>
            <span class="post-date" title="2016-12-21 20:06:27">2016/12/21</span>
        </a>
        
        <a  class="技术培训 Linux系统基础培训 "
           href="/2016/12/22/booboo_linux_base/01-Linux%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/"
           data-tag="培训,Linux"
           data-author="" >
            <span class="post-title" title="Linux 基础命令">Linux 基础命令</span>
            <span class="post-date" title="2016-12-21 20:06:27">2016/12/21</span>
        </a>
        
        <a  class="技术培训 Linux系统基础培训 "
           href="/2016/12/22/booboo_linux_base/02-Linux%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84/"
           data-tag="培训,Linux"
           data-author="" >
            <span class="post-title" title="Linux 用户和组">Linux 用户和组</span>
            <span class="post-date" title="2016-12-21 20:06:27">2016/12/21</span>
        </a>
        
        <a  class="技术培训 Linux系统基础培训 "
           href="/2016/12/22/booboo_linux_base/03-Linux%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95/"
           data-tag="培训,Linux"
           data-author="" >
            <span class="post-title" title="Linux 文件和目录">Linux 文件和目录</span>
            <span class="post-date" title="2016-12-21 20:06:27">2016/12/21</span>
        </a>
        
        <a  class="技术培训 Linux系统基础培训 "
           href="/2016/12/22/booboo_linux_base/04-Linux%E5%8E%8B%E7%BC%A9%E6%89%93%E5%8C%85/"
           data-tag="培训,Linux"
           data-author="" >
            <span class="post-title" title="Linux 压缩打包">Linux 压缩打包</span>
            <span class="post-date" title="2016-12-21 20:06:27">2016/12/21</span>
        </a>
        
        <a  class="技术培训 Linux系统基础培训 "
           href="/2016/12/22/booboo_linux_base/05-Linux%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/"
           data-tag="培训,Linux"
           data-author="" >
            <span class="post-title" title="Linux 软件安装">Linux 软件安装</span>
            <span class="post-date" title="2016-12-21 20:06:27">2016/12/21</span>
        </a>
        
        <a  class="技术培训 Linux系统基础培训 "
           href="/2016/12/22/booboo_linux_base/06-Vim%E7%BC%96%E8%BE%91%E5%99%A8/"
           data-tag="培训,Linux"
           data-author="" >
            <span class="post-title" title="Linux Vim 编辑器">Linux Vim 编辑器</span>
            <span class="post-date" title="2016-12-21 20:06:27">2016/12/21</span>
        </a>
        
        <a  class="技术培训 Linux系统基础培训 "
           href="/2016/12/22/booboo_linux_base/07-Bash%E7%AE%80%E4%BB%8B/"
           data-tag="培训,Linux"
           data-author="" >
            <span class="post-title" title="Linux Bash简介">Linux Bash简介</span>
            <span class="post-date" title="2016-12-21 20:06:27">2016/12/21</span>
        </a>
        
        <a  class="技术培训 Linux系统基础培训 "
           href="/2016/12/22/booboo_linux_base/08-%E6%97%A5%E5%BF%97%E5%92%8C%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1/"
           data-tag="培训,Linux"
           data-author="" >
            <span class="post-title" title="Linux 日志和计划任务">Linux 日志和计划任务</span>
            <span class="post-date" title="2016-12-21 20:06:27">2016/12/21</span>
        </a>
        
        <a  class="技术培训 Linux系统基础培训 "
           href="/2016/12/22/booboo_linux_base/09-Linux%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%92%8C%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86/"
           data-tag="培训,Linux"
           data-author="" >
            <span class="post-title" title="Linux 文件系统和磁盘管理">Linux 文件系统和磁盘管理</span>
            <span class="post-date" title="2016-12-21 20:06:27">2016/12/21</span>
        </a>
        
        <a  class="技术培训 Linux系统基础培训 "
           href="/2016/12/22/booboo_linux_base/10-Linux%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/"
           data-tag="培训,Linux"
           data-author="" >
            <span class="post-title" title="Linux 开机启动流程">Linux 开机启动流程</span>
            <span class="post-date" title="2016-12-21 20:06:27">2016/12/21</span>
        </a>
        
        <a  class="技术培训 Linux系统基础培训 "
           href="/2016/12/22/booboo_linux_base/11-Linux%E5%86%85%E6%A0%B8/"
           data-tag="培训,Linux"
           data-author="" >
            <span class="post-title" title="Linux 内核">Linux 内核</span>
            <span class="post-date" title="2016-12-21 20:06:27">2016/12/21</span>
        </a>
        
        <a  class="技术培训 Linux系统基础培训 "
           href="/2016/12/22/booboo_linux_base/12-SELINUX/"
           data-tag="培训,Linux"
           data-author="" >
            <span class="post-title" title="Linux SELINUX">Linux SELINUX</span>
            <span class="post-date" title="2016-12-21 20:06:27">2016/12/21</span>
        </a>
        
        <a  class="技术培训 Linux系统基础培训 "
           href="/2016/12/22/booboo_linux_base/13-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/"
           data-tag="培训,Linux"
           data-author="" >
            <span class="post-title" title="Linux 进程管理">Linux 进程管理</span>
            <span class="post-date" title="2016-12-21 20:06:27">2016/12/21</span>
        </a>
        
        <a  class="技术培训 MySQL基础管理教程 "
           href="/2016/12/30/booboo_mysql/03-MySQL%E9%80%BB%E8%BE%91%E6%9E%B6%E6%9E%84%E5%92%8CInnodb%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/"
           data-tag="培训,MySQL基础管理"
           data-author="" >
            <span class="post-title" title="MySQL 管理课程 第六课 MySQL逻辑架构和Innodb存储引擎">MySQL 管理课程 第六课 MySQL逻辑架构和Innodb存储引擎</span>
            <span class="post-date" title="2016-12-29 21:06:27">2016/12/29</span>
        </a>
        
        <a  class="技术培训 MySQL基础管理教程 "
           href="/2016/12/25/booboo_mysql/00-MySQL%E7%AE%A1%E7%90%86%E8%AF%BE%E7%A8%8B%E7%AE%80%E4%BB%8B/"
           data-tag="培训,MySQL基础管理"
           data-author="" >
            <span class="post-title" title="MySQL 管理课程 第一课 课程简介">MySQL 管理课程 第一课 课程简介</span>
            <span class="post-date" title="2016-12-24 21:06:27">2016/12/24</span>
        </a>
        
        <a  class="技术培训 MySQL基础管理教程 "
           href="/2016/12/31/booboo_mysql/04-MySQL%E5%A4%8D%E5%88%B6replication/"
           data-tag="培训,MySQL基础管理"
           data-author="" >
            <span class="post-title" title="MySQL 管理课程 第七课 复制 AB replication">MySQL 管理课程 第七课 复制 AB replication</span>
            <span class="post-date" title="2016-12-30 21:06:27">2016/12/30</span>
        </a>
        
        <a  class="技术培训 MySQL基础管理教程 "
           href="/2017/01/02/booboo_mysql/05-MySQL%E9%AB%98%E5%8F%AF%E7%94%A8HA/"
           data-tag="培训,MySQL基础管理"
           data-author="" >
            <span class="post-title" title="MySQL 管理课程 第八课 高可用性HA">MySQL 管理课程 第八课 高可用性HA</span>
            <span class="post-date" title="2017-01-01 21:06:27">2017/01/01</span>
        </a>
        
        <a  class="技术培训 MySQL基础管理教程 "
           href="/2017/01/04/booboo_mysql/07-MySQL5.6%E4%B8%80%E4%B8%BB%E5%A4%9A%E4%BB%8E%E5%8D%8A%E5%90%8C%E6%AD%A5%E5%A4%8D%E5%88%B6/"
           data-tag="培训,MySQL基础管理"
           data-author="" >
            <span class="post-title" title="MySQL 管理课程 第十课 MySQL5.6一主多从半同步复制">MySQL 管理课程 第十课 MySQL5.6一主多从半同步复制</span>
            <span class="post-date" title="2017-01-03 21:06:27">2017/01/03</span>
        </a>
        
        <a  class="技术培训 MySQL基础管理教程 "
           href="/2017/01/03/booboo_mysql/06-MySQL%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7sysbench/"
           data-tag="培训,MySQL基础管理"
           data-author="" >
            <span class="post-title" title="MySQL 管理课程 第九课 MySQL压力测试工具sysbench">MySQL 管理课程 第九课 MySQL压力测试工具sysbench</span>
            <span class="post-date" title="2017-01-02 21:06:27">2017/01/02</span>
        </a>
        
        <a  class="技术培训 MySQL基础管理教程 "
           href="/2017/01/05/booboo_mysql/08-MySQL%E9%80%BB%E8%BE%91%E5%A4%87%E4%BB%BD%E5%B7%A5%E5%85%B7mysqldump&mysqlpump&mydumper/"
           data-tag="培训,MySQL基础管理"
           data-author="" >
            <span class="post-title" title="MySQL 管理课程 第十一课  MySQL逻辑备份工具mysqldump,mysqlpump,mydumper">MySQL 管理课程 第十一课  MySQL逻辑备份工具mysqldump,mysqlpump,mydumper</span>
            <span class="post-date" title="2017-01-04 21:06:27">2017/01/04</span>
        </a>
        
        <a  class="技术广角 Python "
           href="/2020/03/22/booboo_others/CentOS6.5%E9%85%8D%E7%BD%AEpython3.7%E5%AE%89%E8%A3%85%E5%90%8Essl%E9%97%AE%E9%A2%98/"
           data-tag="python"
           data-author="" >
            <span class="post-title" title="CentOS6.5配置python3.7安装后ssl问题">CentOS6.5配置python3.7安装后ssl问题</span>
            <span class="post-date" title="2020-03-22 14:23:51">2020/03/22</span>
        </a>
        
        <a  class="技术广角 MySQL "
           href="/2018/05/17/booboo_others/MySQL%E4%B8%80%E6%AC%A1%E6%83%8A%E5%BF%83%E5%8A%A8%E9%AD%84%E5%9C%B0%E6%95%B0%E6%8D%AE%E5%BC%BA%E5%88%B6%E6%81%A2%E5%A4%8D/"
           data-tag="数据救援"
           data-author="" >
            <span class="post-title" title="MySQL一次惊心动魄地数据强制恢复">MySQL一次惊心动魄地数据强制恢复</span>
            <span class="post-date" title="2018-05-16 19:58:02">2018/05/16</span>
        </a>
        
        <a  class="技术广角 MySQL "
           href="/2017/08/19/booboo_others/MySQL%E7%9A%84%E5%85%83%E9%94%81MDL%E5%8F%91%E7%94%9F%E5%9C%BA%E6%99%AF%E5%92%8C%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/"
           data-tag="锁故障"
           data-author="" >
            <span class="post-title" title="MySQL的元锁MDL发生场景和解决方法总结">MySQL的元锁MDL发生场景和解决方法总结</span>
            <span class="post-date" title="2017-08-18 20:06:27">2017/08/18</span>
        </a>
        
        <a  class="技术广角 Hexo "
           href="/2020/03/22/booboo_others/hello-world/"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="Hello World">Hello World</span>
            <span class="post-date" title="2020-03-22 14:23:51">2020/03/22</span>
        </a>
        
        <a  class="技术广角 Oracle "
           href="/2018/05/29/booboo_others/oracle%E6%95%B0%E6%8D%AE%E5%BA%93SQL%E4%BC%98%E5%8C%96-%E7%B4%A2%E5%BC%95%E7%BC%BA%E5%A4%B1/"
           data-tag="SQL优化"
           data-author="" >
            <span class="post-title" title="Oracle数据库SQL优化_索引缺失">Oracle数据库SQL优化_索引缺失</span>
            <span class="post-date" title="2018-05-28 18:09:32">2018/05/28</span>
        </a>
        
        <a  class="技术广角 MongoDB "
           href="/2018/08/03/booboo_others/%E5%88%A9%E7%94%A8split%E5%B7%A5%E5%85%B7%E8%A7%A3%E5%86%B3%E4%B8%80%E6%AC%A1MongoDB%E6%97%A5%E5%BF%97%E5%BC%82%E5%B8%B8%E9%97%AE%E9%A2%98/"
           data-tag="数据救援"
           data-author="" >
            <span class="post-title" title="利用split工具解决一次MongoDB日志异常问题">利用split工具解决一次MongoDB日志异常问题</span>
            <span class="post-date" title="2018-08-03 12:25:24">2018/08/03</span>
        </a>
        
        <a  class="技术广角 MySQL "
           href="/2018/08/22/booboo_others/rds-for-mysql-5-7%E5%88%B0%E8%87%AA%E5%BB%BAMySQL%E4%B8%BB%E4%BB%8E%E4%B9%8B%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3user%E8%A1%A8%E5%AE%9E%E7%8E%B0%E4%BB%8E%E5%BA%93%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E6%9B%B4%E6%94%B9%E5%8A%9F%E8%83%BD/"
           data-tag="RDS,主从同步"
           data-author="" >
            <span class="post-title" title="突破阿里限制实现&#34;RDS For MySQL 5.7到自建MySQL主从&#34;">突破阿里限制实现&#34;RDS For MySQL 5.7到自建MySQL主从&#34;</span>
            <span class="post-date" title="2018-08-22 10:41:15">2018/08/22</span>
        </a>
        
        <a  class="技术培训 MySQL基础管理教程 "
           href="/2016/12/26/booboo_mysql/01-MySQL%E5%92%8CMariaDB%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%8B%E7%BB%8D/"
           data-tag="培训,MySQL基础管理"
           data-author="" >
            <span class="post-title" title="MySQL 管理课程 第二课 MySQL和MariaDB数据库介绍">MySQL 管理课程 第二课 MySQL和MariaDB数据库介绍</span>
            <span class="post-date" title="2016-12-25 21:06:27">2016/12/25</span>
        </a>
        
        <a  class="技术培训 MySQL基础管理教程 "
           href="/2016/12/29/booboo_mysql/03-MySQL%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D/"
           data-tag="培训,MySQL基础管理"
           data-author="" >
            <span class="post-title" title="MySQL 管理课程 第五课 备份与恢复">MySQL 管理课程 第五课 备份与恢复</span>
            <span class="post-date" title="2016-12-28 21:06:27">2016/12/28</span>
        </a>
        
        <a  class="技术培训 MySQL基础管理教程 "
           href="/2016/12/27/booboo_mysql/02-%E7%BB%93%E6%9E%84%E5%8C%96%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80SQL%E4%BB%8B%E7%BB%8D%E5%92%8C%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"
           data-tag="培训,MySQL基础管理"
           data-author="" >
            <span class="post-title" title="MySQL 管理课程 第三课 结构化查询语言SQL介绍和基本操作1">MySQL 管理课程 第三课 结构化查询语言SQL介绍和基本操作1</span>
            <span class="post-date" title="2016-12-26 21:06:27">2016/12/26</span>
        </a>
        
        <a  class="技术培训 MySQL基础管理教程 "
           href="/2016/12/28/booboo_mysql/02-%E7%BB%93%E6%9E%84%E5%8C%96%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80SQL%E4%BB%8B%E7%BB%8D%E5%92%8C%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C2/"
           data-tag="培训,MySQL基础管理"
           data-author="" >
            <span class="post-title" title="MySQL 管理课程 第四课 结构化查询语言SQL介绍和基本操作2">MySQL 管理课程 第四课 结构化查询语言SQL介绍和基本操作2</span>
            <span class="post-date" title="2016-12-27 21:06:27">2016/12/27</span>
        </a>
        
    </nav>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div class="post">
    <div class="pjax">
        <article id="post-booboo_linux_base/03-Linux文件和目录" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Linux 文件和目录</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            
                <a  data-rel="技术培训">技术培训</a>/
            
                <a  data-rel="Linux系统基础培训">Linux系统基础培训</a>
            
        </span>
        
        
        <span class="tag">
            
            <a class="color3">培训</a>
            
            <a class="color1">Linux</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
        创建时间:<time class="date" title='更新时间: 2020-03-23 06:24:25'>2016-12-21 20:06</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:6.7k</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读:<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="跳转至评论区">
            <a href="#comments">
                评论:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-目录"><span class="toc-text">Linux 目录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-目录配置的依据-–FHS"><span class="toc-text">Linux 目录配置的依据 –FHS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#目录树"><span class="toc-text">目录树</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#文件属性"><span class="toc-text">文件属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#文件的分类"><span class="toc-text">文件的分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一般权限-UGO"><span class="toc-text">一般权限 UGO</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#特殊权限-suid-sgid-sticky"><span class="toc-text">特殊权限 suid\sgid\sticky</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#隐藏属性-ATTR"><span class="toc-text">隐藏属性 ATTR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件访问控制列表-ACL"><span class="toc-text">文件访问控制列表 ACL</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#文件相关的命令"><span class="toc-text">文件相关的命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#权限的修改-chmod-chown-chgrp-umask"><span class="toc-text">权限的修改 chmod chown chgrp umask</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#chmod"><span class="toc-text">chmod</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#chgrp"><span class="toc-text">chgrp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#umask"><span class="toc-text">umask</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#相关文档-etc-profile-bash-profile"><span class="toc-text">相关文档 &#x2F;etc&#x2F;profile ~&#x2F;.bash_profile</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ATTR-权限命令-chattr-lsattr"><span class="toc-text">ATTR 权限命令 chattr lsattr</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#chattr"><span class="toc-text">chattr</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lsattr"><span class="toc-text">lsattr</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ACL-权限命令"><span class="toc-text">ACL 权限命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ACL-权限概念"><span class="toc-text">ACL 权限概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#getfacl"><span class="toc-text">getfacl</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#setfacl"><span class="toc-text">setfacl</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#文件存储结构"><span class="toc-text">文件存储结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#软硬方式链接"><span class="toc-text">软硬方式链接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#指令和文件的搜索"><span class="toc-text">指令和文件的搜索</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#肉眼查找-ls-R"><span class="toc-text">肉眼查找 : ls -R</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件名的搜寻-whereis-locate-find"><span class="toc-text">文件名的搜寻 :whereis, locate, find</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#whereis"><span class="toc-text">whereis</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#locate"><span class="toc-text">locate</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#find"><span class="toc-text">find</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-文件和目录作业"><span class="toc-text">Linux 文件和目录作业</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#UGO-权限作业"><span class="toc-text">UGO 权限作业</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#特殊权限作业"><span class="toc-text">特殊权限作业</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ATTR-权限作业"><span class="toc-text">ATTR 权限作业</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ACL-权限作业"><span class="toc-text">ACL 权限作业</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Linux-目录"><a href="#Linux-目录" class="headerlink" title="Linux 目录"></a>Linux 目录</h2><h3 id="Linux-目录配置的依据-–FHS"><a href="#Linux-目录配置的依据-–FHS" class="headerlink" title="Linux 目录配置的依据 –FHS"></a>Linux 目录配置的依据 –FHS</h3><p>因为利用 Linux 来开发产品或 distributions 的社区 / 公司或个人实在太多了 , 如果每个人都用自己的想法来配置文件放置的目录 , 那将可能造成很多管理上的困扰。 你能想象 , 你进入一个企业之后 , 所 接触到的 Linux 目录配置方法竟然跟你以前学的完全不同吗 ? 很难想象吧 ~ 所以 , 后来就有所谓的Filesystem Hierarchy Standard (FHS) 标准的出炉了 !</p>
<p>根据 FHS(<a href="http://www.pathname.com/fhs/" target="_blank" rel="noopener">http://www.pathname.com/fhs/</a>) 的官方文件指出 , 他们的主要目的是希望让使用者可以了解到已安装软件通常放置在哪个目录下 , 所以他们希望独立的软件开发商、操作系统制作者、以及想要维护系统的用户 , 都能够遵循 FHS 的标准。 也就是说 ,FHS 的重点在于规范每个特定的目录下应该存放什么样子的数据而已。</p>
<p>亊实上 ,FHS 是根据过去的经验一直再持续的改版的 ,FHS 依据文件系统使用的频繁与否允许使用者随意更动 , 而将目录定义成为四种交互作用的形态 , 用表格来说有点像底下这样 ：</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">可分享的 (shareable)</th>
<th align="left">不可分享的 (unshareable)</th>
</tr>
</thead>
<tbody><tr>
<td align="left">不变的 (static)</td>
<td align="left">/usr ( 软件放置处 )</td>
<td align="left">/etc ( 配置文件 )</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">/opt ( 第三方协力软件 )</td>
<td align="left">/boot ( 开机不核心档 )</td>
</tr>
<tr>
<td align="left">可变动的 (variable)</td>
<td align="left">/var/mail ( 使用者邮件信箱 )</td>
<td align="left">/var/run ( 程序相关 )</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">/var/spool/news ( 新闻组 )</td>
<td align="left">/var/lock ( 程序相关 )</td>
</tr>
</tbody></table>
<p><img src="pic/02.png" alt="02"></p>
<h3 id="目录树"><a href="#目录树" class="headerlink" title="目录树"></a>目录树</h3><p>在类 Unix 系统中并不存在 C/D/E/F 盘符,一切的文件都是从 “ 根 (/)” 目录开始的并按照文件系统目录标准 FHS 采用树形结构来存放文件并定义了每个区域的用途。</p>
<p>目录名称严格的区分大小写,例如 root 、 rOOt 、 Root 、 rooT 等等均代表是不同的独立目录,并且名称中不得包含反斜杠 (/) 。</p>
<p><img src="pic/04.png" alt="04"></p>
<p>主要常见的目录定义:</p>
<table>
<thead>
<tr>
<th align="left">目录名称</th>
<th align="left">应放置文件的内容</th>
</tr>
</thead>
<tbody><tr>
<td align="left">/boot</td>
<td align="left">开机所需文件 —— 内核,开机菜单及所需配置文件等</td>
</tr>
<tr>
<td align="left">/dev</td>
<td align="left">任何设备与接口都以文件形式存放在此目录</td>
</tr>
<tr>
<td align="left">/etc</td>
<td align="left">配置文件</td>
</tr>
<tr>
<td align="left">/home</td>
<td align="left">用户主目录</td>
</tr>
<tr>
<td align="left">/bin</td>
<td align="left">单用户维护模式下还能够被操作的命令</td>
</tr>
<tr>
<td align="left">/lib</td>
<td align="left">开机时用到的函数库及/bin 与/sbin 下面命令要调用的函数</td>
</tr>
<tr>
<td align="left">/sbin</td>
<td align="left">开机过程中需要的</td>
</tr>
<tr>
<td align="left">/media</td>
<td align="left">一般挂载或删除的设备</td>
</tr>
<tr>
<td align="left">/opt</td>
<td align="left">放置第三方的软件</td>
</tr>
<tr>
<td align="left">/root</td>
<td align="left">系统管理员的主文件夹</td>
</tr>
<tr>
<td align="left">/srv</td>
<td align="left">一些网络服务的数据目录</td>
</tr>
<tr>
<td align="left">/tmp</td>
<td align="left">任何人均可使用的 “ 共享 ” 临时目录</td>
</tr>
<tr>
<td align="left">/proc</td>
<td align="left">虚拟文件系统,例如系统内核,进程,外部设备及网络状态等</td>
</tr>
<tr>
<td align="left">/usr/local</td>
<td align="left">用户自行安装的软件</td>
</tr>
<tr>
<td align="left">/usr/sbin</td>
<td align="left">非系统开机时需要的软件/命令/脚本</td>
</tr>
<tr>
<td align="left">/usr/share</td>
<td align="left">帮助与说明文件,也可放置共享文件。</td>
</tr>
<tr>
<td align="left">/var</td>
<td align="left">主要存放经常变化的文件,如日志。</td>
</tr>
<tr>
<td align="left">/lost+found</td>
<td align="left">当文件系统发生错误时,将一些丢失的文件片段存放在这里1.3 路径</td>
</tr>
</tbody></table>
<p>另外一个重要的概念 “ 路径 ” ,这个路径指的是如何找到某个文件,分为 “ 绝对路径 ” 与 “ 相对路径 ” :</p>
<ul>
<li>绝对路径 (absolute): 由根目录 (/) 开始写起的目录或文件名</li>
<li>相对路径 (relative): 相对于当前路径的写法</li>
</ul>
<p>举例来说一个客人想找下厕所,你有两种回答的方法。</p>
<ul>
<li>绝对路径:首先坐车来到你家,到了你家后，右手边第一个房间就是厕所。</li>
<li>相对路径:前面右拐第一个房间。</li>
</ul>
<p>如果你说的是绝对路径,那么任何客人都可以按照这个提示找到你家的厕所,但缺点是过于繁琐,如果说的是相对路径,那么这个人并不是在每个路口右转都能找到厕所,缺点是不具备普遍性。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# cd /etc/sysconfig/network-scripts/</span><br><span class="line">[root@rhel7 network-scripts]# pwd</span><br><span class="line">/etc/sysconfig/network-scripts</span><br><span class="line">[root@rhel7 network-scripts]# cd ../modules</span><br><span class="line">[root@rhel7 modules]# pwd</span><br><span class="line">/etc/sysconfig/modules</span><br></pre></td></tr></table></figure>

<h2 id="文件属性"><a href="#文件属性" class="headerlink" title="文件属性"></a>文件属性</h2><p>类 Unix 系统的设计初衷就是为让多用户同时工作,所以也迫使 Linux 系统有了极强的安全性。接下来我们一起来看看 linux 系统示如何实现安全性的。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 tmp]# ll /</span><br><span class="line">total 4148</span><br><span class="line">lrwxrwxrwx.   1 root root        7 May  5 17:28 bin -&gt; usr/bin</span><br><span class="line">dr-xr-xr-x.   4 root root     4096 May  5 17:40 boot</span><br><span class="line">drwxr-xr-x.  15 root root     4096 Aug 19 13:19 content</span><br><span class="line">-rw-------    1 root root  2166784 Aug  8 05:24 core.2052</span><br><span class="line">-rw-------    1 root root 19017728 Aug  8 05:27 core.2488</span><br><span class="line">drwxr-xr-x   19 root root     3380 Oct 26 12:22 dev</span><br><span class="line">drwxr-xr-x. 138 root root    12288 Oct 26 12:22 etc</span><br><span class="line">drwxr-xr-x.   4 root root       31 Aug 23 17:32 home</span><br><span class="line">lrwxrwxrwx.   1 root root        7 May  5 17:28 lib -&gt; usr/lib</span><br><span class="line">lrwxrwxrwx.   1 root root        9 May  5 17:28 lib64 -&gt; usr/lib64</span><br><span class="line">drwxr-xr-x.   2 root root        6 May 25  2015 media</span><br><span class="line">drwxr-xr-x.   2 root root        6 May 25  2015 mnt</span><br><span class="line">drwxr-xr-x.   4 root root       36 May  6 13:19 opt</span><br><span class="line">dr-xr-xr-x  229 root root        0 Oct 26  2016 proc</span><br><span class="line">dr-xr-x---.  26 root root     4096 Oct 12 14:11 root</span><br><span class="line">drwxr-xr-x   39 root root     1200 Oct 26 12:24 run</span><br><span class="line">lrwxrwxrwx.   1 root root        8 May  5 17:28 sbin -&gt; usr/sbin</span><br><span class="line">drwxr-xr-x.   2 root root        6 May 25  2015 srv</span><br><span class="line">dr-xr-xr-x   13 root root        0 Oct 26  2016 sys</span><br><span class="line">drwxrwxrwt.  31 root root     4096 Oct 26 12:42 tmp</span><br><span class="line">drwxr-xr-x.  13 root root     4096 May  5 17:28 usr</span><br><span class="line">drwxr-xr-x.  23 root root     4096 Oct 26  2016 var</span><br></pre></td></tr></table></figure>

<p>第二字段,文件硬链接数或目录子目录数</p>
<h3 id="文件的分类"><a href="#文件的分类" class="headerlink" title="文件的分类"></a>文件的分类</h3><table>
<thead>
<tr>
<th align="left">文件</th>
<th align="left"></th>
<th align="left">操作</th>
</tr>
</thead>
<tbody><tr>
<td align="left">普通文件</td>
<td align="left">纯文本档 (ASCII)</td>
<td align="left">touch file</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">二进制文件 (binary)</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left">数据格式文件 (data)</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">目录</td>
<td align="left">(directory)</td>
<td align="left">mkdir dire</td>
</tr>
<tr>
<td align="left">连结档</td>
<td align="left">(link)</td>
<td align="left">ln file hfile</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">ln -s file sfile</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">ln -s ‘pwd’/file ssfile 绝对路径的软链接文件</td>
</tr>
<tr>
<td align="left">设备与装置文件</td>
<td align="left">(device)</td>
<td align="left">mknod bfile b 252 0 块设备</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">mknod cfile c 4 2 字符设备</td>
</tr>
<tr>
<td align="left">数据输送文件</td>
<td align="left">(FIFO, pipe)</td>
<td align="left">mkfifo pfile 管道文件</td>
</tr>
<tr>
<td align="left">资料接口文件</td>
<td align="left">(sockets)</td>
<td align="left">mksock sfile sock 文件</td>
</tr>
</tbody></table>
<p>-: 普通文件, d: 目录文件, l: 链接文件, b: 块设备文件, c: 字符设备文件, p: 管道文件</p>
<h3 id="一般权限-UGO"><a href="#一般权限-UGO" class="headerlink" title="一般权限 UGO"></a>一般权限 UGO</h3><p>Linux 系统中一切都是文件,文件和目录的所属与权限 —— 来分别规定所有者、所有组、其余人的读,写,执行权限。</p>
<p>读 (read) ,写 (write) ,执行 (execute )简写即为 (r,w,x) ,亦可用数字 (4,2,1) 表示</p>
<table>
<thead>
<tr>
<th align="left">权限</th>
<th align="left">读</th>
<th align="left">写</th>
<th align="left">执行</th>
<th align="left">读</th>
<th align="left">写</th>
<th align="left">执行</th>
<th align="left">读</th>
<th align="left">写</th>
<th align="left">执行</th>
</tr>
</thead>
<tbody><tr>
<td align="left">字符表示</td>
<td align="left">r</td>
<td align="left">w</td>
<td align="left">x</td>
<td align="left">r</td>
<td align="left">w</td>
<td align="left">x</td>
<td align="left">r</td>
<td align="left">w</td>
<td align="left">x</td>
</tr>
<tr>
<td align="left">数字表示</td>
<td align="left">4</td>
<td align="left">2</td>
<td align="left">1</td>
<td align="left">4</td>
<td align="left">2</td>
<td align="left">1</td>
<td align="left">4</td>
<td align="left">2</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">权限分配</td>
<td align="left">文件所有者</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">文件所属组</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">其他用户</td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<p>举例 : 如果某文件权限为 7 则代表可读,可写,可执行 (4+2+1) 。若权限为 6(4+2) 则代表可读,可写。那么权限为 5 与 3 时分别代表了什么?</p>
<p>答案:权限为 5 代表可读 (4) 和可执行 (1) 。而权限为 3 代表可写 (2) 和可执行 (1) 。</p>
<hr>
<p>文件的权限为 rw-r–r– 也就是分别表示所有者 ( 属主 ) 有读写权限,所有组 ( 属组 ) 有读权限,其余人也仅有读权限。</p>
<p>这个时候发现问题了吗?对于目录文件的读和写权限我们还可以理解,目录要能执行操作?</p>
<p>普通文件即实际保存数据的地方,其并不具备删除自身的权限:</p>
<ul>
<li>r: 可读取文件的实际内容</li>
<li>w: 可编辑 / 新增 / 修改该文件的实际内容</li>
<li>x: 可被执行</li>
</ul>
<p>目录文件即保存有目录结构和文件权限:</p>
<ul>
<li>r: 可读取目录结构和权限</li>
<li>w: 可更改目录结构列表、新建 / 删除 / 重命名 / 转移子文件 / 目录。</li>
<li>x: 表示用户可进入到该目录中</li>
</ul>
<h3 id="特殊权限-suid-sgid-sticky"><a href="#特殊权限-suid-sgid-sticky" class="headerlink" title="特殊权限 suid\sgid\sticky"></a>特殊权限 suid\sgid\sticky</h3><p>单纯对文件位置的 rwx 权限肯定不能满足我们对安全、便捷工作的需求,所以便有了 SUID 与 SGID 的特殊权限机制。</p>
<p>SUID</p>
<ul>
<li>范围 : 二进制的可执行的文件</li>
<li>作用 : 临时拥有所有者的权限</li>
</ul>
<p>SGID</p>
<ul>
<li>范围 : 目录或者拥有可执行权限的文件</li>
<li>作用 : 继承目录所属组</li>
</ul>
<p>SBIT ( STICKY )</p>
<ul>
<li>范围 : 目录</li>
<li>作用 : 只有 root 用户和文件拥有者有权删除目录中的文件。</li>
</ul>
<p>SUID</p>
<p>比如:<br><code>-rwsr-xr-x. 1 root root 27832 Jan 30 2014 /usr/bin/passwd</code></p>
<p>所有用户都可以执行用于修改用户密码的 passwd 命令,但用户密码保存在 /etc/shadow 文件中,默认权限是 000 即除了超级用户 root 外的所有用户都没有查看或编辑该文件的权限,所以对 passwd 命令加上SUID 权限位,则可让普通用户临时获得程序所有者的身份,即以 root 用户的身份将变更的密码信息写入到 shadow 文件中。</p>
<p><code>---s--x--x. 1 root root 130712 Sep 1 2015 sudo</code></p>
<p>SGID:</p>
<p>功能一:让执行者临时拥有属组的权限(对拥有执行权限的二进制程序设置)</p>
<p>举例:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-r-xr-sr-x. 1 root tty</span><br><span class="line">-rwxr-sr-x. 1 root tty</span><br><span class="line">15344 Jan 27 2014 wall</span><br><span class="line">19536 Aug 21 2015 write</span><br></pre></td></tr></table></figure>

<p>功能二:在该目录中创建的文件自动继承此目录的用户组(只可以对目录设置)</p>
<p>比如:我们将某个部门的工作目录给予了 SGID 权限,这样所有人创建的文件都归相同的工作组,这样方便以后的管理。</p>
<p>SBIT(Sticky Bit):</p>
<p>比如:<br><code>drwxrwxrwt. 7 root root 4096 Jun 22 13:20 /tmp</code></p>
<p>一般老师希望学生可以将作业上传到某个特定目录 —— 但为了避免某些小破坏份子,想限制删除其他人文件的话,那就要设置 SBIT 位了,当然也可以叫做特殊权限位之粘滞位。</p>
<h3 id="隐藏属性-ATTR"><a href="#隐藏属性-ATTR" class="headerlink" title="隐藏属性 ATTR"></a>隐藏属性 ATTR</h3><p>文件权限除了 UGO 读写执行与 SUID 、 SGID 、 SBIT 外还有一种隐藏权限,例如明明有权限删除某个文件却报错了,或者仅能为某个文件追加内容而不能减少内容,遇到这种很 “ 奇怪 ” 的文件,就要怀疑是文件被设置隐藏权限了。</p>
<p>chattr 命令用于设置文件的隐藏权限,格式为: “ chattr [ 参数 ] 文件 ” 。</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="left">i</td>
<td align="left">将无法对文件进行修改,若对目录设置后则仅能修改子文件而不能新建或删除。</td>
</tr>
<tr>
<td align="left">a</td>
<td align="left">仅允许补充(追加)内容.无法覆盖/删除(Append Only)。</td>
</tr>
<tr>
<td align="left">S</td>
<td align="left">文件内容变更后立即同步到硬盘(sync)。</td>
</tr>
<tr>
<td align="left">s</td>
<td align="left">彻底从硬盘中删除,不可恢复(用 0 填充原文件所在硬盘区域)。</td>
</tr>
<tr>
<td align="left">A</td>
<td align="left">不再修改这个文件的最后访问时间(atime)。</td>
</tr>
<tr>
<td align="left">b</td>
<td align="left">不再修改文件或目录的存取时间。</td>
</tr>
<tr>
<td align="left">D</td>
<td align="left">检查压缩文件中的错误。</td>
</tr>
<tr>
<td align="left">d</td>
<td align="left">当使用 dump 命令备份时忽略本文件/目录。</td>
</tr>
<tr>
<td align="left">c</td>
<td align="left">默认将文件或目录进行压缩。</td>
</tr>
<tr>
<td align="left">u</td>
<td align="left">当删除此文件后依然保留其在硬盘中的数据,方便日后恢复。</td>
</tr>
<tr>
<td align="left">t</td>
<td align="left">让文件系统支持尾部合并(tail-merging)。</td>
</tr>
<tr>
<td align="left">X</td>
<td align="left">可以直接访问压缩文件的内容。</td>
</tr>
</tbody></table>
<p>lsattr 命令用于显示文件的隐藏权限,格式为: “ lsattr [ 参数 ] 文件 ” 。</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="left">a</td>
<td align="left">显示所有文件和目录。</td>
</tr>
<tr>
<td align="left">l</td>
<td align="left">显示隐藏属性的全称(默认简写成一个字母)。</td>
</tr>
<tr>
<td align="left">R</td>
<td align="left">递归处理,将指定目录下的所有文件及子目录一并处理。</td>
</tr>
<tr>
<td align="left">d</td>
<td align="left">若目标文件为目录,请加此参数。</td>
</tr>
</tbody></table>
<p>具体用法见第三章节</p>
<h3 id="文件访问控制列表-ACL"><a href="#文件访问控制列表-ACL" class="headerlink" title="文件访问控制列表 ACL"></a>文件访问控制列表 ACL</h3><p>不知大家有没有发现其实上面讲解的 rwx 权限、特殊权限、隐藏权限都是对某一类用户设置的,而如果希望对某个指定的用户进行单独的权限设置,那么就需要用文件的访问控制列表来实现啦。</p>
<p>我们可以基于普通文件或目录设置进行设置 ACL ,通俗来说 ACL 就是设置指定的特定用户或用户组对某个文件的操作权限。并且如果对某个目录设置了访问控制策略,那么子文件则继承其访问策略,而若对文件设置了访问控制策略则不再继承上级目录的控制策略。</p>
<p>ACL:Access Control List 缩写 ,UGO 的 rwx 权限以外的细部权限设置。</p>
<ul>
<li>setfacl 命令用于增加或者修改 ACL 规则,格式为: ” setfacl [ 参数 ] 文件 ” 。</li>
<li>getfacl 命令用于显示文件的 ACL 规则,格式为: ” getfacl 文件 ” 。</li>
</ul>
<p>详细命令用法请看第三章节。</p>
<h2 id="文件相关的命令"><a href="#文件相关的命令" class="headerlink" title="文件相关的命令"></a>文件相关的命令</h2><table>
<thead>
<tr>
<th align="left">文件</th>
<th align="left">命令</th>
<th align="left">解释</th>
</tr>
</thead>
<tbody><tr>
<td align="left">文件的管理</td>
<td align="left">ls ,cd, pwd, touch,mkdir, rmdir</td>
<td align="left">新建、删除</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">cp, rm, mv</td>
<td align="left">复制、删除、移动</td>
</tr>
<tr>
<td align="left">文件内容的查看</td>
<td align="left">cat, tac, nl</td>
<td align="left">直接查看内容</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">more, less</td>
<td align="left">可翻页查看</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">head, tail</td>
<td align="left">资料撷取</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">od</td>
<td align="left">非纯文本档</td>
</tr>
<tr>
<td align="left">文件的权限</td>
<td align="left">chmod chown</td>
<td align="left">文件的拥有者和所属组 ugo 权限</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">umask</td>
<td align="left">文件预设</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">chattr, lsattr</td>
<td align="left">文件隐藏属性</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">SUID, SGID, SBIT</td>
<td align="left">文件特殊权限</td>
</tr>
<tr>
<td align="left">文件类型</td>
<td align="left">file</td>
<td align="left">文件类型查看</td>
</tr>
<tr>
<td align="left">文件的搜索</td>
<td align="left">which</td>
<td align="left">指令文件的搜索</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">whereis, locate, find</td>
<td align="left">文件的搜索</td>
</tr>
</tbody></table>
<h3 id="权限的修改-chmod-chown-chgrp-umask"><a href="#权限的修改-chmod-chown-chgrp-umask" class="headerlink" title="权限的修改 chmod chown chgrp umask"></a>权限的修改 chmod chown chgrp umask</h3><h4 id="chmod"><a href="#chmod" class="headerlink" title="chmod"></a>chmod</h4><p>chmod [ u g o a 所有用户 ] [ + - = ] [ rwx] /[ 777]</p>
<ul>
<li>w 结合 x 权限可以对目录下的文件进行以下操作 : cd rm touch cp</li>
<li>r 结合 x 权限可以对目录下的文件进行 ls 操作</li>
<li>x 决定了能否进入目录</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[ root@www tmp]# ll dabao</span><br><span class="line">-rw-r--r--. 1 root root 0 Mar 21 06:09 dabao</span><br><span class="line">[ root@www tmp]# chmod 777 dabao</span><br><span class="line">[ root@www tmp]# ll dabao</span><br><span class="line">-rwxrwxrwx. 1 root root 0 Mar 21 06:09 dabao3.1.2 chown</span><br></pre></td></tr></table></figure>

<p>chown user:group 目录 / 文件</p>
<p>-R 针对目录递归修改拥有者</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[ root@www tmp]# chown dabao. dabao</span><br><span class="line">[ root@www tmp]# ll dabao</span><br><span class="line">-rwxrwxrwx. 1 dabao dabao 0 Mar 21 06:09 dabao</span><br><span class="line">[ root@www tmp]# chown -R dabao dabao1</span><br><span class="line">[ root@www tmp]# ll -R dabao1</span><br><span class="line">dabao1:</span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 3 dabao root 4096 Mar 21 06:11 1</span><br><span class="line">dabao1/1:</span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 2 dabao root 4096 Mar 21 06:11 2</span><br><span class="line">dabao1/1/2:</span><br><span class="line">total 0</span><br></pre></td></tr></table></figure>

<h4 id="chgrp"><a href="#chgrp" class="headerlink" title="chgrp"></a>chgrp</h4><p>修改文件目录的所属组</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[ root@www tmp]# chgrp -R dabao dabao1</span><br><span class="line">[ root@www tmp]# ll -R dabao1</span><br><span class="line">dabao1:</span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 3 dabao dabao 4096 Mar 21 06:11 1</span><br><span class="line">dabao1/1:</span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 2 dabao dabao 4096 Mar 21 06:11 2</span><br><span class="line">dabao1/1/2:</span><br><span class="line">total 0</span><br></pre></td></tr></table></figure>

<h4 id="umask"><a href="#umask" class="headerlink" title="umask"></a>umask</h4><p>umask 创建文件 / 目录的默认权限</p>
<p>公式</p>
<p>最大权限 -umask= 默认权限</p>
<ul>
<li>user 文件 666 -002 = 644 rw-rw-r–</li>
<li>root 文件 666 -022 = 664 rw-r–r–</li>
<li>user 目录 777 -002 = 755 rwxrwxr-x</li>
<li>root 目录 777 -022 = 775 rwxr-xr-x</li>
</ul>
<p>umask 777 只针对当前环境临时生效</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ root@www tmp]# umask</span><br><span class="line">0022</span><br></pre></td></tr></table></figure>

<h4 id="相关文档-etc-profile-bash-profile"><a href="#相关文档-etc-profile-bash-profile" class="headerlink" title="相关文档 /etc/profile ~/.bash_profile"></a>相关文档 /etc/profile ~/.bash_profile</h4><ul>
<li>/etc/profile 定义了普通用户和 root 用户的 umask 值 , 对所有用户生效</li>
<li>~/.bash_profile 可以定义当前用户的 umask 值 , 只对当前用户生效 , 需要重新登陆用户后生效。</li>
</ul>
<p>默认属性相加减 , 则档案变成 :666-003=663, 是 -rw-rw–wx , 错 !!</p>
<h3 id="ATTR-权限命令-chattr-lsattr"><a href="#ATTR-权限命令-chattr-lsattr" class="headerlink" title="ATTR 权限命令 chattr lsattr"></a>ATTR 权限命令 chattr lsattr</h3><h4 id="chattr"><a href="#chattr" class="headerlink" title="chattr"></a>chattr</h4><p>配置文件案隐藏属性</p>
<p>属性设置常见的是 a 和 i 的设定 , 必须要 root 身份</p>
<p>chattr [ +-= ][ ASacdistu] 文件 / 目录</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="left">+</td>
<td align="left">增加</td>
</tr>
<tr>
<td align="left">-</td>
<td align="left">移除</td>
</tr>
<tr>
<td align="left">=</td>
<td align="left">设定为</td>
</tr>
<tr>
<td align="left">A</td>
<td align="left">访问时间 atime 不修改 , 对速度较慢计算机有帮助</td>
</tr>
<tr>
<td align="left">S</td>
<td align="left">『同步』写入磁盘</td>
</tr>
<tr>
<td align="left">a</td>
<td align="left">只能增加数据 , 不能删除 / 修改数据 (root)</td>
</tr>
<tr>
<td align="left">c</td>
<td align="left">自动『压缩』 , 读取时自动解压缩</td>
</tr>
<tr>
<td align="left">d</td>
<td align="left">不被 dump 备份</td>
</tr>
<tr>
<td align="left">i</td>
<td align="left">以下操作不可执行 : 『删除、改名、设置连结、写入、新增资料』 ( root )</td>
</tr>
<tr>
<td align="left">s</td>
<td align="left">彻底删除 , 无法挽回</td>
</tr>
<tr>
<td align="left">u</td>
<td align="left">与 s 相反 , 删除可挽回</td>
</tr>
</tbody></table>
<h4 id="lsattr"><a href="#lsattr" class="headerlink" title="lsattr"></a>lsattr</h4><p>lsattr [ -adR] 文件 / 目录</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-a</td>
<td align="left">显示隐藏文件的属性</td>
</tr>
<tr>
<td align="left">-d</td>
<td align="left">仅列出目录本身属性</td>
</tr>
<tr>
<td align="left">-R</td>
<td align="left">连同子目录</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">A 访问时间 atime 不修改</span><br><span class="line">[root@rhel7 tmp]# chattr +A file1</span><br><span class="line">[root@rhel7 tmp]# lsattr file1</span><br><span class="line">-------A-------- file1</span><br><span class="line">[root@rhel7 tmp]# cat file1</span><br><span class="line">hi</span><br><span class="line">[root@rhel7 tmp]# stat file1</span><br><span class="line">File: ‘file1’</span><br><span class="line">Size: 3</span><br><span class="line">Blocks: 8</span><br><span class="line">IO Block: 4096 regular file</span><br><span class="line">Device: fd00h/64768d</span><br><span class="line">Inode: 52973916 Links: 1</span><br><span class="line">Access: (0644/-rw-r--r--) Uid: ( 0/ root) Gid: ( 0/ root)</span><br><span class="line">Context: unconfined_u:object_r:user_tmp_t:s0Access: 2016-06-22 14:49:50.221000000 +0800</span><br><span class="line">Modify: 2016-06-22 14:49:48.025000000 +0800</span><br><span class="line">Change: 2016-06-22 14:50:14.621000000 +0800</span><br><span class="line">Birth: -</span><br><span class="line">[root@rhel7 tmp]# cat file1</span><br><span class="line">hi</span><br><span class="line">[root@rhel7 tmp]# stat file1</span><br><span class="line">File: ‘file1’</span><br><span class="line">Size: 3</span><br><span class="line">Blocks: 8</span><br><span class="line">IO Block: 4096 regular file</span><br><span class="line">Device: fd00h/64768d</span><br><span class="line">Inode: 52973916 Links: 1</span><br><span class="line">Access: (0644/-rw-r--r--) Uid: ( 0/ root) Gid: ( 0/ root)</span><br><span class="line">Context: unconfined_u:object_r:user_tmp_t:s0</span><br><span class="line">Access: 2016-06-22 14:49:50.221000000 +0800</span><br><span class="line">Modify: 2016-06-22 14:49:48.025000000 +0800</span><br><span class="line">Change: 2016-06-22 14:50:14.621000000 +0800</span><br><span class="line">Birth: -</span><br><span class="line">[root@rhel7 tmp]# chattr -A file1</span><br><span class="line">a 只能增加数据 , 不能删除 / 修改数据 (root)</span><br><span class="line">[root@rhel7 tmp]# chattr +a file1</span><br><span class="line">[root@rhel7 tmp]# lsattr file1</span><br><span class="line">-----a---------- file1</span><br><span class="line">[root@rhel7 tmp]# echo 99 &gt; file1</span><br><span class="line">-bash: file1: Operation not permitted</span><br><span class="line">[root@rhel7 tmp]# echo 99 &gt;&gt; file1</span><br><span class="line">[root@rhel7 tmp]# cat file1</span><br><span class="line">hi</span><br><span class="line">99</span><br><span class="line">i 以下操作不可执行 : 『删除、改名、设置连结、写入、新增资料』 ( root )</span><br><span class="line">[root@rhel7 tmp]# chattr +i file1</span><br><span class="line">[root@rhel7 tmp]# rm -rf file1</span><br><span class="line">rm: cannot remove ‘file1’: Operation not permitted</span><br><span class="line">[root@rhel7 tmp]# mv file1 file100</span><br><span class="line">mv: cannot move ‘file1’ to ‘file100’: Operation not permitted</span><br><span class="line">[root@rhel7 tmp]# link file1 file1h</span><br><span class="line">link: cannot create link ‘file1h’ to ‘file1’: Operation not permitted</span><br><span class="line">[root@rhel7 tmp]# echo nini&gt;&gt;file1</span><br><span class="line">-bash: file1: Permission denied</span><br><span class="line">[root@rhel7 tmp]# chattr -i file1</span><br><span class="line">[root@rhel7 tmp]# lsattr file1</span><br><span class="line">---------------- file1</span><br></pre></td></tr></table></figure>


<h3 id="ACL-权限命令"><a href="#ACL-权限命令" class="headerlink" title="ACL 权限命令"></a>ACL 权限命令</h3><h4 id="ACL-权限概念"><a href="#ACL-权限概念" class="headerlink" title="ACL 权限概念"></a>ACL 权限概念</h4><p>ACL:Access Control List 缩写 ,UGO 的 rwx 权限以外的细部权限设置。</p>
<p>ACL 可以针对单一用户 , 单一文件 , 单一目录 r,w,x 的权限规范</p>
<p>针对几个项目 :</p>
<ol>
<li>使用者 (user): 可以针对使用者设定权限</li>
<li>群组 (group): 针对群组为对象设定权限</li>
<li>默认属性 (mask): 还可以针对在该目录下在建立新档案或目录时 , 规范新数据的默认权限</li>
</ol>
<h4 id="getfacl"><a href="#getfacl" class="headerlink" title="getfacl"></a>getfacl</h4><p>取得文件 / 目录的 ACL 设定内容</p>
<p>getfacl filename</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@www tmp]# getfacl dabao</span><br><span class="line"> file: dabao</span><br><span class="line"> owner: dabao</span><br><span class="line"> group: dabao</span><br><span class="line">user::rwx</span><br><span class="line">group::rwx</span><br><span class="line">other::rwx</span><br></pre></td></tr></table></figure>

<h4 id="setfacl"><a href="#setfacl" class="headerlink" title="setfacl"></a>setfacl</h4><p>设置文件 / 目录的 ACL 规范</p>
<p>setfacl [-bkRd] [{-m|-x} acl 参数 ] 目标文件名</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-m</td>
<td align="left">设置 acl 参数</td>
</tr>
<tr>
<td align="left">-x</td>
<td align="left">删除 acl 参数</td>
</tr>
<tr>
<td align="left">-b</td>
<td align="left">删除所有 acl 参数</td>
</tr>
<tr>
<td align="left">-k</td>
<td align="left">删除预设的 acl 参数</td>
</tr>
<tr>
<td align="left">-R</td>
<td align="left">递归设置 acl 参数</td>
</tr>
<tr>
<td align="left">-d</td>
<td align="left">设置『预设 acl 参数』只对目录有效 , 在该目录新建的数据会引用</td>
</tr>
</tbody></table>
<p>命令格式 :</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">『 u:[ 使用者账号列表 ]:[ rwx] 』 &lt;= = 针对特定用户</span><br><span class="line">『 g:[ 群组列表 ]:[rwx] 』 &lt;= = 针对特定用户组</span><br><span class="line">『 m:[ rwx] 』 &lt;= = 针对有效权限 mask</span><br><span class="line">『 d:[ ug]: 使用者列表 :[ rwx] 』 针对预设权限 , 属性将继承到次目录</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 tmp]# setfacl -m u:student:rwx file1</span><br><span class="line">[root@rhel7 tmp]# setfacl -m g:student:rw file1</span><br><span class="line">[root@rhel7 tmp]# getfacl file1</span><br><span class="line"> file: file1</span><br><span class="line"> owner: root</span><br><span class="line"> group: root</span><br><span class="line">user::rw-</span><br><span class="line">user:student:rwx</span><br><span class="line">group::r--</span><br><span class="line">group:student:rw-</span><br><span class="line">mask::rwx</span><br><span class="line">other::r--</span><br><span class="line">-d 针对预设权限 , 属性将继承到次目录</span><br><span class="line">[root@rhel7 tmp]# mkdir dabao</span><br><span class="line">[root@rhel7 tmp]# setfacl -d -m u:student:rwx dabao</span><br><span class="line">[root@rhel7 tmp]# getfacl dabao</span><br><span class="line"> file: dabao</span><br><span class="line"> owner: root</span><br><span class="line"> group: root</span><br><span class="line">user::rwx</span><br><span class="line">group::r-x</span><br><span class="line">other::r-x</span><br><span class="line">default:user::rwx</span><br><span class="line">default:user:student:rwx</span><br><span class="line">default:group::r-x</span><br><span class="line">default:mask::rwx</span><br><span class="line">default:other::r-x</span><br><span class="line">[root@rhel7 tmp]# ll dabao -d</span><br><span class="line">drwxr-xr-x+ 2 root root 6 Jun 22 15:09 dabao</span><br><span class="line">[root@rhel7 tmp]# touch dabao/kk</span><br><span class="line">[root@rhel7 tmp]# ll dabao</span><br><span class="line">total 4</span><br><span class="line">-rw-rw-r--+ 1 root root 0 Jun 22 15:10 kk</span><br><span class="line">[root@rhel7 tmp]# getfacl dabao/kk</span><br><span class="line"> file: dabao/kk</span><br><span class="line"> owner: root</span><br><span class="line"> group: root</span><br><span class="line">user::rw-</span><br><span class="line">user:student:rwx</span><br><span class="line">effective:rw-</span><br><span class="line">group::r-x</span><br><span class="line">effective:r--</span><br><span class="line">mask::rw-</span><br><span class="line">other::r--</span><br><span class="line"> 切换为 student 用户</span><br><span class="line">[student@rhel7 tmp]$ cd dabao</span><br><span class="line">[student@rhel7 dabao]$ ll</span><br><span class="line">total 4</span><br><span class="line">-rw-rw-r--+ 1 root root 0 Jun 22 15:10 kk</span><br><span class="line">[student@rhel7 dabao]$ cat kk</span><br></pre></td></tr></table></figure>

<h2 id="文件存储结构"><a href="#文件存储结构" class="headerlink" title="文件存储结构"></a>文件存储结构</h2><p>Linux 操作系统的文件权限 (rwx) 与文件属性 ( 拥有者、群组、 时间参数等 ) , 文件系统会将这两部分<br>的数据分别存放在不同的区块 , 权限不属性放置到 inode 中 , 实际数据则放置到 data block 区块中。<br>另外 , 还有一个超级区块 (superblock) 会记录整个 文件系统的整体信息 , 包括 inode 和 block<br>的总量、使用量、剩余量等。</p>
<p><img src="pic/07.png" alt="07"></p>
<ul>
<li>文件的属性和权限数据 –&gt; 放置到 inode 4 号</li>
<li>文件数据的实际放置点为 2, 7, 13, 15 这四个 block 号码</li>
</ul>
<p>对于目录: inode 记录该目录的相关权限与属性 , 并记录分配到的那块 block 号码 ; 而 block 则<br>是记录在该目录下的文件或目录的文件名和对应的 inode 号的数据。如下图所示:</p>
<p><img src="pic/08.png" alt="08"></p>
<h2 id="软硬方式链接"><a href="#软硬方式链接" class="headerlink" title="软硬方式链接"></a>软硬方式链接</h2><p>在 Linux 系统中的 ln 命令能够让用户创建出两种不同类型的文件快捷方式,一定要注意区分:</p>
<p>硬链接 (hard link) 可以被理解为一个 “ 指向原始文件 inode 的指针 ” ,系统不为它分配独立的 inode<br>与文件,所以实际上来讲硬链接文件与原始文件其实是同一个文件,只是名字不同。于是每添加一个硬链接,<br>该文件的 inode 连接数就会增加 1 ,直到该文件的 inode 连接数归 0 才是彻底删除。概括来说因为硬链<br>接实际就是指向原文件 inode 的指针,即便原始文件被删除依然可以通过链接文件访问,但是不能跨文件<br>系统也不能链接目录文件。</p>
<p>软链接也称为符号链接( symbolic link )即 “ 仅仅包含它索要链接文件的路径名 ” 因此能做目录链接也<br>可以跨越文件系统,但原始文件被删除后链接文件也将失效,如同 WinodwTM 中的 “ 快捷方式 ” 。</p>
<p>ln 命令用于创建链接文件,格式为: “ ln [ 选项 ] 目标 ” 。</p>
<ul>
<li>创建硬链接 :“ln 文件名 链接名 ”</li>
<li>创建软链接 :“ln -s 文件名 连接名 ”</li>
</ul>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-s</td>
<td align="left">创建”符号链接”(默认是硬链接)</td>
</tr>
<tr>
<td align="left">-f</td>
<td align="left">强制创建文件或目录的链接</td>
</tr>
<tr>
<td align="left">-i</td>
<td align="left">覆盖前先询问</td>
</tr>
<tr>
<td align="left">-v</td>
<td align="left">显示创建链接的过程</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 tmp]# echo this is a &gt; file</span><br><span class="line">[root@rhel7 tmp]# cat file</span><br><span class="line">this is a</span><br><span class="line">[root@rhel7 tmp]# ll file</span><br><span class="line">-rw-r--r--. 1 root root 10 Jun 22 16:02 file</span><br><span class="line">[root@rhel7 tmp]# ln file fileh</span><br><span class="line">[root@rhel7 tmp]# ll file fileh</span><br><span class="line">[root@rhel7 tmp]# ll file fileh files -i</span><br><span class="line">52973928 -rw-r--r--. 2 root root 10 Jun 22 16:02 file</span><br><span class="line">52973928 -rw-r--r--. 2 root root 10 Jun 22 16:02 fileh</span><br><span class="line">52973930 lrwxrwxrwx. 1 root root 4 Jun 22 16:03 files -&gt; filefile</span><br></pre></td></tr></table></figure>

<p><img src="pic/09.png" alt="09"></p>
<h2 id="指令和文件的搜索"><a href="#指令和文件的搜索" class="headerlink" title="指令和文件的搜索"></a>指令和文件的搜索</h2><p>which     whereis         locate     find </p>
<h3 id="肉眼查找-ls-R"><a href="#肉眼查找-ls-R" class="headerlink" title="肉眼查找 : ls -R"></a>肉眼查找 : ls -R</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[ root@www ~]# ls -R /tmp</span><br><span class="line">/tmp:</span><br><span class="line">dabao</span><br><span class="line">dabao1</span><br><span class="line">/tmp/dabao1:</span><br><span class="line">1</span><br><span class="line">/tmp/dabao1/1:</span><br><span class="line">2</span><br><span class="line">/tmp/dabao1/1/2:</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## 指令的搜寻 :which</span></span></span><br><span class="line"></span><br><span class="line">which [ -a] command</span><br><span class="line"></span><br><span class="line">选项与参数 :</span><br><span class="line"></span><br><span class="line">-a</span><br><span class="line">- : 将所有由 PATH 目录中可以找到的指令均列出</span><br><span class="line">- : 只显示第一个找到的</span><br><span class="line"></span><br><span class="line">注意 :</span><br><span class="line">1. 系统内建命令找不到 , type 查看</span><br><span class="line">2. alias 命令别名</span><br><span class="line"></span><br><span class="line">​```shell</span><br><span class="line">[ root@www ~]# which cat</span><br><span class="line">/bin/cat</span><br><span class="line">[ root@www ~]# which postfix</span><br><span class="line">/usr/sbin/postfix</span><br></pre></td></tr></table></figure>

<h3 id="文件名的搜寻-whereis-locate-find"><a href="#文件名的搜寻-whereis-locate-find" class="headerlink" title="文件名的搜寻 :whereis, locate, find"></a>文件名的搜寻 :whereis, locate, find</h3><h4 id="whereis"><a href="#whereis" class="headerlink" title="whereis"></a>whereis</h4><p>whereis [ -bmsu] [ -BMS directory…-f] filename..</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-b</td>
<td align="left">只寻找 binary 二进制 格式的文件</td>
</tr>
<tr>
<td align="left">-m</td>
<td align="left">只寻找在 说明文件 manual 路径下的文件</td>
</tr>
<tr>
<td align="left">-s</td>
<td align="left">只寻找 source 来源的文件</td>
</tr>
<tr>
<td align="left">-u</td>
<td align="left">搜寻不在上述三个项目当中的其他特殊文件</td>
</tr>
<tr>
<td align="left">-l</td>
<td align="left">查看 whereis 可搜寻的路径</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ root@www ~]# whereis /etc/passwd</span><br><span class="line">passwd: /usr/bin/passwd /etc/passwd.OLD /etc/passwd /usr/share/man/man1/passwd.1.gz</span><br><span class="line">/usr/share/man/man5/passwd.5.gz</span><br><span class="line">[ root@www ~]# whereis man</span><br><span class="line">man: /usr/bin/man /etc/man.config /usr/share/man /usr/share/man/man7/man.7.gz</span><br><span class="line">/usr/share/man/man1p/man.1p.gz /usr/share/man/man1/man.1.gz</span><br></pre></td></tr></table></figure>

<h4 id="locate"><a href="#locate" class="headerlink" title="locate"></a>locate</h4><p>locate [ -ir] keyword</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-i</td>
<td align="left">忽略大小写的差异 ;</td>
</tr>
<tr>
<td align="left">-r</td>
<td align="left">后面可接正规表示法的显示方式</td>
</tr>
</tbody></table>
<ul>
<li>安装软件 <code>mlocate</code> 之后才会有 <code>updatedb</code> 命令和 <code>locate</code> 命令,最小化安装的 rhel 系统默认不安装。</li>
<li><code>locate</code> 寻找的数据是由『已建立的数据库 <code>/var/lib/mlocate/mlocate.db</code> 里面的数据所搜<br>寻到 , 所以不用直接在去硬盘中存取数据 , 速度快</li>
<li><code>updatedb</code>: 根据 <code>/etc/updatedb.conf</code> 的设定去搜寻系统硬盘内的文件名 , 并更新<code>/var/lib/mlocate.mlocate.db</code></li>
<li><code>PRUNEPATHS = &quot;/afs /media /net /sfs /tmp /udev /var/cache/ccache /var/spool/cups /var/spool/squid /var/tmp&quot;</code> &lt;== 设定了不搜寻的目录</li>
</ul>
<h4 id="find"><a href="#find" class="headerlink" title="find"></a>find</h4><p>find [ PATH] [ option] [ action]</p>
<p>选项与参数 :</p>
<ol>
<li>与时间有关 :-atime, -ctime ,-mtime , 以 -mtime 说明</li>
</ol>
<ul>
<li>-mtime n</li>
<li>-mtime +n</li>
<li>-mtime -n</li>
<li>-newer file : 列出比 file 还要新的档案</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if n= 2 now= 2015/12/24</span><br><span class="line">then</span><br><span class="line">-mtime 2:  2015/12/22 当天内容改过的文件</span><br><span class="line">-mtime +2: 2 天之前 , 2015/12/22 之前被容被改过的文件 , 及 21\20\19...</span><br><span class="line">-mtime -2: 2 天以内 , 2015/12/24 和 2015/12/23 号修改过的文件</span><br><span class="line">&lt;--|--|--|--|--|--|--|--|--|--|--|2-|--|--|</span><br><span class="line">&lt;----------------------------+2-&gt;|--|--|--|</span><br><span class="line">&lt;--|--|--|--|--|--|--|--|--|--|--|--|&lt;-2-&gt;|</span><br><span class="line">11 12 13 14 15 16 17 18 19 20 21 22 23 24 现在</span><br></pre></td></tr></table></figure>

<ol>
<li>与用户和组有关</li>
</ol>
<ul>
<li>-uid n</li>
<li>-gid n</li>
<li>-user name</li>
<li>-group name</li>
<li>-nouser</li>
<li>-nogroup</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[ root@www ~]# find /tmp -user dabao</span><br><span class="line">/tmp/dabao</span><br><span class="line">/tmp/dabao1</span><br><span class="line">/tmp/dabao1/1</span><br><span class="line">/tmp/dabao1/1/2</span><br></pre></td></tr></table></figure>

<ol>
<li>与档案的权限及名称有关</li>
</ol>
<ul>
<li>-name filename: 搜寻文件名为 filename 的文件 ;</li>
<li>-size [ +-]SIZE: SIZE 的规格有</li>
<li>c: 代表 byte</li>
<li>k: 代表 1024bytes w: 字数 , 占两个字符 M\G</li>
<li>-type TYPE:f 普通文件 d 目录 l 链接文件</li>
<li>-perm mode : 文件权限『刚好等于』 mode 的档案 mode 范围 : 7777 ~ 0000</li>
<li>-perm -mode: 文件权限『必须要全部囊括 mode 权限』</li>
<li>-perm +mode: 文件权限『包含 mode 权限』的文件</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[ root@www ~]# find /tmp -name "*da*"</span><br><span class="line">/tmp/dabao</span><br><span class="line">/tmp/orbit-root/linc-bd3-0-5dc8fa181da</span><br><span class="line">/tmp/orbit-root/linc-da1-0-76ab0a1c521dd</span><br><span class="line">/tmp/orbit-root/linc-cc4-0-c0fda335ced5</span><br><span class="line">/tmp/dabao1</span><br><span class="line">[ root@www ~]# find /tmp -type f</span><br><span class="line">/tmp/pulse-BzLrQ7uHulwz/pid</span><br><span class="line">/tmp/.X0-lock</span><br><span class="line">/tmp/dabao</span><br><span class="line">/tmp/orbit-root/bonobo-activation-server-23d28d39cfff8983f6cac2ca00000055-ior</span><br><span class="line">/tmp/orbit-root/bonobo-activation-register-23d28d39cfff8983f6cac2ca00000055.lock</span><br><span class="line">/tmp/lurakm9.tmp/luraktg.tmp</span><br><span class="line">/tmp/lurakm9.tmp/lurakt2.tmp</span><br><span class="line">/tmp/lurakm9.tmp/lurakvs.tmp</span><br></pre></td></tr></table></figure>

<ol>
<li>额外动作</li>
</ol>
<p>-exec [ 命令 ] : 后面可再接额外的命令来处理搜寻到的结果</p>
<p><code>find / -perm +7000 -exec ls -l {} \;</code><br>&lt;= = 固定格式 : <code>find [ 路径 参数 ] -exec [ 命令 ] {} \;</code></p>
<p>-ok        格式同-exec，区别ok会带提示（交互式的找到后是否执行该命令）</p>
<p>-print: 将结果输出屏幕上 , 预设动作</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[ root@www ~]# find /tmp -name "dabao*" -exec ls -l &#123;&#125; \;</span><br><span class="line">-rwxrwxrwx+ 1 dabao dabao 0 Mar 21 06:09 /tmp/dabao</span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 3 dabao dabao 4096 Mar 21 06:11 1</span><br></pre></td></tr></table></figure>

<h2 id="Linux-文件和目录作业"><a href="#Linux-文件和目录作业" class="headerlink" title="Linux 文件和目录作业"></a>Linux 文件和目录作业</h2><h3 id="UGO-权限作业"><a href="#UGO-权限作业" class="headerlink" title="UGO 权限作业"></a>UGO 权限作业</h3><ol>
<li>查看 /var/spool/mail 下所有文件 , 并指出其拥有者和所属组分 别是谁 , 其拥有者和所属组对应的<br>权限分别是什么 ?</li>
<li>在 /tmp/ 目录下创建 7 个目录 , 目录名分别为 test1 到 test7</li>
</ol>
<ul>
<li>1) 将该 7 个目录的拥有者改为 student 用户。</li>
<li>2) 在这 7 个目录下分别创建 file1 和 file2</li>
<li>3) 针对这 7 个目录的 student 用户分别设置数字为 1 到 7 的权限。</li>
<li>4) 分别对这个 7 个目录执行以下命令 :<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ls file1</span><br><span class="line">ls -l file1</span><br><span class="line">cd testx</span><br><span class="line">touch file3</span><br><span class="line">rm file2</span><br><span class="line">chmod 777 file1</span><br></pre></td></tr></table></figure>
并总结结论。</li>
</ul>
<ol>
<li>新建一个组 , 组名为 group, 要求将 test1 目录的所属组改为 group 组 , 并将 test1 目录下的<br>所有文件的所属组都改为 group 组。</li>
</ol>
<h3 id="特殊权限作业"><a href="#特殊权限作业" class="headerlink" title="特殊权限作业"></a>特殊权限作业</h3><ol>
<li>在 /tmp/ 目录下创建一个 testdir 目录 , 要求任何人在该目录下 创建的文件都只能由自己或者目录<br>拥有者去删除 , 其余人不能够 去删除。</li>
<li>创建一个文件 , 让任何人执行这个文件时候 , 临时拥有文件拥 有者的权限。</li>
</ol>
<h3 id="ATTR-权限作业"><a href="#ATTR-权限作业" class="headerlink" title="ATTR 权限作业"></a>ATTR 权限作业</h3><ol>
<li>创建一个文件 , 文件名任意 , 要求 , 该文件的访问时间不被 修改 , 同时 , 该文件只能被追加内容 , 不允许被<br>修改和删除。 取消该文件的 Attr 权限。</li>
</ol>
<h3 id="ACL-权限作业"><a href="#ACL-权限作业" class="headerlink" title="ACL 权限作业"></a>ACL 权限作业</h3><ol>
<li>在 /tmp 下创建一个 file 文件 , 要求 student 用户对 file 有完整 的权限 ,kevin 用户对<br>file 有 rw- 的权限 ,carol 用户对 file 有 -wx 的权限 ,natasha 用户对该文件有 r– 的权限。</li>
<li>清空 file 的 attr 权限。</li>
</ol>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 rgweiyaping@hotmail.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>


<div class="article_copyright">
    <p><span class="copy-title">文章标题:</span>Linux 文件和目录</p>
    <p><span class="copy-title">文章字数:</span><span class="post-count">6.7k</span></p>
    <p><span class="copy-title">本文作者:</span><a  title="BoobooWei">BoobooWei</a></p>
    <p><span class="copy-title">发布时间:</span>2016-12-21, 20:06:27</p>
    <p><span class="copy-title">最后更新:</span>2020-03-23, 06:24:25</p>
    <span class="copy-title">原始链接:</span><a class="post-url" href="/2016/12/22/booboo_linux_base/03-Linux%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95/" title="Linux 文件和目录">http://www.toberoot.com/2016/12/22/booboo_linux_base/03-Linux%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95/</a>
    <p>
        <span class="copy-title">版权声明:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
    </p>
</div>



    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: 'af999a0c30ad557db57d',
            clientSecret: 'e8187ce46941faf83cd26f8d53e40f2cd63900a9',
            repo: 'booboowei.github.io',
            owner: 'booboowei',
            admin: ['booboowei'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>




    




    </div>
    <div class="copyright">
        <p class="footer-entry">©2018-2020 BoobooWei</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full"><span class="min "></span></button>
<button class="post-toc-menu"><span class="post-toc-menu-icons"></span></button>
<div class="post-toc"><span class="post-toc-title">目录</span>
    <div class="post-toc-content">

    </div>
</div>
<a class="" id="rocket" ></a>

    </div>
</div>
<div class="acParent"></div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.0.1" ></script>

<script src="/js/script.js?v=1.0.1" ></script>
<script>
    var img_resize = 'default';
    /*作者、标签的自动补全*/
    $(function () {
        $('.search').AutoComplete({
            'data': ['#宝宝成长','#培训','#LinuxShell脚本','#Linux基础服务','#Linux','#MySQL基础管理','#python','#数据救援','#锁故障','#hexo','#SQL优化','#RDS','#主从同步',],
            'itemHeight': 20,
            'width': 418
        }).AutoComplete('show');
    })
    function initArticle() {
        /*渲染对应的表格样式*/
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
        /* 渲染*/
        function HTMLDecode(text) {
            var temp = document.createElement("div");
            temp.innerHTML = text;
            var output = temp.innerText || temp.textContent;
            temp = null;
            return output;
        }
        if (window.mermaid){
            window.mermaid = null
        }
        $.getScript("//cdn.jsdelivr.net/npm/mermaid@8.4.2/dist/mermaid.min.js", function () {
            var mermaidOptions = JSON.parse(HTMLDecode("{&#34;theme&#34;:&#34;default&#34;,&#34;startOnLoad&#34;:true,&#34;flowchart&#34;:{&#34;useMaxWidth&#34;:false,&#34;htmlLabels&#34;:true}}"))
            if (window.mermaid) {
                mermaid.initialize(mermaidOptions)
                mermaid.contentLoaded()
            }
        })
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 622px;
    }
    .nav.fullscreen {
        margin-left: -622px;
    }
    .nav-left {
        width: 200px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
        .nav .hide-list.fullscreen {
            left: 492px
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
